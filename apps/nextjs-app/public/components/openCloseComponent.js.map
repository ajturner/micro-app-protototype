{"file":"openCloseComponent.js","mappings":"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","names":[],"sources":["../../node_modules/.pnpm/@esri+calcite-components@1.2.0/node_modules/@esri/calcite-components/dist/collection/utils/openCloseComponent.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.2.0\n */\nimport { readTask } from \"@stencil/core\";\nconst componentToTransitionListeners = new WeakMap();\nfunction transitionStart(event) {\n  if (event.propertyName === this.openTransitionProp && event.target === this.transitionEl) {\n    this.open ? this.onBeforeOpen() : this.onBeforeClose();\n  }\n}\nfunction transitionEnd(event) {\n  if (event.propertyName === this.openTransitionProp && event.target === this.transitionEl) {\n    this.open ? this.onOpen() : this.onClose();\n  }\n}\n/**\n * Helper to determine globally set transition duration on the given openTransitionProp, which is imported and set in the @Watch(\"open\").\n * Used to emit (before)open/close events both for when the opacity transition is present and when there is none (transition-duration is set to 0).\n *\n * @param component\n * @param nonOpenCloseComponent\n */\nexport function onToggleOpenCloseComponent(component, nonOpenCloseComponent = false) {\n  readTask(() => {\n    if (component.transitionEl) {\n      const allTransitionPropsArray = getComputedStyle(component.transitionEl).transition.split(\" \");\n      const openTransitionPropIndex = allTransitionPropsArray.findIndex((item) => item === component.openTransitionProp);\n      const transitionDuration = allTransitionPropsArray[openTransitionPropIndex + 1];\n      if (transitionDuration === \"0s\") {\n        (nonOpenCloseComponent ? component[component.transitionProp] : component.open)\n          ? component.onBeforeOpen()\n          : component.onBeforeClose();\n        (nonOpenCloseComponent ? component[component.transitionProp] : component.open)\n          ? component.onOpen()\n          : component.onClose();\n      }\n      else {\n        component.transitionEl.addEventListener(\"transitionstart\", () => {\n          (nonOpenCloseComponent ? component[component.transitionProp] : component.open)\n            ? component.onBeforeOpen()\n            : component.onBeforeClose();\n        }, { once: true });\n        component.transitionEl.addEventListener(\"transitionend\", () => {\n          (nonOpenCloseComponent ? component[component.transitionProp] : component.open)\n            ? component.onOpen()\n            : component.onClose();\n        }, { once: true });\n      }\n    }\n  });\n}\n/**\n * Helper to keep track of transition listeners on setTransitionEl and connectedCallback on OpenCloseComponent components.\n *\n * For component which do not have open prop, use `onToggleOpenCloseComponent` implementation.\n *\n * @param component\n */\nexport function connectOpenCloseComponent(component) {\n  disconnectOpenCloseComponent(component);\n  if (component.transitionEl) {\n    const boundOnTransitionStart = transitionStart.bind(component);\n    const boundOnTransitionEnd = transitionEnd.bind(component);\n    componentToTransitionListeners.set(component, [\n      component.transitionEl,\n      boundOnTransitionStart,\n      boundOnTransitionEnd\n    ]);\n    component.transitionEl.addEventListener(\"transitionstart\", boundOnTransitionStart);\n    component.transitionEl.addEventListener(\"transitionend\", boundOnTransitionEnd);\n  }\n}\n/**\n * Helper to tear down transition listeners on disconnectedCallback on OpenCloseComponent components.\n *\n * @param component\n */\nexport function disconnectOpenCloseComponent(component) {\n  if (!componentToTransitionListeners.has(component)) {\n    return;\n  }\n  const [transitionEl, start, end] = componentToTransitionListeners.get(component);\n  transitionEl.removeEventListener(\"transitionstart\", start);\n  transitionEl.removeEventListener(\"transitionend\", end);\n  componentToTransitionListeners.delete(component);\n}\n"],"version":3}