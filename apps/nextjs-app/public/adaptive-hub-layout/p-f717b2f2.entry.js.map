{"version":3,"sources":["../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/strings.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/enums.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/shared.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/utils.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/serialization.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/host-capabilities.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/host-config.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/registry.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/card-object.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/text-formatters.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/controls/constants.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/controls/menu-item.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/controls/collection.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/controls/popup-control.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/controls/popup-menu.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/controls/index.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/card-elements.js","../../node_modules/.pnpm/ssr-window@4.0.2/node_modules/ssr-window/ssr-window.esm.js","../../node_modules/.pnpm/dom7@4.0.6/node_modules/dom7/dom7.esm.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/dom.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/utils.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/get-support.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/get-device.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/get-browser.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/modules/resize/resize.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/modules/observer/observer.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/events-emitter.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/update/updateSize.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/update/updateSlides.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/update/updateAutoHeight.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/update/updateSlidesOffset.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/update/updateSlidesProgress.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/update/updateProgress.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/update/updateSlidesClasses.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/update/updateActiveIndex.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/update/updateClickedSlide.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/update/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/translate/getTranslate.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/translate/setTranslate.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/translate/minTranslate.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/translate/maxTranslate.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/translate/translateTo.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/translate/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/transition/setTransition.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/transition/transitionEmit.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/transition/transitionStart.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/transition/transitionEnd.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/transition/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/slide/slideTo.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/slide/slideToLoop.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/slide/slideNext.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/slide/slidePrev.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/slide/slideReset.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/slide/slideToClosest.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/slide/slideToClickedSlide.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/slide/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/loop/loopCreate.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/loop/loopFix.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/loop/loopDestroy.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/loop/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/grab-cursor/setGrabCursor.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/grab-cursor/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/events/onTouchStart.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/events/onTouchMove.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/events/onTouchEnd.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/events/onResize.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/events/onClick.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/events/onScroll.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/events/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/breakpoints/setBreakpoint.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/breakpoints/getBreakpoint.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/breakpoints/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/classes/addClasses.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/classes/removeClasses.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/classes/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/images/loadImage.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/images/preloadImages.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/images/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/check-overflow/index.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/defaults.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/moduleExtendParams.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/core/core.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/virtual/virtual.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/keyboard/keyboard.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/mousewheel/mousewheel.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/create-element-if-not-defined.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/navigation/navigation.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/classes-to-selector.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/pagination/pagination.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/scrollbar/scrollbar.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/parallax/parallax.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/zoom/zoom.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/lazy/lazy.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/controller/controller.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/a11y/a11y.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/history/history.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/hash-navigation/hash-navigation.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/autoplay/autoplay.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/thumbs/thumbs.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/free-mode/free-mode.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/grid/grid.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/manipulation/methods/appendSlide.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/manipulation/methods/prependSlide.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/manipulation/methods/addSlide.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/manipulation/methods/removeSlide.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/manipulation/methods/removeAllSlides.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/manipulation/manipulation.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/effect-init.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/effect-target.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/effect-virtual-transition-end.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/effect-fade/effect-fade.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/effect-cube/effect-cube.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/shared/create-shadow.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/effect-flip/effect-flip.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/effect-coverflow/effect-coverflow.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/effect-creative/effect-creative.js","../../node_modules/.pnpm/swiper@8.4.7/node_modules/swiper/modules/effect-cards/effect-cards.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/carousel.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/table.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/channel-adapter.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/activity-request.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/adaptive-applet.js","../../node_modules/.pnpm/adaptivecards@2.11.2_swiper@8.4.7/node_modules/adaptivecards/lib/adaptivecards.js","src/components/hub-layout-card/hub-layout-card.css?tag=hub-layout-card&encapsulation=shadow","src/components/hub-layout-card/hub-layout-card.tsx","src/components/hub-layout-section/hub-layout-section.css?tag=hub-layout-section&encapsulation=shadow","src/components/hub-layout-section/hub-layout-section.tsx"],"names":["Object","defineProperty","exports","value","Strings","errors","unknownElementType","typeName","concat","unknownActionType","elementTypeNotAllowed","actionTypeNotAllowed","invalidPropertyValue","propertyName","showCardMustHaveCard","invalidColumnWidth","invalidWidth","invalidCardVersion","defaultingToVersion","invalidVersionString","versionString","propertyValueNotSupported","supportedInVersion","versionUsed","propertyNotSupported","indexOutOfRange","index","elementCannotBeUsedAsInline","inlineAlreadyParented","interactivityNotAllowed","inputsMustHaveUniqueId","choiceSetMustHaveAtLeastOneChoice","choiceSetChoicesMustHaveTitleAndValue","propertyMustBeSet","actionHttpHeadersMustHaveNameAndValue","tooManyActions","maximumActions","tooLittleTimeDelay","minAutoplayDelay","tooManyCarouselPages","maxCarouselPages","invalidInitialPageIndex","initialPageIndex","columnAlreadyBelongsToAnotherSet","invalidCardType","unsupportedCardVersion","version","maxSupportedVersion","duplicateId","id","markdownProcessingNotEnabled","processMarkdownEventRemoved","elementAlreadyParented","actionAlreadyParented","elementTypeNotStandalone","invalidInputLabelWidth","magicCodeInputCard","tryAgain","pleaseLogin","enterMagicCode","pleaseEnterMagicCodeYouReceived","submit","cancel","somethingWentWrong","authenticationFailed","runtime","automaticRefreshPaused","clckToRestartAutomaticRefresh","refreshThisCard","hints","dontUseWeightedAndStrecthedColumnsInSameSet","defaults","inlineActionTitle","overflowButtonText","overflowButtonTooltip","mediaPlayerAriaLabel","mediaPlayerPlayMedia","youTubeVideoPlayer","vimeoVideoPlayer","dailymotionVideoPlayer","carouselNavigationPreviousTooltip","carouselNavigationNextTooltip","CarouselInteractionEvent","LogLevel","RefreshMode","TypeErrorType","ContainerFitStatus","ValidationEvent","ValidationPhase","InputLabelPosition","InputTextStyle","ActionIconPlacement","FillMode","Orientation","ShowCardActionMode","ImageStyle","ActionAlignment","VerticalAlignment","HorizontalAlignment","TextColor","Spacing","FontType","TextWeight","InputStyle","TextSize","SizeUnit","ImageSetPresentationStyle","ImageSize","Size","ActionMode","ActionStyle","ContainerStyle","Default","Emphasis","Accent","Good","Attention","Warning","Positive","Destructive","Primary","Secondary","UUID","SizeAndUnit","PaddingDefinition","SpacingDefinition","StringWithSubstitutions","ContentTypes","GlobalSettings","useAdvancedTextBlockTruncation","useAdvancedCardBottomTruncation","useMarkdownInRadioButtonAndCheckbox","allowMarkForTextHighlighting","alwaysBleedSeparators","enableFullJsonRoundTrip","displayInputValidationErrors","allowPreProcessingPropertyValues","setTabIndexAtCardRoot","enableFallback","useWebkitLineClamp","allowMoreThanMaxActionsInOverflowMenu","removePaddingFromContainersWithBackgroundImage","resetInputsDirtyStateAfterActionExecution","applets","logEnabled","logLevel","Enums","Error","maximumRetryAttempts","defaultTimeBetweenRetryAttempts","authPromptWidth","authPromptHeight","refresh","mode","Manual","timeBetweenAutomaticRefreshes","maximumConsecutiveAutomaticRefreshes","allowManualRefreshesAfterAutomaticRefreshes","applicationJson","applicationXWwwFormUrlencoded","this","_isProcessed","prototype","getReferencedInputs","inputs","referencedInputs","_original","_i","inputs_1","length","input","matches","RegExp","exec","substituteInputValues","contentType","_processed","regEx","_a","keys","key","toLowerCase","matchedInput","valueForReplace","JSON","stringify","slice","encodeURIComponent","replace","getOriginal","get","set","top","right","bottom","left","None","physicalSize","unit","parse","requireUnitSpecifier","result","Weight","regExp","expectedMatchCount","parseInt","Pixel","generate","d0","Math","random","d1","d2","d3","lut","initialize","i","toString","addCancelSelectActionEventHandler","clearElementChildren","getScrollY","getScrollX","getFitStatus","truncate","truncateText","stringToCssColor","parseEnum","getEnumValueByName","parseBool","parseNumber","parseString","appendChild","generateUniqueId","isMobileOS","isInternetExplorer","window","document","documentMode","undefined","userAgent","navigator","match","Shared","node","child","obj","defaultValue","enumType","name","keyAsNumber","enumValue","color","a","r","g","b","truncateWorker","element","maxHeight","fullText","truncateAt","lineHeight","fits","scrollHeight","breakableIndices","findBreakableIndices","lo","hi","bestBreakIdx","mid","floor","idx","findNextCharacter","innerText","text","substring","ttDeprecatedPolicy","trustedTypes","createPolicy","createHTML","innerHTML","truncatedString","truncatedHTML","html","results","push","currIdx","containerEnd","start","offsetTop","end","clientHeight","FullyInContainer","Overflowing","FullyOutOfContainer","pageXOffset","pageYOffset","firstChild","removeChild","onclick","e","preventDefault","cancelBubble","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","TypeError","String","__","constructor","create","SerializableObject","property","SerializableObjectSchema","CustomProperty","SerializableObjectCollectionProperty","SerializableObjectProperty","EnumProperty","ValueSetProperty","StringArrayProperty","PixelSizeProperty","NumProperty","BoolProperty","StringProperty","PropertyDefinition","BaseSerializationContext","isVersionLessOrEqual","Versions","Version","major","minor","label","_isValid","_major","_minor","_label","context","_versionString","logParseEvent","InvalidPropertyValue","strings_1","toJSON","compareTo","otherVersion","isValid","enumerable","configurable","getAllDeclaredVersions","ctor","properties","propertyValue","sort","v1","v2","v1_0","v1_1","v1_2","v1_3","v1_4","v1_5","v1_6","latest","targetVersion","_validationEvents","isTemplateString","startsWith","tryDeleteValue","target","shared_1","tryDeleteDefaultValue","serializeValue","forceDeleteIfNullOrDefault","serializeString","serializeBool","serializeNumber","isNaN","serializeEnum","serializeArray","items","propertyValue_1","item","serializedItem","isArray","clearEvents","logEvent","source","phase","event","message","Parse","getEventAt","SimpleSerializationContext","_super","apply","arguments","onGetInitialValue","isSerializationEnabled","sequentialNumber","_sequentialNumber","getInternalName","sender","treatEmptyAsUndefined","_this","parsedValue","Utils","isUndefined","size","sourceValue","sourceValue_1","values","isValidValue","versionedValue","invalidValue","ToJSON","_values","objectType","nullable","serializedValue","hasAllDefaultValues","onItemAdded","sourceCollection","sourceCollection_1","sourceItem","onParse","onToJSON","_properties","indexOf","prop","add","properties_1","remove","properties_2","splice","getItemAt","getCount","propertyKey","descriptor","getOwnPropertyDescriptor","getValue","setValue","_propertyBag","_rawProperties","maxVersion","defaultMaxVersion","s","getSchema","getDefaultSerializationContext","populateSchema","schema","sortedProperties","p1","p2","onRegisterCustomProperties","internalParse","UnsupportedProperty","resetDefaultValues","internalToJSON","serializedProperties","shouldSerialize","_context","effectiveContext","toJSONOriginalParam","hasDefaultValue","setCustomProperty","shouldDeleteProperty","getCustomProperty","_schemaCache","getSchemaKey","HostCapabilities","_capabilities","name_1","jsonVersion","addCapability","serialization_1","removeCapability","clear","hasCapability","areAllMet","hostCapabilities","capabilityName","defaultHostConfig","HostConfig","CarouselConfig","FontTypeSet","FontTypeDefinition","ContainerStyleSet","ContainerStyleDefinition","ColorSetDefinition","ActionsConfig","ShowCardActionConfig","FactSetConfig","FactTitleDefinition","FactTextDefinition","InputConfig","InputLabelConfig","RequiredInputLabelTextDefinition","TextBlockConfig","TextStyleSet","TextStyleDefinition","BaseTextDefinition","TableConfig","MediaConfig","ImageSetConfig","AdaptiveCardConfig","TextColorDefinition","ColorDefinition","parseHostConfigEnum","targetEnum","defaultColor","subtleColor","default","subtle","highlightColors","allowCustomStyle","imageSize","Medium","maxImageHeight","allowInlinePlayback","defaultPoster","cellSpacing","isSubtle","weight","getDefaultWeight","fontType","heading","columnHeader","getStyleByName","headingLevel","suffix","suffixColor","inputSpacing","Small","width","requiredInputs","optionalInputs","errorMessage","wrap","maxWidth","Bolder","title","spacing","actionMode","Inline","inlineTopMargin","style","maxActions","buttonSpacing","showCard","preExpandSingleShowCardAction","actionsOrientation","Horizontal","actionAlignment","Left","iconPlacement","LeftOfTitle","allowTitleToWrap","iconSize","sizeAndUnit","dark","light","accent","good","warning","attention","parseSingleColor","foregroundColors","backgroundColor","highlightBackgroundColor","highlightForegroundColor","borderColor","BuiltInContainerStyleDefinition","_allStyles","customStyleArray","customStyleArray_1","customStyle","styleName","forEach","isBuiltIn","emphasis","customStyles","fontFamily","fontSizes","small","medium","large","extraLarge","fontWeights","lighter","bolder","monospace","getStyleDefinition","Monospace","host_capabilities_1","choiceSetInputValueSeparator","supportsInteractivity","padding","separator","lineThickness","lineColor","imageSizes","containerStyles","actions","adaptiveCard","imageSet","media","factSet","table","textStyles","textBlock","carousel","alwaysAllowBleed","_legacyFontType","fontTypes","lineHeights","getFontTypeDefinition","getEffectiveSpacing","Large","ExtraLarge","Padding","paddingDefinitionToSpacingDefinition","paddingDefinition","makeCssClassNames","classNames","classNames_1","className","cssClassNamePrefix","makeCssClassName","join","minAutoplayDuration","GlobalRegistry","CardObjectRegistry","_items","findByName","copyTo","keys_1","typeRegistration","register","schemaVersion","registrationInfo","unregister","createInstance","getItemCount","map","populateWithDefaultElements","registry","defaultElements","populateWithDefaultActions","defaultActions","_elements","_actions","reset","__decorate","decorators","desc","c","Reflect","decorate","CardObject","ValidationResults","allIds","validationEvents","addFailure","cardObject","Validation","_shouldFallback","getJsonTypeName","requiresProperty","contains","_renderedElement","preProcessPropertyValue","currentObject","onPreProcessPropertyValue","parent","setParent","_parent","setShouldFallback","shouldFallback","requires","hostConfig","getRootObject","internalValidateProperties","DuplicateId","validateProperties","findDOMNodeOwner","releaseDOMResources","typeNameProperty","idProperty","formatText","AbstractTextFormatter","regularExpression","_regularExpression","format","lang","internalFormat","DateFormatter","date","Date","toLocaleDateString","day","weekday","month","year","TimeFormatter","toLocaleTimeString","hour","minute","formatters","formatters_1","formatter","Constants","tab","enter","escape","space","up","down","delete","MenuItem","_isEnabled","_value","click","isEnabled","onClick","updateCssClasses","_element","effectiveHostConfig","_hostConfig","host_config_1","classList","render","createElement","setAttribute","onmouseup","_e","onkeydown","constants_1","newValue","Collection","onItemRemoved","PopupControl","_isOpen","keyDown","closePopup","_rootElementBounds","tabIndex","renderContent","focus","_popupElement","firstElementChild","popup","rootElement","_b","_c","_d","_f","_overlayElement","documentElement","scrollWidth","height","onfocus","body","rootElementBounds","getBoundingClientRect","addEventListener","rootElementLabel","getAttribute","popupElementBounds","availableSpaceBelow","innerHeight","availableSpaceAbove","availableSpaceRight","innerWidth","availableSpaceLeft","top_1","actualPopupHeight","min","actualPopupWidth","wasCancelled","onClose","PopupMenu","collection_1","_renderedItems","_selectedIndex","renderedItem","selectedIndex","selectedItemIndex","popup_control_1","__createBinding","o","m","k","k2","__esModule","writable","__exportStar","require$$0","require$$1","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","rejected","done","then","__generator","_","sent","t","trys","ops","f","y","verb","throw","return","Symbol","iterator","n","v","op","pop","ContainerWithActions","ColumnSet","Column","Container","BackgroundImage","ContainerBase","StylableCardElementContainer","ContainerStyleProperty","ActionSet","ShowCardAction","HttpAction","HttpHeader","ToggleVisibilityAction","OpenUrlAction","ExecuteAction","SubmitAction","SubmitActionBase","Action","TimeInput","TimeProperty","DateInput","NumberInput","ChoiceSetInput","Choice","ToggleInput","TextInput","Input","Media","YouTubePlayer","DailymotionPlayer","VimeoPlayer","IFrameMediaMediaPlayer","CustomMediaPlayer","HTML5MediaPlayer","MediaPlayer","MediaSource","CaptionSource","ContentSource","ImageSet","CardElementContainer","Image","FactSet","Fact","RichTextBlock","TextRun","TextBlock","BaseTextBlock","ActionProperty","CardElement","renderSeparation","SerializationContext","AdaptiveCard","Authentication","TokenExchangeResource","AuthCardButton","RefreshDefinition","RefreshActionProperty","clearElement","trustedHtml","emptyHTML","separationDefinition","orientation","paddingTop","marginBottom","borderBottom","paddingLeft","marginRight","borderRight","overflow","flex","_truncatedDueToOverflow","langProperty","isVisibleProperty","undoOverflowTruncation","isVisible","updateRenderedElementVisibility","raiseElementVisibilityChangedEvent","internalRenderSeparator","renderedSeparator","separatorOrientation","parentContainer","getParentContainer","getEffectivePadding","parentPhysicalPadding","marginLeft","displayMode","isDesignMode","_defaultRenderedElementDisplayMode","display","removeProperty","_separatorElement","isFirstElement","hideElementDueToOverflow","visibility","showElementHiddenDueToOverflow","handleOverflow","isHiddenDueToOverflow","handled","truncateOverflow","resetOverflow","sizeChanged","createPlaceholderElement","styleDefinition","getEffectiveStyleDefinition","foregroundCssColor","border","minHeight","fontSize","adjustRenderedElementSize","renderedElement","updateInputsVisualState","hover","allInputs","getAllInputs","inputEventType","InputEventType","MouseEnterOnCard","MouseLeaveOnCard","updateVisualState","isDisplayed","offsetHeight","overrideInternalRender","internalRender","applyPadding","separatorElement","isBleeding","getImmediateSurroundingPadding","physicalPadding","_maxHeight","getDefaultPadding","getHasBackground","ignoreBackgroundImages","getHasBorder","getPadding","_padding","setPadding","elementRegistry","asString","getEffectiveStyle","defaultStyle","getEffectiveTextStyleDefinition","getForbiddenActionTypes","processTop","processRight","processBottom","processLeft","doProcessTop","isTopElement","doProcessRight","isRightMostElement","doProcessBottom","isBottomElement","doProcessLeft","isLeftMostElement","effectivePadding","getActionCount","getActionAt","indexOfAction","action","removeItem","customCssSelector","boxSizing","updateLayout","_processChildren","updateActionsEnabledState","allActions","getRootElement","getAllActions","allActions_1","updateEnabledState","_cardElement","designMode","isLastElement","isAtTheVeryLeft","isAtTheVeryRight","isAtTheVeryTop","isAtTheVeryBottom","isBleedingAtTop","isBleedingAtBottom","currentElement","processActions","getResourceInformation","getElementById","getActionById","_id","getElementByIdFromAction","card","getEffectiveHorizontalAlignment","horizontalAlignment","separatorProperty","heightProperty","horizontalAlignmentProperty","spacingProperty","card_object_1","forbiddenActionTypes","parseAction","ariaHidden","selectActionProperty","textProperty","setText","getFontSize","effectiveSize","getColorDefinition","colorSet","Dark","Light","init","textDefinition","applyStylesTo","targetElement","effectiveFontType","colorDefinition","effectiveColor","targetColor","effectiveIsSubtle","fontWeight","effectiveWeight","Lighter","selectAction","sizeProperty","weightProperty","colorProperty","isSubtleProperty","fontTypeProperty","_treatAsPlainText","useMarkdown","restoreOriginalContent","maxLines","_computedLineHeight","originalHtml","_ttRoundtripPolicy","_originalInnerHtml","truncateIfSupported","children","isTextOnly","truncationSupported","tagName","_processedText","preProcessedText","forElementId","labelElement","htmlFor","isEffectivelyEnabled","execute","setupElementForAccessibility","formattedText","TextFormatters","markdownProcessingResult","applyMarkdown","didProcess","outputHtml","markStyle","effectiveStyle","processedHtml","_ttMarkdownPolicy","HTMLElement","marginTop","textOverflow","lastElementChild","anchors","getElementsByTagName","_loop_1","anchor","raiseAnchorClickedEvent","oncontextmenu","from","wordWrap","webkitBoxOrient","webkitLineClamp","whiteSpace","Center","textAlign","Right","processChildren","wrapProperty","maxLinesProperty","styleProperty","italic","strikethrough","highlight","underline","href","getHref","fontStyle","textDecoration","italicProperty","strikethroughProperty","highlightProperty","underlineProperty","_inlines","internalAddInline","inline","forceAdd","isInline","doAdd","jsonInline","textRun","parseElement","jsonInlines","renderedInlines","renderedInline","getInlineCount","getInlineAt","addInline","removeInline","titleProperty","valueProperty","facts","borderWidth","borderSpacing","borderStyle","borderCollapse","trElement","tdElement","verticalAlign","factsProperty","ImageDimensionProperty","internalName","fallbackProperty","Auto","applySize","pixelWidth","pixelHeight","Stretch","url","alignItems","justifyContent","imageElement","renderedImageElement","onload","raiseImageLoadedEvent","onerror","errorElement","minWidth","onkeypress","code","Person","borderRadius","backgroundPosition","backgroundRepeat","setImageSource","altTextProperty","alt","mimeType","imageForceLoader","ImageForceLoader","forceLoad","configureImage","src","urlProperty","resetImage","backgroundColorProperty","pixelWidthProperty","pixelHeightProperty","shouldForceLoadProperty","doForceLoad","uniqueHash","now","urlWithForceLoadOption","image","allowVerticalOverflow","isSelectable","isElementAllowed","isInteractive","paddingRight","paddingBottom","forbiddenChildElements","InteractivityNotAllowed","_selectAction","overflowX","overflowY","_images","presentationStyle","pixelOffset","flexWrap","renderedImage","margin","Stacked","applyStackedPresentationStyle","dimension","StackedImageConfigurator","parseNumericPixelDimension","bgColor","getEffectiveBackgroundColor","stackedImageConfigurator","configureImagesArrayAsStackedLayout","getFirstVisibleRenderedItem","getLastVisibleRenderedItem","itemIndex","addImage","cardElement","imagesProperty","imageSizeProperty","imagePresentationStyle","offset","sign45","maxImageCounts","normalizationConstant","max","moveImageRight","moveImageUp","moveImageDown","makeImageRound","applyBorder","configureImageForBottomLeft","zIndex","configureImageForTopRight","elements","mimeTypeProperty","kind","labelProperty","type","play","_posterUrl","owner","_selectedSources","_captionSources","processSources","_selectedMediaType","sources","mimeComponents","split","supportedMediaTypes","captionSources","canPlay","fetchVideoDetails","_mediaElement","altText","autoplay","controls","muted","preload","renderedSource","captionSource","renderedCaptionSource","iFrameTitle","_videoId","container","position","iFrame","getEmbedVideoUrl","frameBorder","allow","allowFullscreen","oEmbedUrl","response","json","fetch","ok","posterUrl","videoId","apiUrl","_startTimeIndex","createMediaPlayer","customMediaPlayers","provider","urlPatterns","pattern","handlePlayButtonInvoke","mediaPlayerElement","_mediaPlayer","onPlay","displayPoster","playButtonArrowWidth","playButtonArrowHeight","posterRootElement_1","posterImageElement_1","playButtonOuterElement","playButtonInnerElement","playButtonContainer","poster","parentNode","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopColor","borderRightColor","borderBottomColor","transform","mediaSource","selectedMediaType","sourcesProperty","captionSourcesProperty","posterProperty","inputStyle","getAllLabelIds","labelIds","labelledBy","_renderedLabelElement","_renderedErrorMessageElement","updateInputControlAriaLabelledBy","_renderedInputControlElement","removeAttribute","_inputControlContainerElement","_outerContainerElement","labelPosition","flexDirection","renderedInputControlId","labelRichTextBlock","labelInline","isRequired","isRequiredCueInline","alignSelf","isNullable","labelWidth","defaultLabelWidth","labelWidthInPercent","labelWidthInPixel","InitialRender","onblur","ev","FocusLeave","resetDirtyState","valueChanged","resetValidationFailureCue","onValueChanged","raiseInputValueChangedEvent","renderedInputControlElement","showValidationErrorMessage","errorMessageTextBlock","eventType","RevealOnHover","isDirty","_oldValue","PropertyCantBeNull","RequiredInputsShouldHaveLabel","RequiredInputsShouldHaveErrorMessage","validateValue","isSet","isRequiredProperty","errorMessageProperty","inputStyleProperty","labelWidthProperty","invalidLabelWidth","labelPositionProperty","Above","isMultiline","Text","setupInput","placeholder","maxLength","oninput","ctrlKey","inlineAction","Password","renderedInputControl","button_1","iconUrl","icon_1","textContent","inputControlContainerElement","regex","test","maxLengthProperty","isMultilineProperty","placeholderProperty","Tel","Url","Email","inlineActionProperty","regexProperty","valueOn","valueOff","_checkboxInputElement","joinedLabelIds","_checkboxInputLabelElement","checked","_oldCheckboxValue","onchange","spacerElement","valueOnProperty","valueOffProperty","isMultiSelect","choices","getUniqueCategoryName","uniqueCategoryName","_uniqueCategoryCounter","createPlaceholderOptionWhenValueDoesNotExist","placeholderOption","selected","disabled","hidden","internalApplyAriaCurrent","_selectElement","options","option","renderCompoundInput","cssClassName","defaultValues","_toggleInputs","_labels","choice","_uniqueCategoryName","compoundInput","inputContainer","_textInput","dataList","append","isCompact","hideDropDownPicker","shouldHideInputAdornersForRevealOnHover","appearance","CollectionCantBeEmpty","toggleInput","choicesProperty","isMultiSelectProperty","_numberInputElement","valueAsNumber","minProperty","maxProperty","_dateInputElement","hideDatePicker","updateInputAdornersVisibility","valueAsDate","minDate","maxDate","convertTimeStringToDate","timeString","_timeInputElement","hideTimePicker","_state","_isFocusable","renderButtonContent","titleElement","AboveTitle","iconElement","parentContainerStyle","isFocusable","internalGetReferencedInputs","internalPrepareForExecution","_inputs","internalValidateInputs","actionRegistry","raiseExecuteActionEvent","onExecute","internalAfterExecute","rootObject","getAriaRole","promoteTooltipToLabel","HTMLButtonElement","tooltip","buttonElement","_actionCollection","actionExecuted","prepareForExecution","invalidInputs","removeAction","validateInputs","iconUrlProperty","modeProperty","tooltipProperty","isEnabledProperty","disabledUnlessAssociatedInputsChange","_isPrepared","_areReferencedInputsDirty","associatedInputs","current","_originalData","_processedData","resetReferencedInputsDirtyState","dataProperty","associatedInputsProperty","disabledUnlessAssociatedInputsChangeProperty","JsonTypeName","verbProperty","targetElements","updateAriaControlsAttribute","elementIds","elementId","addTargetElement","removeTargetElement","targetElementsProperty","StringWithSubstitutionProperty","nameProperty","_ignoreInputValidation","_url","headers","header","_body","bodyProperty","methodProperty","headersProperty","ignoreInputValidationProperty","InlineAdaptiveCard","state","jsonCard","Popup","OverflowAction","getActions","shouldDisplayPopupMenu","raiseDisplayOverflowActionMenuEvent","contextMenu_1","controls_1","_loop_2","menuItem","this_1","actionToExecute","ActionCollection","_renderedActions","_owner","isActionAllowed","forbiddenTypes","forbiddenTypes_1","forbiddenType","refreshContainer","_actionCardContainer","_actionCard","renderedActionCount","layoutChanged","showActionCard","suppressStyle","raiseEvent","renderedCard","_expandedAction","raiseInlineCardExpandedEvent","collapseExpandedAction","previouslyExpandedAction","expandShowCardAction","afterSelectedAction","renderedAction","ra","source_1","jsonAction","forbiddenActions","getForbiddenActionNames","addAction","TooManyActions","ActionTypeNotAllowed","buttonStrip","allowedActions","filter","bind","primaryActions_1","secondaryActions_1","overflowPrimaryActions","shouldRenderOverflowActionButton","_overflowAction","isRootAction","raiseRenderOverflowActionsEvent","spacer","buttonStripContainer","expandedAction","actionIndex","orientationProperty","applyBackground","surroundingPadding","currentElementHasBackgroundImage","backgroundImage","hasExplicitStyle","explicitStyle","_bleed","minPixelHeight","getHasExpandedAction","getBleed","setBleed","bleedProperty","minHeightProperty","fillMode","Repeat","RepeatHorizontally","RepeatVertically","Cover","backgroundSize","backgroundPositionX","verticalAlignment","Top","backgroundPositionY","Bottom","fillModeProperty","verticalAlignmentProperty","backgroundImageProperty","insertItemAt","forceInsert","isStandalone","getItemsCollectionPropertyName","applyRTL","rtl","dir","getEffectiveVerticalContentAlignment","placeholderElement","boundary_1","handleElement_1","elt","containerMaxHeight","jsonItems","jsonItems_1","collectionPropertyName","verticalContentAlignment","isRtl","firstRenderedItem","lastRenderedItem","addItem","insertItemBefore","insertBefore","insertItemAfter","insertAfter","verticalContentAlignmentProperty","rtlProperty","_computedWeight","minDesignTimeColumnHeight","Vertical","widthProperty","_columns","createColumnInstance","parseCardObject","_errorType","ElementTypeNotAllowed","_renderedColumns","totalWeight","column","computedWeight","renderedColumn","jsonColumns","jsonColumns_1","getColumnAt","weightedColumns","stretchedColumns","Hint","addColumn","onImageLoadedHandler","onImageLoaded","onAnchorClickedHandler","onAnchorClicked","onExecuteActionHandler","onExecuteAction","isExpanded","onInlineCardExpandedHandler","onInlineCardExpanded","onInputValueChangedHandler","onInputValueChanged","shouldUpdateLayout","onElementVisibilityChangedHandler","onElementVisibilityChanged","hide","readOnly","required","isInputInFocus","activeElement","isMouseOverCard","hideInputAdorners","onDisplayOverflowActionMenuHandler","onDisplayOverflowActionMenu","isAtRootLevelActions","onRenderOverflowActionsHandler","onRenderOverflowActions","parseActions","renderedActions","renderIfEmpty","actionProperty","userIdsProperty","typeProperty","imageProperty","uriProperty","providerIdProperty","connectionNameProperty","buttonsProperty","tokenExchangeResourceProperty","refreshProperty","onProcessMarkdown","markdownit","markdownIt","_haveWarnedAboutNoMarkdownProcessing","console","warn","isVersionSupported","bypassVersionCheck","unsupportedVersion","_fallbackCard","fallbackElement","versionProperty","MissingCardType","UnsupportedCardVersion","speak","onmouseenter","onmouseleave","schemaUrl","$schemaProperty","fallbackTextProperty","speakProperty","authenticationProperty","_forbiddenTypes","Set","internalParseCardObject","allowFallback","createInstanceCallback","oldForbiddenTypes_1","has","ForbiddenType","tryToFallback","UnknownType","fallback","cardObjectParsed","onParseAction","onParseElement","forbiddenTypeNames","errorType","UnknownElementType","UnknownActionType","_elementRegistry","registry_1","setElementRegistry","_actionRegistry","setActionRegistry","isObject","extend","ssrDocument","[object Object]","nodeName","childNodes","location","hash","host","hostname","origin","pathname","protocol","search","getDocument","doc","ssrWindow","history","CustomEvent","screen","callback","setTimeout","clearTimeout","getWindow","win","makeReactive","proto","Dom7","super","arrayFlat","arr","res","el","arrayFilter","arrayUnique","uniqueArray","qsa","selector","querySelectorAll","$","trim","toCreate","tempParent","nodeType","fn","addClass","classes","removeClass","toggleClass","toggle","hasClass","attr","attrs","attrName","removeAttr","transition","duration","transitionDuration","on","args","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","unshift","is","parents","handleEvent","events","j","dom7Listeners","proxyListener","dom7LiveListeners","off","handlers","handler","removeEventListener","dom7proxy","trigger","evt","detail","bubbles","cancelable","data","dataIndex","dispatchEvent","transitionEnd","dom","fireCallBack","outerWidth","includeMargins","styles","offsetWidth","parseFloat","getPropertyValue","outerHeight","box","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","getComputedStyle","css","props","each","compareWith","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","els","newChild","tempDiv","prepend","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","closest","find","foundElements","found","Methods","methodName","deleteProps","object","nextTick","delay","currentStyle","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","m41","m42","isNode","to","noExtend","nextSource","keysArray","nextIndex","len","nextKey","__swiper__","setCSSProperty","varName","varValue","setProperty","animateCSSModeScroll","swiper","targetPosition","side","startPosition","translate","startTime","time","params","speed","wrapperEl","scrollSnapType","cancelAnimationFrame","cssModeFrameID","isOutOfBound","animate","getTime","progress","easeProgress","cos","PI","currentPosition","scrollTo","requestAnimationFrame","support","calcSupport","smoothScroll","touch","DocumentTouch","passiveListener","checkPassiveListener","supportsPassive","opts","gestures","checkGestures","getSupport","deviceCached","calcDevice","platform","ua","device","ios","android","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","iPadScreens","os","getDevice","overrides","browser","calcBrowser","isSafari","isWebView","getBrowser","Resize","emit","observer","animationFrame","resizeHandler","destroyed","initialized","createObserver","ResizeObserver","entries","newWidth","newHeight","contentBoxSize","contentRect","inlineSize","blockSize","observe","removeObserver","unobserve","orientationChangeHandler","resizeObserver","Observer","extendParams","observers","attach","ObserverFunc","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","attributes","childList","characterData","observeParents","containerParents","$el","observeSlideChildren","$wrapperEl","destroy","disconnect","eventsEmitter","priority","self","eventsListeners","method","onceHandler","__emitterProxy","eventsAnyListeners","eventHandler","eventsArray","updateSize","clientWidth","isHorizontal","isVertical","Number","assign","updateSlides","getDirectionLabel","margin-top","margin-bottom ","margin-left","margin-right","padding-left","padding-right","getDirectionPropertyValue","swiperSize","rtlTranslate","wrongRTL","isVirtual","virtual","enabled","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","centeredSlides","cssMode","gridEnabled","grid","rows","initSlides","slideSize","shouldResetSlideSize","slidesPerView","breakpoints","slide","updateSlide","slideStyles","currentTransform","currentWebKitTransform","roundLengths","swiperSlideSize","abs","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","backFaceHiddenClass","containerModifierClass","hasClassBackfaceClassAdded","maxBackfaceHiddenSlides","updateAutoHeight","activeSlides","setTransition","getSlideByIndex","visibleSlides","ceil","activeIndex","swiperSlideOffset","offsetLeft","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","realIndex","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","activeSlide","loop","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","update","getSwiperTranslate","virtualTranslate","currentTranslate","setTranslate","byController","x","z","previousTranslate","newProgress","translateTo","runCallbacks","translateBounds","internal","animating","preventInteractionOnTransition","newTranslate","isH","behavior","onTranslateToWrapperTransitionEnd","transitionEmit","direction","transitionStart","slideTo","initial","indexAsNumber","isValidNumber","isFinite","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","_immediateVirtual","_swiperImmediateVirtual","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","rewind","slidePrev","normalize","val","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","lastIndex","slideReset","slideToClosest","threshold","currentSnap","nextSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","loopedSlidesLimit","prependSlides","appendSlides","cloneNode","snapTranslate","diff","slideChanged","loopDestroy","setGrabCursor","moving","simulateTouch","isLocked","touchEventsTarget","cursor","unsetGrabCursor","grabCursor","closestElement","base","__closestFrom","assignedSlot","getRootNode","onTouchStart","touchEventsData","touches","originalEvent","$targetEl","isTouchEvent","which","button","isTouched","isMoved","swipingClassHasValue","noSwipingClass","eventPath","composedPath","path","shadowRoot","noSwipingSelector","isTargetShadow","noSwiping","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","blur","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","freeMode","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","sqrt","touchAngle","atan2","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","onTouchEnd","touchEndTime","timeDiff","pathTree","lastClickTime","currentPos","stopIndex","groupSize","rewindFirstIndex","rewindLastIndex","ratio","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","isNavButtonTarget","navigation","nextEl","prevEl","onResize","setBreakpoint","running","paused","run","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","dummyEventAttached","dummyEventListener","touchEvents","domMethod","swiperMethod","move","passiveListeners","passive","updateOnWindowResize","attachEvents","detachEvents","events$1","isGridEnabled","breakpoint","getBreakpoint","breakpointsBase","currentBreakpoint","breakpointOnlyParams","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","emitContainerClasses","fill","wasModuleEnabled","isModuleEnabled","disable","enable","directionChanged","needsReLoop","changeDirection","containerEl","currentHeight","points","point","minRatio","substr","matchMedia","prepareClasses","prefix","resultClasses","addClasses","suffixes","pointer-events","free-mode","autoheight","grid-column","css-mode","centered","watch-progress","removeClasses","loadImage","imageEl","srcset","sizes","checkForComplete","onReady","isPicture","complete","preloadImages","imagesToLoad","imagesLoaded","updateOnImagesReady","currentSrc","images","wasLocked","lastSlideIndex","lastSlideRightEdge","checkOverflow$1","initialSlide","createElements","uniqueNavElements","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","extendedDefaults","Swiper","swipers","newParams","modules","__modules__","mod","once","swiperParams","passedParams","eventName","onAny","velocity","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","cls","slideEl","updates","getSlideClasses","view","exact","spv","breakLoop","slideInView","translateValue","translated","newDirection","needUpdate","currentDirection","mounted","getWrapperSelector","getWrapper","querySelector","wrapper","mount","deleteInstance","cleanStyles","newDefaults","module","installModule","prototypeGroup","protoMethod","use","Virtual","cache","renderSlide","renderExternal","renderExternalUpdate","addSlidesBefore","addSlidesAfter","cssModeTimeout","$slideEl","force","previousFrom","previousTo","previousSlidesGrid","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","load","getSlides","slidesToRender","prependIndexes","appendIndexes","appendSlide","prependSlide","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","removeSlide","slidesIndexes","removeAllSlides","Keyboard","keyboard","onlyInViewport","pageUpDown","handle","kc","keyCode","charCode","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","shiftKey","altKey","metaKey","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","mousewheel","releaseOnEdges","invert","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","timeout","lastScrollTime","lastEventBeforeSnap","recentWheelEvents","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","delta","raw","releaseScroll","rtlFactor","positions","sign","shift","prevEvent","ignoreWheelEvents","sticky","firstEvent","snapToThreshold","autoplayDisableOnInteraction","stop","createElementIfNotDefined","checkProps","Navigation","hideOnClick","disabledClass","hiddenClass","lockClass","navigationDisabledClass","$nextEl","$prevEl","getEl","toggleEl","onPrevClick","onNextClick","_s","targetEl","pagination","clickable","isHidden","classesToSelector","Pagination","pfx","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","paginationDisabledClass","bullets","bulletSize","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","midIndex","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","progressbarDirection","scale","scaleX","scaleY","paginationHTML","numberOfBullets","Scrollbar","dragTimeout","dragStartPos","dragSize","trackSize","divider","scrollbar","draggable","snapOnRelease","dragClass","scrollbarDisabledClass","dragEl","$dragEl","newSize","newPos","opacity","getPointerPosition","clientX","clientY","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","activeListener","eventMethod","enableDraggable","disableDraggable","$swiperEl","Parallax","parallax","setTransform","currentOpacity","currentScale","parallaxEl","$parallaxEl","parallaxDuration","_swiper","Zoom","zoom","maxRatio","containerClass","zoomedSlideClass","isScaling","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","gesture","slideWidth","slideHeight","$imageEl","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","x2","y2","distance","onGestureStart","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","onTransitionEnd","zoomIn","touchAction","touchX","touchY","offsetX","offsetY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","in","out","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","background","$pictureEl","sourceEl","$source","slideOriginalIndex","originalSlide","duplicatedSlide","slideExist","amount","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","Controller","controller","control","inverse","by","LinearSpline","binarySearch","guess","array","i1","i3","interpolate","getInterpolateFunction","spline","_t","controlled","controlledTranslate","setControlledTranslate","setControlledTransition","removeSpline","A11y","a11y","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","clicked","liveRegion","notify","notification","getRandomNumber","randomChar","round","repeat","makeElFocusable","makeElNotFocusable","addElRole","role","addElRoleDescription","description","addElControls","addElLabel","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","updateNavigation","hasPagination","hasClickablePagination","updatePagination","bulletEl","initNavEl","wrapperId","handlePointerDown","handlePointerUp","handleFocus","includes","isActive","sourceCapabilities","firesTouchEvents","ariaLabelMessage","$containerEl","History","root","replaceState","keepQuery","paths","slugify","getPathValues","urlOverride","URL","pathArray","part","setHistory","currentState","pushState","scrollToSlide","slideHistory","setHistoryPopState","hashNavigation","HashNavigation","watchState","onHashChange","newHash","activeSlideHash","setHash","slideHash","Autoplay","waitForTransition","disableOnInteraction","stopOnLastSlide","reverseDirection","pauseOnMouseEnter","$activeSlideEl","autoplayResult","pause","onVisibilityChange","visibilityState","onMouseEnter","onMouseLeave","attachMouseEvents","detachMouseEvents","Thumb","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","currentIndex","thumbsParams","SwiperClass","thumbsSwiperParams","thumbsToActivate","thumbActiveClass","useOffset","currentThumbsIndex","newThumbsIndex","prevThumbsIndex","nextThumbsIndex","momentum","momentumRatio","momentumBounce","momentumBounceRatio","momentumVelocityRatio","minimumVelocity","lastMoveEvent","velocityEvent","momentumDistance","newPosition","doBounce","afterBouncePosition","bounceAmount","needsLoopFix","moveDistance","currentSlideSize","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","row","groupIndex","slideIndexInGroup","columnsInGroup","-webkit-order","order","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","indexToRemove","Manipulation","effectInit","overwriteParams","perspective","recreateShadows","getEffectParams","overwriteParamsResult","slideShadows","requireUpdateOnVirtual","effectTarget","effectParams","transformEl","backface-visibility","-webkit-backface-visibility","effectVirtualTransitionEnd","allSlides","eventTriggered","$transitionEndTarget","triggerEvents","EffectFade","fadeEffect","crossFade","tx","ty","slideOpacity","$transitionElements","EffectCube","cubeEffect","shadow","shadowOffset","shadowScale","createSlideShadows","shadowBefore","shadowAfter","wrapperRotate","$cubeShadowEl","slideAngle","tz","-webkit-transform-origin","transform-origin","shadowAngle","sin","scale1","scale2","zFactor","createShadow","shadowClass","$shadowContainer","$shadowEl","EffectFlip","flipEffect","limitRotation","rotate","rotateY","rotateX","EffectCoverflow","coverflowEffect","stretch","depth","modifier","center","centerOffset","offsetMultiplier","translateZ","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","custom","translateString","rotateString","scaleString","opacityString","shadowOpacity","EffectCards","cardsEffect","perSlideRotate","perSlideOffset","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prevY","__spreadArray","pack","l","ar","CarouselEvent","Carousel","CarouselPage","enums_1","card_elements_1","carouselSlide","getForbiddenChildElements","carouselLoop","carouselOrientation","_pages","_currentIndex","_previousEventType","timer","timerProperty","initialPageProperty","isValidParsedPageIndex","isValidPageIndex","isValidRenderedPageIndex","_renderedPages","collectionSize","_containerForAdorners","carouselHeight","_carouselPageContainer","addPage","page","_carousel","jsonPages","jsonPages_1","createCarouselPageInstance","validateParsing","validateOrientationProperties","cardLevelContainer","carouselContainer","containerForAdorners","navigationContainer","carouselWrapper","prevElementDiv","nextElementDiv","updateCssForHorizontalCarousel","updateCssForVerticalCarousel","requestedNumberOfPages","initializeCarouselControl","nextElement","prevElement","paginationElement","nextElementAdjustedForRtl","prevElementAdjustedForRtl","prevElementAdjustedForOrientation","nextElementAdjustedForOrientation","swiperOptions","swiper_1","_event","raiseCarouselEvent","NavigationNext","NavigationPrevious","paginationEl","destroyResizeObserver","ariaLabel","createResizeObserver","createCarouselEvent","currentPageId","currentPageIndex","onCarouselEventHandler","onCarouselEvent","previousEventType","checkIfCarouselInValidStateForResizeEvent","_observer","loopProperty","carouselHeightProperty","carouselId","activeCarouselPageId","activeCarouselPageIndex","Table","TableRow","TableCell","StylableContainer","TableColumnDefinition","horizontalCellContentAlignmentProperty","verticalCellContentAlignmentProperty","parseItem","createItemInstance","internalAddItem","internalRemoveItem","internalIndexOf","getCollectionPropertyName","items_1","instance","_columnIndex","_cellType","parentRow","parentTable","showGridLines","gridStyle","utils_1","cellElement","cellType","horizontalCellContentAlignment","columnIndex","verticalCellContentAlignment","isFirstRow","getIsFirstRow","rowElement","getColumnCount","cell","firstRowAsHeaders","renderedCell","computedWidth","addCell","removeCellAt","ensureHasEnoughCells","cellCount","gridStyleProperty","ensureRowsHaveEnoughCells","removeCellsFromColumn","totalWeights","tableElement","borderTop","borderLeft","renderedRow","separatorRow","removeColumn","addRow","_columnsProperty","firstRowAsHeadersProperty","showGridLinesProperty","ChannelAdapter","LoginRequestResponse","ErrorResponse","SuccessResponse","ActivityResponse","ActivityRequestError","ActivityRequestTrigger","request","rawContent","error","auth","_auth","buttons","signinButton","tokenExchangeResource","AdaptiveApplet","level","optionalParams","onLogEvent","log","ActivityRequest","consecutiveRefreshes","attemptNumber","retryAsync","onSend","_allowAutomaticCardUpdate","_cardHostElement","_refreshButtonHostElement","displayCard","showManualRefreshButton","refreshAction","displayBuiltInManualRefreshButton","onShowManualRefreshButton","renderedRefreshButton","onRenderManualRefreshButton","Automatic","cardPayload","inlines","internalExecuteAction","activity_request_1","createActivityRequest","request_1","internalSendActivityRequestAsync","onPrepareActivityRequest","createMagicCodeInputCard","payload","_submitMagicCodeActionId","_cancelMagicCodeAuthActionId","cancelAutomaticRefresh","createSerializationContext","onCreateSerializationContext","internalSetCard","_cardPayload","serializationContext","doChangeCard","onCardChanging","_card","authentication","onPrefetchSSOToken","_input","onCardChanged","Info","action_1","Disabled","channelAdapter","onAction","createProgressOverlay","_progressOverlay","onCreateProgressOverlay","spinner","removeProgressOverlay","onRemoveProgressOverlay","activityRequestSucceeded","parsedContent","onActivityRequestSucceeded","activityRequestFailed","onActivityRequestFailed","showAuthCodeInputDialog","showBuiltInAuthCodeInputCard","onShowAuthCodeInputDialog","authCodeInputCard","submitMagicCodeAction","authCode","alert","overlay","state_1","error_1","retryIn_1","attemptOAuth","sendRequestAsync","_reject","onSSOTokenNeeded","onShowSigninPrompt","screenX","screenY","open","refreshCard","setCard","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","hubLayoutCardCss","CardComponent","AdaptiveCards.AdaptiveCard","config","content","h","slot","lat","lon","class","hubLayoutSectionCss","HubLayoutSection","cards"],"mappings":"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","sourcesContent":["\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Strings = void 0;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nvar Strings = /** @class */ (function () {\n    function Strings() {\n    }\n    Strings.errors = {\n        unknownElementType: function (typeName) {\n            return \"Unknown element type \\\"\".concat(typeName, \"\\\". Fallback will be used if present.\");\n        },\n        unknownActionType: function (typeName) {\n            return \"Unknown action type \\\"\".concat(typeName, \"\\\". Fallback will be used if present.\");\n        },\n        elementTypeNotAllowed: function (typeName) {\n            return \"Element type \\\"\".concat(typeName, \"\\\" is not allowed in this context.\");\n        },\n        actionTypeNotAllowed: function (typeName) {\n            return \"Action type \\\"\".concat(typeName, \"\\\" is not allowed in this context.\");\n        },\n        invalidPropertyValue: function (value, propertyName) {\n            return \"Invalid value \\\"\".concat(value, \"\\\" for property \\\"\").concat(propertyName, \"\\\".\");\n        },\n        showCardMustHaveCard: function () {\n            return \"\\\"An Action.ShowCard must have its \\\"card\\\" property set to a valid AdaptiveCard object.\";\n        },\n        invalidColumnWidth: function (invalidWidth) {\n            return \"Invalid column width \\\"\".concat(invalidWidth, \"\\\" - defaulting to \\\"auto\\\".\");\n        },\n        invalidCardVersion: function (defaultingToVersion) {\n            return \"Invalid card version. Defaulting to \\\"\".concat(defaultingToVersion, \"\\\".\");\n        },\n        invalidVersionString: function (versionString) {\n            return \"Invalid version string \\\"\".concat(versionString, \"\\\".\");\n        },\n        propertyValueNotSupported: function (value, propertyName, supportedInVersion, versionUsed) {\n            return \"Value \\\"\".concat(value, \"\\\" for property \\\"\").concat(propertyName, \"\\\" is supported in version \").concat(supportedInVersion, \", but you are using version \").concat(versionUsed, \".\");\n        },\n        propertyNotSupported: function (propertyName, supportedInVersion, versionUsed) {\n            return \"Property \\\"\".concat(propertyName, \"\\\" is supported in version \").concat(supportedInVersion, \", but you are using version \").concat(versionUsed, \".\");\n        },\n        indexOutOfRange: function (index) { return \"Index out of range (\".concat(index, \").\"); },\n        elementCannotBeUsedAsInline: function () {\n            return \"RichTextBlock.addInline: the specified card element cannot be used as a RichTextBlock inline.\";\n        },\n        inlineAlreadyParented: function () {\n            return \"RichTextBlock.addInline: the specified inline already belongs to another RichTextBlock.\";\n        },\n        interactivityNotAllowed: function () { return \"Interactivity is not allowed.\"; },\n        inputsMustHaveUniqueId: function () { return \"All inputs must have a unique Id.\"; },\n        choiceSetMustHaveAtLeastOneChoice: function () {\n            return \"An Input.ChoiceSet must have at least one choice defined.\";\n        },\n        choiceSetChoicesMustHaveTitleAndValue: function () {\n            return \"All choices in an Input.ChoiceSet must have their title and value properties set.\";\n        },\n        propertyMustBeSet: function (propertyName) { return \"Property \\\"\".concat(propertyName, \"\\\" must be set.\"); },\n        actionHttpHeadersMustHaveNameAndValue: function () {\n            return \"All headers of an Action.Http must have their name and value properties set.\";\n        },\n        tooManyActions: function (maximumActions) {\n            return \"Maximum number of actions exceeded (\".concat(maximumActions, \").\");\n        },\n        tooLittleTimeDelay: function (minAutoplayDelay) {\n            return \"Autoplay Delay is too short (\".concat(minAutoplayDelay, \").\");\n        },\n        tooManyCarouselPages: function (maxCarouselPages) {\n            return \"Maximum number of Carousel pages exceeded (\".concat(maxCarouselPages, \").\");\n        },\n        invalidInitialPageIndex: function (initialPageIndex) {\n            return \"InitialPage for carousel is invalid (\".concat(initialPageIndex, \").\");\n        },\n        columnAlreadyBelongsToAnotherSet: function () { return \"This column already belongs to another ColumnSet.\"; },\n        invalidCardType: function () {\n            return \"Invalid or missing card type. Make sure the card's type property is set to \\\"AdaptiveCard\\\".\";\n        },\n        unsupportedCardVersion: function (version, maxSupportedVersion) {\n            return \"The specified card version (\".concat(version, \") is not supported or still in preview. The latest released card version is \").concat(maxSupportedVersion, \".\");\n        },\n        duplicateId: function (id) { return \"Duplicate Id \\\"\".concat(id, \"\\\".\"); },\n        markdownProcessingNotEnabled: function () {\n            return \"Markdown processing isn't enabled. Please see https://www.npmjs.com/package/adaptivecards#supporting-markdown\";\n        },\n        processMarkdownEventRemoved: function () {\n            return \"The processMarkdown event has been removed. Please update your code and set onProcessMarkdown instead.\";\n        },\n        elementAlreadyParented: function () { return \"The element already belongs to another container.\"; },\n        actionAlreadyParented: function () { return \"The action already belongs to another element.\"; },\n        elementTypeNotStandalone: function (typeName) {\n            return \"Elements of type \".concat(typeName, \" cannot be used as standalone elements.\");\n        },\n        invalidInputLabelWidth: function () {\n            return \"Invalid input label width. Defaulting to label width from host config.\";\n        },\n    };\n    Strings.magicCodeInputCard = {\n        tryAgain: function () { return \"That didn't work... let's try again.\"; },\n        pleaseLogin: function () {\n            return 'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"';\n        },\n        enterMagicCode: function () { return \"Enter magic code\"; },\n        pleaseEnterMagicCodeYouReceived: function () { return \"Please enter the magic code you received.\"; },\n        submit: function () { return \"Submit\"; },\n        cancel: function () { return \"Cancel\"; },\n        somethingWentWrong: function () { return \"Something went wrong. This action can't be handled.\"; },\n        authenticationFailed: function () { return \"Authentication failed.\"; }\n    };\n    Strings.runtime = {\n        automaticRefreshPaused: function () { return \"Automatic refresh paused.\"; },\n        clckToRestartAutomaticRefresh: function () { return \"Click to restart.\"; },\n        refreshThisCard: function () { return \"Refresh this card\"; }\n    };\n    Strings.hints = {\n        dontUseWeightedAndStrecthedColumnsInSameSet: function () {\n            return \"It is not recommended to use weighted and stretched columns in the same ColumnSet, because in such a situation stretched columns will always get the minimum amount of space.\";\n        }\n    };\n    Strings.defaults = {\n        inlineActionTitle: function () { return \"Inline Action\"; },\n        overflowButtonText: function () { return \"...\"; },\n        overflowButtonTooltip: function () { return \"More options\"; },\n        mediaPlayerAriaLabel: function () { return \"Media content\"; },\n        mediaPlayerPlayMedia: function () { return \"Play media\"; },\n        youTubeVideoPlayer: function () { return \"YouTube video player\"; },\n        vimeoVideoPlayer: function () { return \"Vimeo video player\"; },\n        dailymotionVideoPlayer: function () { return \"Dailymotion video player\"; },\n        carouselNavigationPreviousTooltip: function () { return \"Previous carousel page\"; },\n        carouselNavigationNextTooltip: function () { return \"Next carousel page\"; }\n    };\n    return Strings;\n}());\nexports.Strings = Strings;\n//# sourceMappingURL=strings.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CarouselInteractionEvent = exports.LogLevel = exports.RefreshMode = exports.TypeErrorType = exports.ContainerFitStatus = exports.ValidationEvent = exports.ValidationPhase = exports.InputLabelPosition = exports.InputTextStyle = exports.ActionIconPlacement = exports.FillMode = exports.Orientation = exports.ShowCardActionMode = exports.ImageStyle = exports.ActionAlignment = exports.VerticalAlignment = exports.HorizontalAlignment = exports.TextColor = exports.Spacing = exports.FontType = exports.TextWeight = exports.InputStyle = exports.TextSize = exports.SizeUnit = exports.ImageSetPresentationStyle = exports.ImageSize = exports.Size = exports.ActionMode = exports.ActionStyle = exports.ContainerStyle = void 0;\n/*\n    This should really be a string enum, e.g.\n\n        export enum ContainerStyle {\n            Default = \"default\",\n            Emphasis = \"emphasis\"\n        }\n\n    However, some hosts do not use a version of TypeScript\n    recent enough to understand string enums. This is\n    a compatible construct that does not require using\n    a more recent version of TypeScript.\n\n    Also note the \"weird\" way these readonly fields are declared is to work around\n    a breaking change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    and adopt this syntax for all other static readonly fields.\n*/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\nvar ContainerStyle = /** @class */ (function () {\n    function ContainerStyle() {\n    }\n    ContainerStyle.Default = \"default\";\n    ContainerStyle.Emphasis = \"emphasis\";\n    ContainerStyle.Accent = \"accent\";\n    ContainerStyle.Good = \"good\";\n    ContainerStyle.Attention = \"attention\";\n    ContainerStyle.Warning = \"warning\";\n    return ContainerStyle;\n}());\nexports.ContainerStyle = ContainerStyle;\nvar ActionStyle = /** @class */ (function () {\n    function ActionStyle() {\n    }\n    ActionStyle.Default = \"default\";\n    ActionStyle.Positive = \"positive\";\n    ActionStyle.Destructive = \"destructive\";\n    return ActionStyle;\n}());\nexports.ActionStyle = ActionStyle;\nvar ActionMode = /** @class */ (function () {\n    function ActionMode() {\n    }\n    ActionMode.Primary = \"primary\";\n    ActionMode.Secondary = \"secondary\";\n    return ActionMode;\n}());\nexports.ActionMode = ActionMode;\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention */\nvar Size;\n(function (Size) {\n    Size[Size[\"Auto\"] = 0] = \"Auto\";\n    Size[Size[\"Stretch\"] = 1] = \"Stretch\";\n    Size[Size[\"Small\"] = 2] = \"Small\";\n    Size[Size[\"Medium\"] = 3] = \"Medium\";\n    Size[Size[\"Large\"] = 4] = \"Large\";\n})(Size = exports.Size || (exports.Size = {}));\nvar ImageSize;\n(function (ImageSize) {\n    ImageSize[ImageSize[\"Small\"] = 0] = \"Small\";\n    ImageSize[ImageSize[\"Medium\"] = 1] = \"Medium\";\n    ImageSize[ImageSize[\"Large\"] = 2] = \"Large\";\n})(ImageSize = exports.ImageSize || (exports.ImageSize = {}));\nvar ImageSetPresentationStyle;\n(function (ImageSetPresentationStyle) {\n    ImageSetPresentationStyle[ImageSetPresentationStyle[\"Default\"] = 0] = \"Default\";\n    ImageSetPresentationStyle[ImageSetPresentationStyle[\"Stacked\"] = 1] = \"Stacked\";\n})(ImageSetPresentationStyle = exports.ImageSetPresentationStyle || (exports.ImageSetPresentationStyle = {}));\nvar SizeUnit;\n(function (SizeUnit) {\n    SizeUnit[SizeUnit[\"Weight\"] = 0] = \"Weight\";\n    SizeUnit[SizeUnit[\"Pixel\"] = 1] = \"Pixel\";\n})(SizeUnit = exports.SizeUnit || (exports.SizeUnit = {}));\nvar TextSize;\n(function (TextSize) {\n    TextSize[TextSize[\"Small\"] = 0] = \"Small\";\n    TextSize[TextSize[\"Default\"] = 1] = \"Default\";\n    TextSize[TextSize[\"Medium\"] = 2] = \"Medium\";\n    TextSize[TextSize[\"Large\"] = 3] = \"Large\";\n    TextSize[TextSize[\"ExtraLarge\"] = 4] = \"ExtraLarge\";\n})(TextSize = exports.TextSize || (exports.TextSize = {}));\nvar InputStyle;\n(function (InputStyle) {\n    InputStyle[InputStyle[\"RevealOnHover\"] = 0] = \"RevealOnHover\";\n    InputStyle[InputStyle[\"Default\"] = 1] = \"Default\";\n})(InputStyle = exports.InputStyle || (exports.InputStyle = {}));\nvar TextWeight;\n(function (TextWeight) {\n    TextWeight[TextWeight[\"Lighter\"] = 0] = \"Lighter\";\n    TextWeight[TextWeight[\"Default\"] = 1] = \"Default\";\n    TextWeight[TextWeight[\"Bolder\"] = 2] = \"Bolder\";\n})(TextWeight = exports.TextWeight || (exports.TextWeight = {}));\nvar FontType;\n(function (FontType) {\n    FontType[FontType[\"Default\"] = 0] = \"Default\";\n    FontType[FontType[\"Monospace\"] = 1] = \"Monospace\";\n})(FontType = exports.FontType || (exports.FontType = {}));\nvar Spacing;\n(function (Spacing) {\n    Spacing[Spacing[\"None\"] = 0] = \"None\";\n    Spacing[Spacing[\"Small\"] = 1] = \"Small\";\n    Spacing[Spacing[\"Default\"] = 2] = \"Default\";\n    Spacing[Spacing[\"Medium\"] = 3] = \"Medium\";\n    Spacing[Spacing[\"Large\"] = 4] = \"Large\";\n    Spacing[Spacing[\"ExtraLarge\"] = 5] = \"ExtraLarge\";\n    Spacing[Spacing[\"Padding\"] = 6] = \"Padding\";\n})(Spacing = exports.Spacing || (exports.Spacing = {}));\nvar TextColor;\n(function (TextColor) {\n    TextColor[TextColor[\"Default\"] = 0] = \"Default\";\n    TextColor[TextColor[\"Dark\"] = 1] = \"Dark\";\n    TextColor[TextColor[\"Light\"] = 2] = \"Light\";\n    TextColor[TextColor[\"Accent\"] = 3] = \"Accent\";\n    TextColor[TextColor[\"Good\"] = 4] = \"Good\";\n    TextColor[TextColor[\"Warning\"] = 5] = \"Warning\";\n    TextColor[TextColor[\"Attention\"] = 6] = \"Attention\";\n})(TextColor = exports.TextColor || (exports.TextColor = {}));\nvar HorizontalAlignment;\n(function (HorizontalAlignment) {\n    HorizontalAlignment[HorizontalAlignment[\"Left\"] = 0] = \"Left\";\n    HorizontalAlignment[HorizontalAlignment[\"Center\"] = 1] = \"Center\";\n    HorizontalAlignment[HorizontalAlignment[\"Right\"] = 2] = \"Right\";\n})(HorizontalAlignment = exports.HorizontalAlignment || (exports.HorizontalAlignment = {}));\nvar VerticalAlignment;\n(function (VerticalAlignment) {\n    VerticalAlignment[VerticalAlignment[\"Top\"] = 0] = \"Top\";\n    VerticalAlignment[VerticalAlignment[\"Center\"] = 1] = \"Center\";\n    VerticalAlignment[VerticalAlignment[\"Bottom\"] = 2] = \"Bottom\";\n})(VerticalAlignment = exports.VerticalAlignment || (exports.VerticalAlignment = {}));\nvar ActionAlignment;\n(function (ActionAlignment) {\n    ActionAlignment[ActionAlignment[\"Left\"] = 0] = \"Left\";\n    ActionAlignment[ActionAlignment[\"Center\"] = 1] = \"Center\";\n    ActionAlignment[ActionAlignment[\"Right\"] = 2] = \"Right\";\n    ActionAlignment[ActionAlignment[\"Stretch\"] = 3] = \"Stretch\";\n})(ActionAlignment = exports.ActionAlignment || (exports.ActionAlignment = {}));\nvar ImageStyle;\n(function (ImageStyle) {\n    ImageStyle[ImageStyle[\"Default\"] = 0] = \"Default\";\n    ImageStyle[ImageStyle[\"Person\"] = 1] = \"Person\";\n})(ImageStyle = exports.ImageStyle || (exports.ImageStyle = {}));\nvar ShowCardActionMode;\n(function (ShowCardActionMode) {\n    ShowCardActionMode[ShowCardActionMode[\"Inline\"] = 0] = \"Inline\";\n    ShowCardActionMode[ShowCardActionMode[\"Popup\"] = 1] = \"Popup\";\n})(ShowCardActionMode = exports.ShowCardActionMode || (exports.ShowCardActionMode = {}));\nvar Orientation;\n(function (Orientation) {\n    Orientation[Orientation[\"Horizontal\"] = 0] = \"Horizontal\";\n    Orientation[Orientation[\"Vertical\"] = 1] = \"Vertical\";\n})(Orientation = exports.Orientation || (exports.Orientation = {}));\nvar FillMode;\n(function (FillMode) {\n    FillMode[FillMode[\"Cover\"] = 0] = \"Cover\";\n    FillMode[FillMode[\"RepeatHorizontally\"] = 1] = \"RepeatHorizontally\";\n    FillMode[FillMode[\"RepeatVertically\"] = 2] = \"RepeatVertically\";\n    FillMode[FillMode[\"Repeat\"] = 3] = \"Repeat\";\n})(FillMode = exports.FillMode || (exports.FillMode = {}));\nvar ActionIconPlacement;\n(function (ActionIconPlacement) {\n    ActionIconPlacement[ActionIconPlacement[\"LeftOfTitle\"] = 0] = \"LeftOfTitle\";\n    ActionIconPlacement[ActionIconPlacement[\"AboveTitle\"] = 1] = \"AboveTitle\";\n})(ActionIconPlacement = exports.ActionIconPlacement || (exports.ActionIconPlacement = {}));\nvar InputTextStyle;\n(function (InputTextStyle) {\n    InputTextStyle[InputTextStyle[\"Text\"] = 0] = \"Text\";\n    InputTextStyle[InputTextStyle[\"Tel\"] = 1] = \"Tel\";\n    InputTextStyle[InputTextStyle[\"Url\"] = 2] = \"Url\";\n    InputTextStyle[InputTextStyle[\"Email\"] = 3] = \"Email\";\n    InputTextStyle[InputTextStyle[\"Password\"] = 4] = \"Password\";\n})(InputTextStyle = exports.InputTextStyle || (exports.InputTextStyle = {}));\nvar InputLabelPosition;\n(function (InputLabelPosition) {\n    InputLabelPosition[InputLabelPosition[\"Inline\"] = 0] = \"Inline\";\n    InputLabelPosition[InputLabelPosition[\"Above\"] = 1] = \"Above\";\n})(InputLabelPosition = exports.InputLabelPosition || (exports.InputLabelPosition = {}));\nvar ValidationPhase;\n(function (ValidationPhase) {\n    ValidationPhase[ValidationPhase[\"Parse\"] = 0] = \"Parse\";\n    ValidationPhase[ValidationPhase[\"ToJSON\"] = 1] = \"ToJSON\";\n    ValidationPhase[ValidationPhase[\"Validation\"] = 2] = \"Validation\";\n})(ValidationPhase = exports.ValidationPhase || (exports.ValidationPhase = {}));\nvar ValidationEvent;\n(function (ValidationEvent) {\n    ValidationEvent[ValidationEvent[\"Hint\"] = 0] = \"Hint\";\n    ValidationEvent[ValidationEvent[\"ActionTypeNotAllowed\"] = 1] = \"ActionTypeNotAllowed\";\n    ValidationEvent[ValidationEvent[\"CollectionCantBeEmpty\"] = 2] = \"CollectionCantBeEmpty\";\n    ValidationEvent[ValidationEvent[\"Deprecated\"] = 3] = \"Deprecated\";\n    ValidationEvent[ValidationEvent[\"ElementTypeNotAllowed\"] = 4] = \"ElementTypeNotAllowed\";\n    ValidationEvent[ValidationEvent[\"InteractivityNotAllowed\"] = 5] = \"InteractivityNotAllowed\";\n    ValidationEvent[ValidationEvent[\"InvalidPropertyValue\"] = 6] = \"InvalidPropertyValue\";\n    ValidationEvent[ValidationEvent[\"MissingCardType\"] = 7] = \"MissingCardType\";\n    ValidationEvent[ValidationEvent[\"PropertyCantBeNull\"] = 8] = \"PropertyCantBeNull\";\n    ValidationEvent[ValidationEvent[\"TooManyActions\"] = 9] = \"TooManyActions\";\n    ValidationEvent[ValidationEvent[\"UnknownActionType\"] = 10] = \"UnknownActionType\";\n    ValidationEvent[ValidationEvent[\"UnknownElementType\"] = 11] = \"UnknownElementType\";\n    ValidationEvent[ValidationEvent[\"UnsupportedCardVersion\"] = 12] = \"UnsupportedCardVersion\";\n    ValidationEvent[ValidationEvent[\"DuplicateId\"] = 13] = \"DuplicateId\";\n    ValidationEvent[ValidationEvent[\"UnsupportedProperty\"] = 14] = \"UnsupportedProperty\";\n    ValidationEvent[ValidationEvent[\"RequiredInputsShouldHaveLabel\"] = 15] = \"RequiredInputsShouldHaveLabel\";\n    ValidationEvent[ValidationEvent[\"RequiredInputsShouldHaveErrorMessage\"] = 16] = \"RequiredInputsShouldHaveErrorMessage\";\n    ValidationEvent[ValidationEvent[\"Other\"] = 17] = \"Other\";\n})(ValidationEvent = exports.ValidationEvent || (exports.ValidationEvent = {}));\nvar ContainerFitStatus;\n(function (ContainerFitStatus) {\n    ContainerFitStatus[ContainerFitStatus[\"FullyInContainer\"] = 0] = \"FullyInContainer\";\n    ContainerFitStatus[ContainerFitStatus[\"Overflowing\"] = 1] = \"Overflowing\";\n    ContainerFitStatus[ContainerFitStatus[\"FullyOutOfContainer\"] = 2] = \"FullyOutOfContainer\";\n})(ContainerFitStatus = exports.ContainerFitStatus || (exports.ContainerFitStatus = {}));\nvar TypeErrorType;\n(function (TypeErrorType) {\n    TypeErrorType[TypeErrorType[\"UnknownType\"] = 0] = \"UnknownType\";\n    TypeErrorType[TypeErrorType[\"ForbiddenType\"] = 1] = \"ForbiddenType\";\n})(TypeErrorType = exports.TypeErrorType || (exports.TypeErrorType = {}));\nvar RefreshMode;\n(function (RefreshMode) {\n    RefreshMode[RefreshMode[\"Disabled\"] = 0] = \"Disabled\";\n    RefreshMode[RefreshMode[\"Manual\"] = 1] = \"Manual\";\n    RefreshMode[RefreshMode[\"Automatic\"] = 2] = \"Automatic\";\n})(RefreshMode = exports.RefreshMode || (exports.RefreshMode = {}));\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Info\"] = 0] = \"Info\";\n    LogLevel[LogLevel[\"Warning\"] = 1] = \"Warning\";\n    LogLevel[LogLevel[\"Error\"] = 2] = \"Error\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\nvar CarouselInteractionEvent;\n(function (CarouselInteractionEvent) {\n    CarouselInteractionEvent[CarouselInteractionEvent[\"NavigationNext\"] = 0] = \"NavigationNext\";\n    CarouselInteractionEvent[CarouselInteractionEvent[\"NavigationPrevious\"] = 1] = \"NavigationPrevious\";\n    CarouselInteractionEvent[CarouselInteractionEvent[\"Pagination\"] = 2] = \"Pagination\";\n    CarouselInteractionEvent[CarouselInteractionEvent[\"Autoplay\"] = 3] = \"Autoplay\";\n})(CarouselInteractionEvent = exports.CarouselInteractionEvent || (exports.CarouselInteractionEvent = {}));\n//# sourceMappingURL=enums.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UUID = exports.SizeAndUnit = exports.PaddingDefinition = exports.SpacingDefinition = exports.StringWithSubstitutions = exports.ContentTypes = exports.GlobalSettings = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nvar GlobalSettings = /** @class */ (function () {\n    function GlobalSettings() {\n    }\n    GlobalSettings.useAdvancedTextBlockTruncation = true;\n    GlobalSettings.useAdvancedCardBottomTruncation = false;\n    GlobalSettings.useMarkdownInRadioButtonAndCheckbox = true;\n    GlobalSettings.allowMarkForTextHighlighting = false;\n    GlobalSettings.alwaysBleedSeparators = false;\n    GlobalSettings.enableFullJsonRoundTrip = false;\n    GlobalSettings.displayInputValidationErrors = true;\n    GlobalSettings.allowPreProcessingPropertyValues = false;\n    GlobalSettings.setTabIndexAtCardRoot = true;\n    GlobalSettings.enableFallback = true;\n    GlobalSettings.useWebkitLineClamp = true;\n    GlobalSettings.allowMoreThanMaxActionsInOverflowMenu = false;\n    GlobalSettings.removePaddingFromContainersWithBackgroundImage = false;\n    GlobalSettings.resetInputsDirtyStateAfterActionExecution = true;\n    GlobalSettings.applets = {\n        logEnabled: true,\n        logLevel: Enums.LogLevel.Error,\n        maximumRetryAttempts: 3,\n        defaultTimeBetweenRetryAttempts: 3000,\n        authPromptWidth: 400,\n        authPromptHeight: 600,\n        refresh: {\n            mode: Enums.RefreshMode.Manual,\n            timeBetweenAutomaticRefreshes: 3000,\n            maximumConsecutiveAutomaticRefreshes: 3,\n            allowManualRefreshesAfterAutomaticRefreshes: true\n        }\n    };\n    return GlobalSettings;\n}());\nexports.GlobalSettings = GlobalSettings;\nexports.ContentTypes = {\n    applicationJson: \"application/json\",\n    applicationXWwwFormUrlencoded: \"application/x-www-form-urlencoded\"\n};\nvar StringWithSubstitutions = /** @class */ (function () {\n    function StringWithSubstitutions() {\n        this._isProcessed = false;\n    }\n    StringWithSubstitutions.prototype.getReferencedInputs = function (inputs, referencedInputs) {\n        if (!referencedInputs) {\n            throw new Error(\"The referencedInputs parameter cannot be null.\");\n        }\n        if (this._original) {\n            for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n                var input = inputs_1[_i];\n                var matches = new RegExp(\"\\\\{{2}(\" + input.id + \").value\\\\}{2}\", \"gi\").exec(this._original);\n                if (matches != null && input.id) {\n                    referencedInputs[input.id] = input;\n                }\n            }\n        }\n    };\n    StringWithSubstitutions.prototype.substituteInputValues = function (inputs, contentType) {\n        this._processed = this._original;\n        if (this._original) {\n            var regEx = /\\{{2}([a-z0-9_$@]+).value\\}{2}/gi;\n            var matches = void 0;\n            while ((matches = regEx.exec(this._original)) !== null && this._processed) {\n                for (var _i = 0, _a = Object.keys(inputs); _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (key.toLowerCase() === matches[1].toLowerCase()) {\n                        var matchedInput = inputs[key];\n                        var valueForReplace = \"\";\n                        if (matchedInput.value) {\n                            valueForReplace = matchedInput.value;\n                        }\n                        if (contentType === exports.ContentTypes.applicationJson) {\n                            valueForReplace = JSON.stringify(valueForReplace);\n                            valueForReplace = valueForReplace.slice(1, -1);\n                        }\n                        else if (contentType === exports.ContentTypes.applicationXWwwFormUrlencoded) {\n                            valueForReplace = encodeURIComponent(valueForReplace);\n                        }\n                        this._processed = this._processed.replace(matches[0], valueForReplace);\n                        break;\n                    }\n                }\n            }\n        }\n        this._isProcessed = true;\n    };\n    StringWithSubstitutions.prototype.getOriginal = function () {\n        return this._original;\n    };\n    StringWithSubstitutions.prototype.get = function () {\n        if (!this._isProcessed) {\n            return this._original;\n        }\n        else {\n            return this._processed;\n        }\n    };\n    StringWithSubstitutions.prototype.set = function (value) {\n        this._original = value;\n        this._isProcessed = false;\n    };\n    return StringWithSubstitutions;\n}());\nexports.StringWithSubstitutions = StringWithSubstitutions;\nvar SpacingDefinition = /** @class */ (function () {\n    function SpacingDefinition(top, right, bottom, left) {\n        if (top === void 0) { top = 0; }\n        if (right === void 0) { right = 0; }\n        if (bottom === void 0) { bottom = 0; }\n        if (left === void 0) { left = 0; }\n        this.left = 0;\n        this.top = 0;\n        this.right = 0;\n        this.bottom = 0;\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    return SpacingDefinition;\n}());\nexports.SpacingDefinition = SpacingDefinition;\nvar PaddingDefinition = /** @class */ (function () {\n    function PaddingDefinition(top, right, bottom, left) {\n        if (top === void 0) { top = Enums.Spacing.None; }\n        if (right === void 0) { right = Enums.Spacing.None; }\n        if (bottom === void 0) { bottom = Enums.Spacing.None; }\n        if (left === void 0) { left = Enums.Spacing.None; }\n        this.top = Enums.Spacing.None;\n        this.right = Enums.Spacing.None;\n        this.bottom = Enums.Spacing.None;\n        this.left = Enums.Spacing.None;\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    return PaddingDefinition;\n}());\nexports.PaddingDefinition = PaddingDefinition;\nvar SizeAndUnit = /** @class */ (function () {\n    function SizeAndUnit(physicalSize, unit) {\n        this.physicalSize = physicalSize;\n        this.unit = unit;\n    }\n    SizeAndUnit.parse = function (input, requireUnitSpecifier) {\n        if (requireUnitSpecifier === void 0) { requireUnitSpecifier = false; }\n        var result = new SizeAndUnit(0, Enums.SizeUnit.Weight);\n        if (typeof input === \"number\") {\n            result.physicalSize = input;\n            return result;\n        }\n        else if (typeof input === \"string\") {\n            var regExp = /^([0-9]+)(px|\\*)?$/g;\n            var matches = regExp.exec(input);\n            var expectedMatchCount = requireUnitSpecifier ? 3 : 2;\n            if (matches && matches.length >= expectedMatchCount) {\n                result.physicalSize = parseInt(matches[1]);\n                if (matches.length === 3) {\n                    if (matches[2] === \"px\") {\n                        result.unit = Enums.SizeUnit.Pixel;\n                    }\n                }\n                return result;\n            }\n        }\n        throw new Error(\"Invalid size: \" + input);\n    };\n    return SizeAndUnit;\n}());\nexports.SizeAndUnit = SizeAndUnit;\n/**\n * Fast UUID generator, RFC4122 version 4 compliant.\n * @author Jeff Ward (jcward.com).\n * @license MIT license\n * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n **/\n/* eslint-disable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\nvar UUID = /** @class */ (function () {\n    function UUID() {\n    }\n    UUID.generate = function () {\n        var d0 = (Math.random() * 0xffffffff) | 0;\n        var d1 = (Math.random() * 0xffffffff) | 0;\n        var d2 = (Math.random() * 0xffffffff) | 0;\n        var d3 = (Math.random() * 0xffffffff) | 0;\n        return (UUID.lut[d0 & 0xff] +\n            UUID.lut[(d0 >> 8) & 0xff] +\n            UUID.lut[(d0 >> 16) & 0xff] +\n            UUID.lut[(d0 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[d1 & 0xff] +\n            UUID.lut[(d1 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[((d1 >> 16) & 0x0f) | 0x40] +\n            UUID.lut[(d1 >> 24) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 & 0x3f) | 0x80] +\n            UUID.lut[(d2 >> 8) & 0xff] +\n            \"-\" +\n            UUID.lut[(d2 >> 16) & 0xff] +\n            UUID.lut[(d2 >> 24) & 0xff] +\n            UUID.lut[d3 & 0xff] +\n            UUID.lut[(d3 >> 8) & 0xff] +\n            UUID.lut[(d3 >> 16) & 0xff] +\n            UUID.lut[(d3 >> 24) & 0xff]);\n    };\n    UUID.initialize = function () {\n        for (var i = 0; i < 256; i++) {\n            UUID.lut[i] = (i < 16 ? \"0\" : \"\") + i.toString(16);\n        }\n    };\n    UUID.lut = [];\n    return UUID;\n}());\nexports.UUID = UUID;\nUUID.initialize();\n/* eslint-enable @typescript-eslint/no-extraneous-class, @typescript-eslint/naming-convention, no-bitwise */\n//# sourceMappingURL=shared.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addCancelSelectActionEventHandler = exports.clearElementChildren = exports.getScrollY = exports.getScrollX = exports.getFitStatus = exports.truncate = exports.truncateText = exports.stringToCssColor = exports.parseEnum = exports.getEnumValueByName = exports.parseBool = exports.parseNumber = exports.parseString = exports.appendChild = exports.generateUniqueId = exports.isMobileOS = exports.isInternetExplorer = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar Shared = require(\"./shared\");\nfunction isInternetExplorer() {\n    // The documentMode property only exists in IE\n    return window.document.documentMode !== undefined;\n}\nexports.isInternetExplorer = isInternetExplorer;\nfunction isMobileOS() {\n    var userAgent = window.navigator.userAgent;\n    return (!!userAgent.match(/Android/i) || !!userAgent.match(/iPad/i) || !!userAgent.match(/iPhone/i));\n}\nexports.isMobileOS = isMobileOS;\n/**\n * Generate a UUID prepended with \"__ac-\"\n */\nfunction generateUniqueId() {\n    return \"__ac-\" + Shared.UUID.generate();\n}\nexports.generateUniqueId = generateUniqueId;\nfunction appendChild(node, child) {\n    if (child) {\n        node.appendChild(child);\n    }\n}\nexports.appendChild = appendChild;\nfunction parseString(obj, defaultValue) {\n    return typeof obj === \"string\" ? obj : defaultValue;\n}\nexports.parseString = parseString;\nfunction parseNumber(obj, defaultValue) {\n    return typeof obj === \"number\" ? obj : defaultValue;\n}\nexports.parseNumber = parseNumber;\nfunction parseBool(value, defaultValue) {\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    else if (typeof value === \"string\") {\n        switch (value.toLowerCase()) {\n            case \"true\":\n                return true;\n            case \"false\":\n                return false;\n            default:\n                return defaultValue;\n        }\n    }\n    return defaultValue;\n}\nexports.parseBool = parseBool;\nfunction getEnumValueByName(enumType, name) {\n    // eslint-disable-next-line guard-for-in\n    for (var key in enumType) {\n        var keyAsNumber = parseInt(key, 10);\n        if (keyAsNumber >= 0) {\n            var value = enumType[key];\n            if (value && typeof value === \"string\" && value.toLowerCase() === name.toLowerCase()) {\n                return keyAsNumber;\n            }\n        }\n    }\n    return undefined;\n}\nexports.getEnumValueByName = getEnumValueByName;\nfunction parseEnum(enumType, name, defaultValue) {\n    if (!name) {\n        return defaultValue;\n    }\n    var enumValue = getEnumValueByName(enumType, name);\n    return enumValue !== undefined ? enumValue : defaultValue;\n}\nexports.parseEnum = parseEnum;\nfunction stringToCssColor(color) {\n    if (color) {\n        var regEx = /#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})?/gi;\n        var matches = regEx.exec(color);\n        if (matches && matches[4]) {\n            var a = parseInt(matches[1], 16) / 255;\n            var r = parseInt(matches[2], 16);\n            var g = parseInt(matches[3], 16);\n            var b = parseInt(matches[4], 16);\n            return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\n        }\n    }\n    return color;\n}\nexports.stringToCssColor = stringToCssColor;\nfunction truncateWorker(element, maxHeight, fullText, truncateAt, lineHeight) {\n    var fits = function () {\n        // Allow a one pixel overflow to account for rounding differences\n        // between browsers\n        return maxHeight - element.scrollHeight >= -1.0;\n    };\n    if (fits()) {\n        return;\n    }\n    var breakableIndices = findBreakableIndices(fullText);\n    var lo = 0;\n    var hi = breakableIndices.length;\n    var bestBreakIdx = 0;\n    // Do a binary search for the longest string that fits\n    while (lo < hi) {\n        var mid = Math.floor((lo + hi) / 2);\n        truncateAt(fullText, breakableIndices[mid]);\n        if (fits()) {\n            bestBreakIdx = breakableIndices[mid];\n            lo = mid + 1;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    truncateAt(fullText, bestBreakIdx);\n    // If we have extra room, try to expand the string letter by letter\n    // (covers the case where we have to break in the middle of a long word)\n    if (lineHeight && maxHeight - element.scrollHeight >= lineHeight - 1.0) {\n        var idx = findNextCharacter(fullText, bestBreakIdx);\n        while (idx < fullText.length) {\n            truncateAt(fullText, idx);\n            if (fits()) {\n                bestBreakIdx = idx;\n                idx = findNextCharacter(fullText, idx);\n            }\n            else {\n                break;\n            }\n        }\n        truncateAt(fullText, bestBreakIdx);\n    }\n}\nfunction truncateText(element, maxHeight, lineHeight) {\n    truncateWorker(element, maxHeight, element.innerText, function (text, idx) {\n        element.innerText = text.substring(0, idx) + \"...\";\n    }, lineHeight);\n}\nexports.truncateText = truncateText;\n/**\n * {@link truncate} has been deprecated and is no longer in use internally. This policy passes\n * content through as it always has, which is _supposed_ to be dealing with text only (see {@link\n * TextBlock.truncateIfSupported}), but had a bug where it might actually pass through an element\n * for which innerHTML yielded actual HTML (since fixed).\n */\nvar ttDeprecatedPolicy = (typeof window === 'undefined') ? undefined : (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.createPolicy(\"adaptivecards#deprecatedExportedFunctionPolicy\", {\n    createHTML: function (value) { return value; }\n});\n/** @deprecated Use {@link truncateText} instead. */\nfunction truncate(element, maxHeight, lineHeight) {\n    truncateWorker(element, maxHeight, element.innerHTML, function (text, idx) {\n        var _a;\n        var truncatedString = text.substring(0, idx) + \"...\";\n        var truncatedHTML = (_a = ttDeprecatedPolicy === null || ttDeprecatedPolicy === void 0 ? void 0 : ttDeprecatedPolicy.createHTML(truncatedString)) !== null && _a !== void 0 ? _a : truncatedString;\n        element.innerHTML = truncatedHTML;\n    }, lineHeight);\n}\nexports.truncate = truncate;\nfunction findBreakableIndices(html) {\n    var results = [];\n    var idx = findNextCharacter(html, -1);\n    while (idx < html.length) {\n        if (html[idx] === \" \") {\n            results.push(idx);\n        }\n        idx = findNextCharacter(html, idx);\n    }\n    return results;\n}\nfunction findNextCharacter(html, currIdx) {\n    currIdx += 1;\n    // If we found the start of an HTML tag, keep advancing until we get\n    // past it, so we don't end up truncating in the middle of the tag\n    while (currIdx < html.length && html[currIdx] === \"<\") {\n        while (currIdx < html.length && html[currIdx++] !== \">\") {\n            continue;\n        }\n    }\n    return currIdx;\n}\nfunction getFitStatus(element, containerEnd) {\n    var start = element.offsetTop;\n    var end = start + element.clientHeight;\n    if (end <= containerEnd) {\n        return Enums.ContainerFitStatus.FullyInContainer;\n    }\n    else if (start < containerEnd) {\n        return Enums.ContainerFitStatus.Overflowing;\n    }\n    else {\n        return Enums.ContainerFitStatus.FullyOutOfContainer;\n    }\n}\nexports.getFitStatus = getFitStatus;\nfunction getScrollX() {\n    return window.pageXOffset;\n}\nexports.getScrollX = getScrollX;\nfunction getScrollY() {\n    return window.pageYOffset;\n}\nexports.getScrollY = getScrollY;\nfunction clearElementChildren(element) {\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n}\nexports.clearElementChildren = clearElementChildren;\nfunction addCancelSelectActionEventHandler(element) {\n    element.onclick = function (e) {\n        e.preventDefault();\n        e.cancelBubble = true;\n    };\n}\nexports.addCancelSelectActionEventHandler = addCancelSelectActionEventHandler;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SerializableObject = exports.property = exports.SerializableObjectSchema = exports.CustomProperty = exports.SerializableObjectCollectionProperty = exports.SerializableObjectProperty = exports.EnumProperty = exports.ValueSetProperty = exports.StringArrayProperty = exports.PixelSizeProperty = exports.NumProperty = exports.BoolProperty = exports.StringProperty = exports.PropertyDefinition = exports.BaseSerializationContext = exports.isVersionLessOrEqual = exports.Versions = exports.Version = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar shared_1 = require(\"./shared\");\nvar Utils = require(\"./utils\");\nvar Enums = require(\"./enums\");\nvar strings_1 = require(\"./strings\");\nvar Version = /** @class */ (function () {\n    function Version(major, minor, label) {\n        if (major === void 0) { major = 1; }\n        if (minor === void 0) { minor = 1; }\n        this._isValid = true;\n        this._major = major;\n        this._minor = minor;\n        this._label = label;\n    }\n    Version.parse = function (versionString, context) {\n        if (!versionString) {\n            return undefined;\n        }\n        var result = new Version();\n        result._versionString = versionString;\n        var regEx = /(\\d+).(\\d+)/gi;\n        var matches = regEx.exec(versionString);\n        if (matches != null && matches.length === 3) {\n            result._major = parseInt(matches[1]);\n            result._minor = parseInt(matches[2]);\n        }\n        else {\n            result._isValid = false;\n        }\n        if (!result._isValid) {\n            context.logParseEvent(undefined, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidVersionString(result._versionString));\n        }\n        return result;\n    };\n    Version.prototype.toString = function () {\n        return !this._isValid ? this._versionString : this._major + \".\" + this._minor;\n    };\n    Version.prototype.toJSON = function () {\n        return this.toString();\n    };\n    Version.prototype.compareTo = function (otherVersion) {\n        if (!this.isValid || !otherVersion.isValid) {\n            throw new Error(\"Cannot compare invalid version.\");\n        }\n        if (this.major > otherVersion.major) {\n            return 1;\n        }\n        else if (this.major < otherVersion.major) {\n            return -1;\n        }\n        else if (this.minor > otherVersion.minor) {\n            return 1;\n        }\n        else if (this.minor < otherVersion.minor) {\n            return -1;\n        }\n        return 0;\n    };\n    Object.defineProperty(Version.prototype, \"label\", {\n        get: function () {\n            return this._label ? this._label : this.toString();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Version.prototype, \"major\", {\n        get: function () {\n            return this._major;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Version.prototype, \"minor\", {\n        get: function () {\n            return this._minor;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Version.prototype, \"isValid\", {\n        get: function () {\n            return this._isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Version;\n}());\nexports.Version = Version;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nvar Versions = /** @class */ (function () {\n    function Versions() {\n    }\n    /* eslint-enable @typescript-eslint/naming-convention */\n    Versions.getAllDeclaredVersions = function () {\n        var ctor = Versions;\n        var properties = [];\n        for (var propertyName in ctor) {\n            if (propertyName.match(/^v[0-9_]*$/)) {\n                // filter latest\n                try {\n                    var propertyValue = ctor[propertyName];\n                    if (propertyValue instanceof Version) {\n                        properties.push(propertyValue);\n                    }\n                }\n                catch (_a) {\n                    // If a property happens to have a getter function and\n                    // it throws an exception, we need to catch it here\n                }\n            }\n        }\n        return properties.sort(function (v1, v2) { return v1.compareTo(v2); });\n    };\n    /* eslint-disable @typescript-eslint/naming-convention */\n    Versions.v1_0 = new Version(1, 0);\n    Versions.v1_1 = new Version(1, 1);\n    Versions.v1_2 = new Version(1, 2);\n    Versions.v1_3 = new Version(1, 3);\n    Versions.v1_4 = new Version(1, 4);\n    Versions.v1_5 = new Version(1, 5);\n    // If preview tag is added/removed from any version,\n    // don't forget to update .ac-schema-version-1-?::after too in adaptivecards-site\\themes\\adaptivecards\\source\\css\\style.css\n    Versions.v1_6 = new Version(1, 6, \"1.6 Preview\");\n    Versions.latest = Versions.v1_5;\n    return Versions;\n}());\nexports.Versions = Versions;\nfunction isVersionLessOrEqual(version, targetVersion) {\n    if (version instanceof Version) {\n        if (targetVersion instanceof Version) {\n            return targetVersion.compareTo(version) >= 0;\n        }\n        else {\n            // Target version is *\n            return true;\n        }\n    }\n    else {\n        // Version is *\n        return true;\n    }\n}\nexports.isVersionLessOrEqual = isVersionLessOrEqual;\nvar BaseSerializationContext = /** @class */ (function () {\n    function BaseSerializationContext(targetVersion) {\n        if (targetVersion === void 0) { targetVersion = Versions.latest; }\n        this._validationEvents = [];\n        this.targetVersion = targetVersion;\n    }\n    BaseSerializationContext.prototype.isTemplateString = function (value) {\n        if (typeof value === \"string\") {\n            return value.startsWith(\"${\");\n        }\n        else {\n            return false;\n        }\n    };\n    BaseSerializationContext.prototype.tryDeleteValue = function (target, propertyName) {\n        if (!shared_1.GlobalSettings.enableFullJsonRoundTrip) {\n            delete target[propertyName];\n        }\n    };\n    BaseSerializationContext.prototype.tryDeleteDefaultValue = function (target, propertyName) {\n        if (!shared_1.GlobalSettings.enableFullJsonRoundTrip || !this.isTemplateString(target[propertyName])) {\n            delete target[propertyName];\n        }\n    };\n    BaseSerializationContext.prototype.serializeValue = function (target, propertyName, propertyValue, defaultValue, forceDeleteIfNullOrDefault) {\n        if (defaultValue === void 0) { defaultValue = undefined; }\n        if (forceDeleteIfNullOrDefault === void 0) { forceDeleteIfNullOrDefault = false; }\n        if (propertyValue === null ||\n            propertyValue === undefined) {\n            if (!shared_1.GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault) {\n                delete target[propertyName];\n            }\n        }\n        else if (propertyValue === defaultValue) {\n            if (!shared_1.GlobalSettings.enableFullJsonRoundTrip || forceDeleteIfNullOrDefault || !this.isTemplateString(target[propertyName])) {\n                delete target[propertyName];\n            }\n        }\n        else {\n            target[propertyName] = propertyValue;\n        }\n    };\n    BaseSerializationContext.prototype.serializeString = function (target, propertyName, propertyValue, defaultValue) {\n        if (propertyValue === null ||\n            propertyValue === undefined) {\n            this.tryDeleteValue(target, propertyName);\n        }\n        else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        }\n        else {\n            target[propertyName] = propertyValue;\n        }\n    };\n    BaseSerializationContext.prototype.serializeBool = function (target, propertyName, propertyValue, defaultValue) {\n        if (propertyValue === null ||\n            propertyValue === undefined) {\n            this.tryDeleteValue(target, propertyName);\n        }\n        else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        }\n        else {\n            target[propertyName] = propertyValue;\n        }\n    };\n    BaseSerializationContext.prototype.serializeNumber = function (target, propertyName, propertyValue, defaultValue) {\n        if (propertyValue === null ||\n            propertyValue === undefined ||\n            isNaN(propertyValue)) {\n            this.tryDeleteValue(target, propertyName);\n        }\n        else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        }\n        else {\n            target[propertyName] = propertyValue;\n        }\n    };\n    BaseSerializationContext.prototype.serializeEnum = function (enumType, target, propertyName, propertyValue, defaultValue) {\n        if (defaultValue === void 0) { defaultValue = undefined; }\n        if (propertyValue === null ||\n            propertyValue === undefined) {\n            this.tryDeleteValue(target, propertyName);\n        }\n        else if (propertyValue === defaultValue) {\n            this.tryDeleteDefaultValue(target, propertyName);\n        }\n        else {\n            target[propertyName] = enumType[propertyValue];\n        }\n    };\n    BaseSerializationContext.prototype.serializeArray = function (target, propertyName, propertyValue) {\n        var items = [];\n        if (propertyValue) {\n            for (var _i = 0, propertyValue_1 = propertyValue; _i < propertyValue_1.length; _i++) {\n                var item = propertyValue_1[_i];\n                var serializedItem = undefined;\n                if (item instanceof SerializableObject) {\n                    serializedItem = item.toJSON(this);\n                }\n                else if (item.toJSON) {\n                    serializedItem = item.toJSON();\n                }\n                else {\n                    serializedItem = item;\n                }\n                if (serializedItem !== undefined) {\n                    items.push(serializedItem);\n                }\n            }\n        }\n        if (items.length === 0) {\n            if (target.hasOwnProperty(propertyName) && Array.isArray(target[propertyName])) {\n                delete target[propertyName];\n            }\n        }\n        else {\n            this.serializeValue(target, propertyName, items);\n        }\n    };\n    BaseSerializationContext.prototype.clearEvents = function () {\n        this._validationEvents = [];\n    };\n    BaseSerializationContext.prototype.logEvent = function (source, phase, event, message) {\n        this._validationEvents.push({\n            source: source,\n            phase: phase,\n            event: event,\n            message: message\n        });\n    };\n    BaseSerializationContext.prototype.logParseEvent = function (source, event, message) {\n        this.logEvent(source, Enums.ValidationPhase.Parse, event, message);\n    };\n    BaseSerializationContext.prototype.getEventAt = function (index) {\n        return this._validationEvents[index];\n    };\n    Object.defineProperty(BaseSerializationContext.prototype, \"eventCount\", {\n        get: function () {\n            return this._validationEvents.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BaseSerializationContext;\n}());\nexports.BaseSerializationContext = BaseSerializationContext;\nvar SimpleSerializationContext = /** @class */ (function (_super) {\n    __extends(SimpleSerializationContext, _super);\n    function SimpleSerializationContext() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SimpleSerializationContext;\n}(BaseSerializationContext));\nvar PropertyDefinition = /** @class */ (function () {\n    function PropertyDefinition(targetVersion, name, defaultValue, onGetInitialValue) {\n        this.targetVersion = targetVersion;\n        this.name = name;\n        this.defaultValue = defaultValue;\n        this.onGetInitialValue = onGetInitialValue;\n        this.isSerializationEnabled = true;\n        this.sequentialNumber = PropertyDefinition._sequentialNumber;\n        PropertyDefinition._sequentialNumber++;\n    }\n    PropertyDefinition.prototype.getInternalName = function () {\n        return this.name;\n    };\n    PropertyDefinition.prototype.parse = function (sender, source, context) {\n        return source[this.name];\n    };\n    PropertyDefinition.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, value, this.defaultValue);\n    };\n    PropertyDefinition._sequentialNumber = 0;\n    return PropertyDefinition;\n}());\nexports.PropertyDefinition = PropertyDefinition;\nvar StringProperty = /** @class */ (function (_super) {\n    __extends(StringProperty, _super);\n    function StringProperty(targetVersion, name, treatEmptyAsUndefined, regEx, defaultValue, onGetInitialValue) {\n        if (treatEmptyAsUndefined === void 0) { treatEmptyAsUndefined = true; }\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.treatEmptyAsUndefined = treatEmptyAsUndefined;\n        _this.regEx = regEx;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    StringProperty.prototype.parse = function (sender, source, context) {\n        var parsedValue = Utils.parseString(source[this.name], this.defaultValue);\n        var isUndefined = parsedValue === undefined || (parsedValue === \"\" && this.treatEmptyAsUndefined);\n        if (!isUndefined && this.regEx !== undefined) {\n            var matches = this.regEx.exec(parsedValue);\n            if (!matches) {\n                context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(parsedValue, this.name));\n                return undefined;\n            }\n        }\n        return parsedValue;\n    };\n    StringProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeString(target, this.name, value === \"\" && this.treatEmptyAsUndefined ? undefined : value, this.defaultValue);\n    };\n    return StringProperty;\n}(PropertyDefinition));\nexports.StringProperty = StringProperty;\nvar BoolProperty = /** @class */ (function (_super) {\n    __extends(BoolProperty, _super);\n    function BoolProperty(targetVersion, name, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    BoolProperty.prototype.parse = function (sender, source, context) {\n        return Utils.parseBool(source[this.name], this.defaultValue);\n    };\n    BoolProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeBool(target, this.name, value, this.defaultValue);\n    };\n    return BoolProperty;\n}(PropertyDefinition));\nexports.BoolProperty = BoolProperty;\nvar NumProperty = /** @class */ (function (_super) {\n    __extends(NumProperty, _super);\n    function NumProperty(targetVersion, name, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    NumProperty.prototype.parse = function (sender, source, context) {\n        return Utils.parseNumber(source[this.name], this.defaultValue);\n    };\n    NumProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeNumber(target, this.name, value, this.defaultValue);\n    };\n    return NumProperty;\n}(PropertyDefinition));\nexports.NumProperty = NumProperty;\nvar PixelSizeProperty = /** @class */ (function (_super) {\n    __extends(PixelSizeProperty, _super);\n    function PixelSizeProperty() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PixelSizeProperty.prototype.parse = function (sender, source, context) {\n        var result = undefined;\n        var value = source[this.name];\n        if (typeof value === \"string\") {\n            var isValid = false;\n            try {\n                var size = shared_1.SizeAndUnit.parse(value, true);\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n                    isValid = true;\n                }\n            }\n            catch (_a) {\n                // Do nothing. A parse error is emitted below\n            }\n            if (!isValid) {\n                context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(source[this.name], this.name));\n            }\n        }\n        return result;\n    };\n    PixelSizeProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined);\n    };\n    return PixelSizeProperty;\n}(PropertyDefinition));\nexports.PixelSizeProperty = PixelSizeProperty;\nvar StringArrayProperty = /** @class */ (function (_super) {\n    __extends(StringArrayProperty, _super);\n    function StringArrayProperty(targetVersion, name, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    StringArrayProperty.prototype.parse = function (sender, source, context) {\n        var sourceValue = source[this.name];\n        if (sourceValue === undefined || !Array.isArray(sourceValue)) {\n            return this.defaultValue;\n        }\n        var result = [];\n        for (var _i = 0, sourceValue_1 = sourceValue; _i < sourceValue_1.length; _i++) {\n            var value = sourceValue_1[_i];\n            if (typeof value === \"string\") {\n                result.push(value);\n            }\n            else {\n                context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, \"Invalid array value \\\"\".concat(JSON.stringify(value), \"\\\" of type \\\"\").concat(typeof value, \"\\\" ignored for \\\"\").concat(this.name, \"\\\".\"));\n            }\n        }\n        return result;\n    };\n    StringArrayProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeArray(target, this.name, value);\n    };\n    return StringArrayProperty;\n}(PropertyDefinition));\nexports.StringArrayProperty = StringArrayProperty;\nvar ValueSetProperty = /** @class */ (function (_super) {\n    __extends(ValueSetProperty, _super);\n    function ValueSetProperty(targetVersion, name, values, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.values = values;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    ValueSetProperty.prototype.isValidValue = function (value, context) {\n        for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n            var versionedValue = _a[_i];\n            if (value.toLowerCase() === versionedValue.value.toLowerCase()) {\n                var targetVersion = versionedValue.targetVersion\n                    ? versionedValue.targetVersion\n                    : this.targetVersion;\n                return targetVersion.compareTo(context.targetVersion) <= 0;\n            }\n        }\n        return false;\n    };\n    ValueSetProperty.prototype.parse = function (sender, source, context) {\n        var sourceValue = source[this.name];\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n        if (typeof sourceValue === \"string\") {\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n                var versionedValue = _a[_i];\n                if (sourceValue.toLowerCase() === versionedValue.value.toLowerCase()) {\n                    var targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return versionedValue.value;\n                    }\n                    else {\n                        context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.propertyValueNotSupported(sourceValue, this.name, targetVersion.toString(), context.targetVersion.toString()));\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n        context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(sourceValue, this.name));\n        return this.defaultValue;\n    };\n    ValueSetProperty.prototype.toJSON = function (sender, target, value, context) {\n        var invalidValue = false;\n        if (value !== undefined) {\n            invalidValue = true;\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n                var versionedValue = _a[_i];\n                if (versionedValue.value === value) {\n                    var targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n                        break;\n                    }\n                    else {\n                        context.logEvent(sender, Enums.ValidationPhase.ToJSON, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.propertyValueNotSupported(value, this.name, targetVersion.toString(), context.targetVersion.toString()));\n                    }\n                }\n            }\n        }\n        if (!invalidValue) {\n            context.serializeValue(target, this.name, value, this.defaultValue, true);\n        }\n    };\n    return ValueSetProperty;\n}(PropertyDefinition));\nexports.ValueSetProperty = ValueSetProperty;\nvar EnumProperty = /** @class */ (function (_super) {\n    __extends(EnumProperty, _super);\n    function EnumProperty(targetVersion, name, enumType, defaultValue, values, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.enumType = enumType;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        _this._values = [];\n        if (!values) {\n            // eslint-disable-next-line guard-for-in\n            for (var key in enumType) {\n                var keyAsNumber = parseInt(key, 10);\n                if (keyAsNumber >= 0) {\n                    _this._values.push({ value: keyAsNumber });\n                }\n            }\n        }\n        else {\n            _this._values = values;\n        }\n        return _this;\n    }\n    EnumProperty.prototype.parse = function (sender, source, context) {\n        var sourceValue = source[this.name];\n        if (typeof sourceValue !== \"string\") {\n            return this.defaultValue;\n        }\n        var enumValue = Utils.getEnumValueByName(this.enumType, sourceValue);\n        if (enumValue !== undefined) {\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n                var versionedValue = _a[_i];\n                if (versionedValue.value === enumValue) {\n                    var targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        return enumValue;\n                    }\n                    else {\n                        context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.propertyValueNotSupported(sourceValue, this.name, targetVersion.toString(), context.targetVersion.toString()));\n                        return this.defaultValue;\n                    }\n                }\n            }\n        }\n        context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(sourceValue, this.name));\n        return this.defaultValue;\n    };\n    EnumProperty.prototype.toJSON = function (sender, target, value, context) {\n        var invalidValue = false;\n        if (value !== undefined) {\n            invalidValue = true;\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\n                var versionedValue = _a[_i];\n                if (versionedValue.value === value) {\n                    var targetVersion = versionedValue.targetVersion\n                        ? versionedValue.targetVersion\n                        : this.targetVersion;\n                    if (targetVersion.compareTo(context.targetVersion) <= 0) {\n                        invalidValue = false;\n                        break;\n                    }\n                    else {\n                        context.logEvent(sender, Enums.ValidationPhase.ToJSON, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(value, this.name));\n                    }\n                }\n            }\n        }\n        if (!invalidValue) {\n            context.serializeEnum(this.enumType, target, this.name, value, this.defaultValue);\n        }\n    };\n    Object.defineProperty(EnumProperty.prototype, \"values\", {\n        get: function () {\n            return this._values;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EnumProperty;\n}(PropertyDefinition));\nexports.EnumProperty = EnumProperty;\nvar SerializableObjectProperty = /** @class */ (function (_super) {\n    __extends(SerializableObjectProperty, _super);\n    function SerializableObjectProperty(targetVersion, name, objectType, nullable, defaultValue) {\n        if (nullable === void 0) { nullable = false; }\n        var _this = _super.call(this, targetVersion, name, defaultValue, function (sender) {\n            return _this.nullable ? undefined : new _this.objectType();\n        }) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.objectType = objectType;\n        _this.nullable = nullable;\n        return _this;\n    }\n    SerializableObjectProperty.prototype.parse = function (sender, source, context) {\n        var sourceValue = source[this.name];\n        if (sourceValue === undefined) {\n            return this.onGetInitialValue ? this.onGetInitialValue(sender) : this.defaultValue;\n        }\n        var result = new this.objectType();\n        result.parse(sourceValue, context);\n        return result;\n    };\n    SerializableObjectProperty.prototype.toJSON = function (sender, target, value, context) {\n        var serializedValue = undefined;\n        if (value !== undefined && !value.hasAllDefaultValues()) {\n            serializedValue = value.toJSON(context);\n        }\n        if (typeof serializedValue === \"object\" && Object.keys(serializedValue).length === 0) {\n            serializedValue = undefined;\n        }\n        context.serializeValue(target, this.name, serializedValue, this.defaultValue, true);\n    };\n    return SerializableObjectProperty;\n}(PropertyDefinition));\nexports.SerializableObjectProperty = SerializableObjectProperty;\nvar SerializableObjectCollectionProperty = /** @class */ (function (_super) {\n    __extends(SerializableObjectCollectionProperty, _super);\n    function SerializableObjectCollectionProperty(targetVersion, name, objectType, onItemAdded) {\n        var _this = _super.call(this, targetVersion, name, undefined, function (sender) {\n            return [];\n        }) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.objectType = objectType;\n        _this.onItemAdded = onItemAdded;\n        return _this;\n    }\n    SerializableObjectCollectionProperty.prototype.parse = function (sender, source, context) {\n        var result = [];\n        var sourceCollection = source[this.name];\n        if (Array.isArray(sourceCollection)) {\n            for (var _i = 0, sourceCollection_1 = sourceCollection; _i < sourceCollection_1.length; _i++) {\n                var sourceItem = sourceCollection_1[_i];\n                var item = new this.objectType();\n                item.parse(sourceItem, context);\n                result.push(item);\n                if (this.onItemAdded) {\n                    this.onItemAdded(sender, item);\n                }\n            }\n        }\n        return result.length > 0\n            ? result\n            : this.onGetInitialValue\n                ? this.onGetInitialValue(sender)\n                : undefined;\n    };\n    SerializableObjectCollectionProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeArray(target, this.name, value);\n    };\n    return SerializableObjectCollectionProperty;\n}(PropertyDefinition));\nexports.SerializableObjectCollectionProperty = SerializableObjectCollectionProperty;\nvar CustomProperty = /** @class */ (function (_super) {\n    __extends(CustomProperty, _super);\n    function CustomProperty(targetVersion, name, onParse, onToJSON, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.onParse = onParse;\n        _this.onToJSON = onToJSON;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        if (!_this.onParse) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onParse handler.\");\n        }\n        if (!_this.onToJSON) {\n            throw new Error(\"CustomPropertyDefinition instances must have an onToJSON handler.\");\n        }\n        return _this;\n    }\n    CustomProperty.prototype.parse = function (sender, source, context) {\n        return this.onParse(sender, this, source, context);\n    };\n    CustomProperty.prototype.toJSON = function (sender, target, value, context) {\n        this.onToJSON(sender, this, target, value, context);\n    };\n    return CustomProperty;\n}(PropertyDefinition));\nexports.CustomProperty = CustomProperty;\nvar SerializableObjectSchema = /** @class */ (function () {\n    function SerializableObjectSchema() {\n        this._properties = [];\n    }\n    SerializableObjectSchema.prototype.indexOf = function (prop) {\n        for (var i = 0; i < this._properties.length; i++) {\n            if (this._properties[i] === prop) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    SerializableObjectSchema.prototype.add = function () {\n        var properties = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            properties[_i] = arguments[_i];\n        }\n        for (var _a = 0, properties_1 = properties; _a < properties_1.length; _a++) {\n            var prop = properties_1[_a];\n            if (this.indexOf(prop) === -1) {\n                this._properties.push(prop);\n            }\n        }\n    };\n    SerializableObjectSchema.prototype.remove = function () {\n        var properties = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            properties[_i] = arguments[_i];\n        }\n        for (var _a = 0, properties_2 = properties; _a < properties_2.length; _a++) {\n            var prop = properties_2[_a];\n            while (true) {\n                var index = this.indexOf(prop);\n                if (index >= 0) {\n                    this._properties.splice(index, 1);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n    };\n    SerializableObjectSchema.prototype.getItemAt = function (index) {\n        return this._properties[index];\n    };\n    SerializableObjectSchema.prototype.getCount = function () {\n        return this._properties.length;\n    };\n    return SerializableObjectSchema;\n}());\nexports.SerializableObjectSchema = SerializableObjectSchema;\n// This is a decorator function, used to map SerializableObject descendant class members to\n// schema properties\nfunction property(prop) {\n    return function (target, propertyKey) {\n        var descriptor = Object.getOwnPropertyDescriptor(target, propertyKey) || {};\n        if (!descriptor.get && !descriptor.set) {\n            descriptor.get = function () {\n                return this.getValue(prop);\n            };\n            descriptor.set = function (value) {\n                this.setValue(prop, value);\n            };\n            Object.defineProperty(target, propertyKey, descriptor);\n        }\n    };\n}\nexports.property = property;\nvar SerializableObject = /** @class */ (function () {\n    function SerializableObject() {\n        this._propertyBag = {};\n        this._rawProperties = {};\n        this.maxVersion = SerializableObject.defaultMaxVersion;\n        var s = this.getSchema();\n        for (var i = 0; i < s.getCount(); i++) {\n            var prop = s.getItemAt(i);\n            if (prop.onGetInitialValue) {\n                this.setValue(prop, prop.onGetInitialValue(this));\n            }\n        }\n    }\n    SerializableObject.prototype.getDefaultSerializationContext = function () {\n        return new SimpleSerializationContext();\n    };\n    SerializableObject.prototype.populateSchema = function (schema) {\n        var ctor = this.constructor;\n        var properties = [];\n        // eslint-disable-next-line guard-for-in\n        for (var propertyName in ctor) {\n            try {\n                var propertyValue = ctor[propertyName];\n                if (propertyValue instanceof PropertyDefinition) {\n                    properties.push(propertyValue);\n                }\n            }\n            catch (_a) {\n                // If a property happens to have a getter function and\n                // it throws an exception, we need to catch it here\n            }\n        }\n        if (properties.length > 0) {\n            var sortedProperties = properties.sort(function (p1, p2) {\n                if (p1.sequentialNumber > p2.sequentialNumber) {\n                    return 1;\n                }\n                else if (p1.sequentialNumber < p2.sequentialNumber) {\n                    return -1;\n                }\n                return 0;\n            });\n            schema.add.apply(schema, sortedProperties);\n        }\n        if (SerializableObject.onRegisterCustomProperties) {\n            SerializableObject.onRegisterCustomProperties(this, schema);\n        }\n    };\n    SerializableObject.prototype.getValue = function (prop) {\n        return this._propertyBag.hasOwnProperty(prop.getInternalName())\n            ? this._propertyBag[prop.getInternalName()]\n            : prop.defaultValue;\n    };\n    SerializableObject.prototype.setValue = function (prop, value) {\n        if (value === undefined || value === null) {\n            delete this._propertyBag[prop.getInternalName()];\n        }\n        else {\n            this._propertyBag[prop.getInternalName()] = value;\n        }\n    };\n    SerializableObject.prototype.internalParse = function (source, context) {\n        this._propertyBag = {};\n        this._rawProperties = shared_1.GlobalSettings.enableFullJsonRoundTrip ? (source ? source : {}) : {};\n        if (source) {\n            var s = this.getSchema();\n            for (var i = 0; i < s.getCount(); i++) {\n                var prop = s.getItemAt(i);\n                if (prop.isSerializationEnabled) {\n                    var propertyValue = prop.onGetInitialValue\n                        ? prop.onGetInitialValue(this)\n                        : undefined;\n                    if (source.hasOwnProperty(prop.name)) {\n                        if (prop.targetVersion.compareTo(context.targetVersion) <= 0) {\n                            propertyValue = prop.parse(this, source, context);\n                        }\n                        else {\n                            context.logParseEvent(this, Enums.ValidationEvent.UnsupportedProperty, strings_1.Strings.errors.propertyNotSupported(prop.name, prop.targetVersion.toString(), context.targetVersion.toString()));\n                        }\n                    }\n                    this.setValue(prop, propertyValue);\n                }\n            }\n        }\n        else {\n            this.resetDefaultValues();\n        }\n    };\n    SerializableObject.prototype.internalToJSON = function (target, context) {\n        var s = this.getSchema();\n        var serializedProperties = [];\n        for (var i = 0; i < s.getCount(); i++) {\n            var prop = s.getItemAt(i);\n            // Avoid serializing the same property multiple times. This is necessary\n            // because some property definitions map to the same underlying schema\n            // property\n            if (prop.isSerializationEnabled &&\n                prop.targetVersion.compareTo(context.targetVersion) <= 0 &&\n                serializedProperties.indexOf(prop.name) === -1) {\n                prop.toJSON(this, target, this.getValue(prop), context);\n                serializedProperties.push(prop.name);\n            }\n        }\n    };\n    SerializableObject.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    SerializableObject.prototype.parse = function (source, context) {\n        this.internalParse(source, context ? context : new SimpleSerializationContext());\n    };\n    SerializableObject.prototype.toJSON = function (context) {\n        var effectiveContext;\n        if (context && context instanceof BaseSerializationContext) {\n            effectiveContext = context;\n        }\n        else {\n            effectiveContext = this.getDefaultSerializationContext();\n            effectiveContext.toJSONOriginalParam = context;\n        }\n        if (this.shouldSerialize(effectiveContext)) {\n            var result = void 0;\n            if (shared_1.GlobalSettings.enableFullJsonRoundTrip &&\n                this._rawProperties &&\n                typeof this._rawProperties === \"object\") {\n                result = this._rawProperties;\n            }\n            else {\n                result = {};\n            }\n            this.internalToJSON(result, effectiveContext);\n            return result;\n        }\n        else {\n            return undefined;\n        }\n    };\n    SerializableObject.prototype.hasDefaultValue = function (prop) {\n        return this.getValue(prop) === prop.defaultValue;\n    };\n    SerializableObject.prototype.hasAllDefaultValues = function () {\n        var s = this.getSchema();\n        for (var i = 0; i < s.getCount(); i++) {\n            var prop = s.getItemAt(i);\n            if (!this.hasDefaultValue(prop)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    SerializableObject.prototype.resetDefaultValues = function () {\n        var s = this.getSchema();\n        for (var i = 0; i < s.getCount(); i++) {\n            var prop = s.getItemAt(i);\n            this.setValue(prop, prop.defaultValue);\n        }\n    };\n    SerializableObject.prototype.setCustomProperty = function (name, value) {\n        var shouldDeleteProperty = (typeof value === \"string\" && !value) || value === undefined || value === null;\n        if (shouldDeleteProperty) {\n            delete this._rawProperties[name];\n        }\n        else {\n            this._rawProperties[name] = value;\n        }\n    };\n    SerializableObject.prototype.getCustomProperty = function (name) {\n        return this._rawProperties[name];\n    };\n    SerializableObject.prototype.getSchema = function () {\n        var schema = SerializableObject._schemaCache[this.getSchemaKey()];\n        if (!schema) {\n            schema = new SerializableObjectSchema();\n            this.populateSchema(schema);\n            SerializableObject._schemaCache[this.getSchemaKey()] = schema;\n        }\n        return schema;\n    };\n    SerializableObject.defaultMaxVersion = Versions.latest;\n    SerializableObject._schemaCache = {};\n    return SerializableObject;\n}());\nexports.SerializableObject = SerializableObject;\n//# sourceMappingURL=serialization.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HostCapabilities = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar serialization_1 = require(\"./serialization\");\nvar HostCapabilities = /** @class */ (function (_super) {\n    __extends(HostCapabilities, _super);\n    function HostCapabilities() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._capabilities = {};\n        return _this;\n    }\n    HostCapabilities.prototype.getSchemaKey = function () {\n        return \"HostCapabilities\";\n    };\n    HostCapabilities.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        if (source) {\n            // eslint-disable-next-line guard-for-in\n            for (var name_1 in source) {\n                var jsonVersion = source[name_1];\n                if (typeof jsonVersion === \"string\") {\n                    if (jsonVersion === \"*\") {\n                        this.addCapability(name_1, \"*\");\n                    }\n                    else {\n                        var version = serialization_1.Version.parse(jsonVersion, context);\n                        if (version === null || version === void 0 ? void 0 : version.isValid) {\n                            this.addCapability(name_1, version);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    HostCapabilities.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        // eslint-disable-next-line guard-for-in\n        for (var key in this._capabilities) {\n            target[key] = this._capabilities[key];\n        }\n    };\n    HostCapabilities.prototype.addCapability = function (name, version) {\n        this._capabilities[name] = version;\n    };\n    HostCapabilities.prototype.removeCapability = function (name) {\n        delete this._capabilities[name];\n    };\n    HostCapabilities.prototype.clear = function () {\n        this._capabilities = {};\n    };\n    HostCapabilities.prototype.hasCapability = function (name, version) {\n        if (this._capabilities.hasOwnProperty(name)) {\n            if (version === \"*\" || this._capabilities[name] === \"*\") {\n                return true;\n            }\n            return version.compareTo(this._capabilities[name]) <= 0;\n        }\n        return false;\n    };\n    HostCapabilities.prototype.areAllMet = function (hostCapabilities) {\n        for (var capabilityName in this._capabilities) {\n            if (!hostCapabilities.hasCapability(capabilityName, this._capabilities[capabilityName])) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return HostCapabilities;\n}(serialization_1.SerializableObject));\nexports.HostCapabilities = HostCapabilities;\n//# sourceMappingURL=host-capabilities.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultHostConfig = exports.HostConfig = exports.CarouselConfig = exports.FontTypeSet = exports.FontTypeDefinition = exports.ContainerStyleSet = exports.ContainerStyleDefinition = exports.ColorSetDefinition = exports.ActionsConfig = exports.ShowCardActionConfig = exports.FactSetConfig = exports.FactTitleDefinition = exports.FactTextDefinition = exports.InputConfig = exports.InputLabelConfig = exports.RequiredInputLabelTextDefinition = exports.TextBlockConfig = exports.TextStyleSet = exports.TextStyleDefinition = exports.BaseTextDefinition = exports.TableConfig = exports.MediaConfig = exports.ImageSetConfig = exports.AdaptiveCardConfig = exports.TextColorDefinition = exports.ColorDefinition = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar Utils = require(\"./utils\");\nvar Shared = require(\"./shared\");\nvar host_capabilities_1 = require(\"./host-capabilities\");\nfunction parseHostConfigEnum(targetEnum, value, defaultValue) {\n    if (typeof value === \"string\") {\n        var parsedValue = Utils.parseEnum(targetEnum, value, defaultValue);\n        return parsedValue !== undefined ? parsedValue : defaultValue;\n    }\n    else if (typeof value === \"number\") {\n        return value;\n    }\n    else {\n        return defaultValue;\n    }\n}\nvar ColorDefinition = /** @class */ (function () {\n    function ColorDefinition(defaultColor, subtleColor) {\n        this.default = \"#000000\";\n        this.subtle = \"#666666\";\n        if (defaultColor) {\n            this.default = defaultColor;\n        }\n        if (subtleColor) {\n            this.subtle = subtleColor;\n        }\n    }\n    ColorDefinition.prototype.parse = function (obj) {\n        if (obj) {\n            this.default = obj[\"default\"] || this.default;\n            this.subtle = obj[\"subtle\"] || this.subtle;\n        }\n    };\n    return ColorDefinition;\n}());\nexports.ColorDefinition = ColorDefinition;\nvar TextColorDefinition = /** @class */ (function (_super) {\n    __extends(TextColorDefinition, _super);\n    function TextColorDefinition() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.highlightColors = new ColorDefinition(\"#22000000\", \"#11000000\");\n        return _this;\n    }\n    TextColorDefinition.prototype.parse = function (obj) {\n        _super.prototype.parse.call(this, obj);\n        if (obj) {\n            this.highlightColors.parse(obj[\"highlightColors\"]);\n        }\n    };\n    return TextColorDefinition;\n}(ColorDefinition));\nexports.TextColorDefinition = TextColorDefinition;\nvar AdaptiveCardConfig = /** @class */ (function () {\n    function AdaptiveCardConfig(obj) {\n        this.allowCustomStyle = false;\n        if (obj) {\n            this.allowCustomStyle = obj[\"allowCustomStyle\"] || this.allowCustomStyle;\n        }\n    }\n    return AdaptiveCardConfig;\n}());\nexports.AdaptiveCardConfig = AdaptiveCardConfig;\nvar ImageSetConfig = /** @class */ (function () {\n    function ImageSetConfig(obj) {\n        this.imageSize = Enums.Size.Medium;\n        this.maxImageHeight = 100;\n        if (obj) {\n            this.imageSize = obj[\"imageSize\"] != null ? obj[\"imageSize\"] : this.imageSize;\n            this.maxImageHeight = Utils.parseNumber(obj[\"maxImageHeight\"], 100);\n        }\n    }\n    ImageSetConfig.prototype.toJSON = function () {\n        return {\n            imageSize: Enums.Size[this.imageSize],\n            maxImageHeight: this.maxImageHeight\n        };\n    };\n    return ImageSetConfig;\n}());\nexports.ImageSetConfig = ImageSetConfig;\nvar MediaConfig = /** @class */ (function () {\n    function MediaConfig(obj) {\n        this.allowInlinePlayback = true;\n        if (obj) {\n            this.defaultPoster = obj[\"defaultPoster\"];\n            this.allowInlinePlayback = obj[\"allowInlinePlayback\"] || this.allowInlinePlayback;\n        }\n    }\n    MediaConfig.prototype.toJSON = function () {\n        return {\n            defaultPoster: this.defaultPoster,\n            allowInlinePlayback: this.allowInlinePlayback\n        };\n    };\n    return MediaConfig;\n}());\nexports.MediaConfig = MediaConfig;\nvar TableConfig = /** @class */ (function () {\n    function TableConfig(obj) {\n        this.cellSpacing = 8;\n        if (obj) {\n            this.cellSpacing =\n                obj.cellSpacing && typeof obj.cellSpacing === \"number\"\n                    ? obj.cellSpacing\n                    : this.cellSpacing;\n        }\n    }\n    TableConfig.prototype.toJSON = function () {\n        return {\n            cellSpacing: this.cellSpacing\n        };\n    };\n    return TableConfig;\n}());\nexports.TableConfig = TableConfig;\nvar BaseTextDefinition = /** @class */ (function () {\n    function BaseTextDefinition(obj) {\n        this.size = Enums.TextSize.Default;\n        this.color = Enums.TextColor.Default;\n        this.isSubtle = false;\n        this.weight = Enums.TextWeight.Default;\n        this.parse(obj);\n    }\n    BaseTextDefinition.prototype.parse = function (obj) {\n        if (obj) {\n            this.size = parseHostConfigEnum(Enums.TextSize, obj[\"size\"], this.size);\n            this.color = parseHostConfigEnum(Enums.TextColor, obj[\"color\"], this.color);\n            this.isSubtle =\n                obj.isSubtle !== undefined && typeof obj.isSubtle === \"boolean\"\n                    ? obj.isSubtle\n                    : this.isSubtle;\n            this.weight = parseHostConfigEnum(Enums.TextWeight, obj[\"weight\"], this.getDefaultWeight());\n        }\n    };\n    BaseTextDefinition.prototype.getDefaultWeight = function () {\n        return Enums.TextWeight.Default;\n    };\n    BaseTextDefinition.prototype.toJSON = function () {\n        return {\n            size: Enums.TextSize[this.size],\n            color: Enums.TextColor[this.color],\n            isSubtle: this.isSubtle,\n            weight: Enums.TextWeight[this.weight]\n        };\n    };\n    return BaseTextDefinition;\n}());\nexports.BaseTextDefinition = BaseTextDefinition;\nvar TextStyleDefinition = /** @class */ (function (_super) {\n    __extends(TextStyleDefinition, _super);\n    function TextStyleDefinition() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.fontType = Enums.FontType.Default;\n        return _this;\n    }\n    TextStyleDefinition.prototype.parse = function (obj) {\n        _super.prototype.parse.call(this, obj);\n        if (obj) {\n            this.fontType = parseHostConfigEnum(Enums.FontType, obj.fontType, this.fontType);\n        }\n    };\n    return TextStyleDefinition;\n}(BaseTextDefinition));\nexports.TextStyleDefinition = TextStyleDefinition;\nvar TextStyleSet = /** @class */ (function () {\n    function TextStyleSet(obj) {\n        this.default = new TextStyleDefinition();\n        this.heading = new TextStyleDefinition({\n            size: \"Large\",\n            weight: \"Bolder\"\n        });\n        this.columnHeader = new TextStyleDefinition({\n            weight: \"Bolder\"\n        });\n        if (obj) {\n            this.heading.parse(obj.heading);\n            this.columnHeader.parse(obj.columnHeader);\n        }\n    }\n    TextStyleSet.prototype.getStyleByName = function (name) {\n        switch (name.toLowerCase()) {\n            case \"heading\":\n                return this.heading;\n            case \"columnHeader\":\n                return this.columnHeader;\n            default:\n                return this.default;\n        }\n    };\n    return TextStyleSet;\n}());\nexports.TextStyleSet = TextStyleSet;\nvar TextBlockConfig = /** @class */ (function () {\n    function TextBlockConfig(obj) {\n        if (obj) {\n            this.headingLevel = Utils.parseNumber(obj.headingLevel);\n        }\n    }\n    return TextBlockConfig;\n}());\nexports.TextBlockConfig = TextBlockConfig;\nvar RequiredInputLabelTextDefinition = /** @class */ (function (_super) {\n    __extends(RequiredInputLabelTextDefinition, _super);\n    function RequiredInputLabelTextDefinition() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.suffix = \" *\";\n        _this.suffixColor = Enums.TextColor.Attention;\n        return _this;\n    }\n    RequiredInputLabelTextDefinition.prototype.parse = function (obj) {\n        _super.prototype.parse.call(this, obj);\n        if (obj) {\n            this.suffix = obj[\"suffix\"] || this.suffix;\n            this.suffixColor = parseHostConfigEnum(Enums.TextColor, obj[\"suffixColor\"], this.suffixColor);\n        }\n    };\n    RequiredInputLabelTextDefinition.prototype.toJSON = function () {\n        var result = _super.prototype.toJSON.call(this);\n        result[\"suffix\"] = this.suffix;\n        result[\"suffixColor\"] = Enums.TextColor[this.suffixColor];\n        return result;\n    };\n    return RequiredInputLabelTextDefinition;\n}(BaseTextDefinition));\nexports.RequiredInputLabelTextDefinition = RequiredInputLabelTextDefinition;\nvar InputLabelConfig = /** @class */ (function () {\n    function InputLabelConfig(obj) {\n        this.inputSpacing = Enums.Spacing.Small;\n        this.width = 30;\n        this.requiredInputs = new RequiredInputLabelTextDefinition();\n        this.optionalInputs = new BaseTextDefinition();\n        if (obj) {\n            this.inputSpacing = parseHostConfigEnum(Enums.Spacing, obj[\"inputSpacing\"], this.inputSpacing);\n            this.requiredInputs = new RequiredInputLabelTextDefinition(obj[\"requiredInputs\"]);\n            this.optionalInputs = new BaseTextDefinition(obj[\"optionalInputs\"]);\n            this.width =\n                obj[\"width\"] != null ? obj[\"width\"] : this.width;\n        }\n    }\n    return InputLabelConfig;\n}());\nexports.InputLabelConfig = InputLabelConfig;\nvar InputConfig = /** @class */ (function () {\n    function InputConfig(obj) {\n        this.label = new InputLabelConfig();\n        this.errorMessage = new BaseTextDefinition({\n            color: Enums.TextColor.Attention\n        });\n        if (obj) {\n            this.label = new InputLabelConfig(obj[\"label\"]);\n            this.errorMessage = new BaseTextDefinition(obj[\"errorMessage\"]);\n        }\n    }\n    return InputConfig;\n}());\nexports.InputConfig = InputConfig;\nvar FactTextDefinition = /** @class */ (function (_super) {\n    __extends(FactTextDefinition, _super);\n    function FactTextDefinition() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.wrap = true;\n        return _this;\n    }\n    FactTextDefinition.prototype.parse = function (obj) {\n        _super.prototype.parse.call(this, obj);\n        if (obj) {\n            this.wrap = obj[\"wrap\"] != null ? obj[\"wrap\"] : this.wrap;\n        }\n    };\n    FactTextDefinition.prototype.toJSON = function () {\n        var result = _super.prototype.toJSON.call(this);\n        result[\"wrap\"] = this.wrap;\n        return result;\n    };\n    return FactTextDefinition;\n}(BaseTextDefinition));\nexports.FactTextDefinition = FactTextDefinition;\nvar FactTitleDefinition = /** @class */ (function (_super) {\n    __extends(FactTitleDefinition, _super);\n    function FactTitleDefinition(obj) {\n        var _this = _super.call(this, obj) || this;\n        _this.maxWidth = 150;\n        _this.weight = Enums.TextWeight.Bolder;\n        if (obj) {\n            _this.maxWidth = obj[\"maxWidth\"] != null ? obj[\"maxWidth\"] : _this.maxWidth;\n            _this.weight = parseHostConfigEnum(Enums.TextWeight, obj[\"weight\"], Enums.TextWeight.Bolder);\n        }\n        return _this;\n    }\n    FactTitleDefinition.prototype.getDefaultWeight = function () {\n        return Enums.TextWeight.Bolder;\n    };\n    return FactTitleDefinition;\n}(FactTextDefinition));\nexports.FactTitleDefinition = FactTitleDefinition;\nvar FactSetConfig = /** @class */ (function () {\n    function FactSetConfig(obj) {\n        this.title = new FactTitleDefinition();\n        this.value = new FactTextDefinition();\n        this.spacing = 10;\n        if (obj) {\n            this.title = new FactTitleDefinition(obj[\"title\"]);\n            this.value = new FactTextDefinition(obj[\"value\"]);\n            this.spacing =\n                obj.spacing && obj.spacing != null ? obj.spacing && obj.spacing : this.spacing;\n        }\n    }\n    return FactSetConfig;\n}());\nexports.FactSetConfig = FactSetConfig;\nvar ShowCardActionConfig = /** @class */ (function () {\n    function ShowCardActionConfig(obj) {\n        this.actionMode = Enums.ShowCardActionMode.Inline;\n        this.inlineTopMargin = 16;\n        this.style = Enums.ContainerStyle.Emphasis;\n        if (obj) {\n            this.actionMode = parseHostConfigEnum(Enums.ShowCardActionMode, obj[\"actionMode\"], Enums.ShowCardActionMode.Inline);\n            this.inlineTopMargin =\n                obj[\"inlineTopMargin\"] != null ? obj[\"inlineTopMargin\"] : this.inlineTopMargin;\n            this.style =\n                obj[\"style\"] && typeof obj[\"style\"] === \"string\"\n                    ? obj[\"style\"]\n                    : Enums.ContainerStyle.Emphasis;\n        }\n    }\n    ShowCardActionConfig.prototype.toJSON = function () {\n        return {\n            actionMode: Enums.ShowCardActionMode[this.actionMode],\n            inlineTopMargin: this.inlineTopMargin,\n            style: this.style\n        };\n    };\n    return ShowCardActionConfig;\n}());\nexports.ShowCardActionConfig = ShowCardActionConfig;\nvar ActionsConfig = /** @class */ (function () {\n    function ActionsConfig(obj) {\n        this.maxActions = 5;\n        this.spacing = Enums.Spacing.Default;\n        this.buttonSpacing = 20;\n        this.showCard = new ShowCardActionConfig();\n        this.preExpandSingleShowCardAction = false;\n        this.actionsOrientation = Enums.Orientation.Horizontal;\n        this.actionAlignment = Enums.ActionAlignment.Left;\n        this.iconPlacement = Enums.ActionIconPlacement.LeftOfTitle;\n        this.allowTitleToWrap = false;\n        this.iconSize = 16;\n        if (obj) {\n            this.maxActions = obj[\"maxActions\"] != null ? obj[\"maxActions\"] : this.maxActions;\n            this.spacing = parseHostConfigEnum(Enums.Spacing, obj.spacing && obj.spacing, Enums.Spacing.Default);\n            this.buttonSpacing =\n                obj[\"buttonSpacing\"] != null ? obj[\"buttonSpacing\"] : this.buttonSpacing;\n            this.showCard = new ShowCardActionConfig(obj[\"showCard\"]);\n            this.preExpandSingleShowCardAction = Utils.parseBool(obj[\"preExpandSingleShowCardAction\"], false);\n            this.actionsOrientation = parseHostConfigEnum(Enums.Orientation, obj[\"actionsOrientation\"], Enums.Orientation.Horizontal);\n            this.actionAlignment = parseHostConfigEnum(Enums.ActionAlignment, obj[\"actionAlignment\"], Enums.ActionAlignment.Left);\n            this.iconPlacement = parseHostConfigEnum(Enums.ActionIconPlacement, obj[\"iconPlacement\"], Enums.ActionIconPlacement.LeftOfTitle);\n            this.allowTitleToWrap =\n                obj[\"allowTitleToWrap\"] != null ? obj[\"allowTitleToWrap\"] : this.allowTitleToWrap;\n            try {\n                var sizeAndUnit = Shared.SizeAndUnit.parse(obj[\"iconSize\"]);\n                if (sizeAndUnit.unit === Enums.SizeUnit.Pixel) {\n                    this.iconSize = sizeAndUnit.physicalSize;\n                }\n            }\n            catch (e) {\n                // Swallow this, keep default icon size\n            }\n        }\n    }\n    ActionsConfig.prototype.toJSON = function () {\n        return {\n            maxActions: this.maxActions,\n            spacing: Enums.Spacing[this.spacing],\n            buttonSpacing: this.buttonSpacing,\n            showCard: this.showCard,\n            preExpandSingleShowCardAction: this.preExpandSingleShowCardAction,\n            actionsOrientation: Enums.Orientation[this.actionsOrientation],\n            actionAlignment: Enums.ActionAlignment[this.actionAlignment]\n        };\n    };\n    return ActionsConfig;\n}());\nexports.ActionsConfig = ActionsConfig;\nvar ColorSetDefinition = /** @class */ (function () {\n    function ColorSetDefinition(obj) {\n        this.default = new TextColorDefinition();\n        this.dark = new TextColorDefinition();\n        this.light = new TextColorDefinition();\n        this.accent = new TextColorDefinition();\n        this.good = new TextColorDefinition();\n        this.warning = new TextColorDefinition();\n        this.attention = new TextColorDefinition();\n        this.parse(obj);\n    }\n    ColorSetDefinition.prototype.parseSingleColor = function (obj, propertyName) {\n        if (obj) {\n            this[propertyName].parse(obj[propertyName]);\n        }\n    };\n    ColorSetDefinition.prototype.parse = function (obj) {\n        if (obj) {\n            this.parseSingleColor(obj, \"default\");\n            this.parseSingleColor(obj, \"dark\");\n            this.parseSingleColor(obj, \"light\");\n            this.parseSingleColor(obj, \"accent\");\n            this.parseSingleColor(obj, \"good\");\n            this.parseSingleColor(obj, \"warning\");\n            this.parseSingleColor(obj, \"attention\");\n        }\n    };\n    return ColorSetDefinition;\n}());\nexports.ColorSetDefinition = ColorSetDefinition;\nvar ContainerStyleDefinition = /** @class */ (function () {\n    function ContainerStyleDefinition(obj) {\n        this.foregroundColors = new ColorSetDefinition({\n            \"default\": { default: \"#333333\", subtle: \"#EE333333\" },\n            \"dark\": { default: \"#000000\", subtle: \"#66000000\" },\n            \"light\": { default: \"#FFFFFF\", subtle: \"#33000000\" },\n            \"accent\": { default: \"#2E89FC\", subtle: \"#882E89FC\" },\n            \"good\": { default: \"#028A02\", subtle: \"#DD027502\" },\n            \"warning\": { default: \"#E69500\", subtle: \"#DDE69500\" },\n            \"attention\": { default: \"#CC3300\", subtle: \"#DDCC3300\" }\n        });\n        this.parse(obj);\n    }\n    ContainerStyleDefinition.prototype.parse = function (obj) {\n        if (obj) {\n            this.backgroundColor = obj[\"backgroundColor\"];\n            this.foregroundColors.parse(obj[\"foregroundColors\"]);\n            this.highlightBackgroundColor = obj[\"highlightBackgroundColor\"];\n            this.highlightForegroundColor = obj[\"highlightForegroundColor\"];\n            this.borderColor = obj[\"borderColor\"];\n        }\n    };\n    Object.defineProperty(ContainerStyleDefinition.prototype, \"isBuiltIn\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ContainerStyleDefinition;\n}());\nexports.ContainerStyleDefinition = ContainerStyleDefinition;\nvar BuiltInContainerStyleDefinition = /** @class */ (function (_super) {\n    __extends(BuiltInContainerStyleDefinition, _super);\n    function BuiltInContainerStyleDefinition() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BuiltInContainerStyleDefinition.prototype, \"isBuiltIn\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BuiltInContainerStyleDefinition;\n}(ContainerStyleDefinition));\nvar ContainerStyleSet = /** @class */ (function () {\n    function ContainerStyleSet(obj) {\n        this._allStyles = {};\n        this._allStyles[Enums.ContainerStyle.Default] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Emphasis] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Accent] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Good] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Attention] = new BuiltInContainerStyleDefinition();\n        this._allStyles[Enums.ContainerStyle.Warning] = new BuiltInContainerStyleDefinition();\n        if (obj) {\n            this._allStyles[Enums.ContainerStyle.Default].parse(obj[Enums.ContainerStyle.Default]);\n            this._allStyles[Enums.ContainerStyle.Emphasis].parse(obj[Enums.ContainerStyle.Emphasis]);\n            this._allStyles[Enums.ContainerStyle.Accent].parse(obj[Enums.ContainerStyle.Accent]);\n            this._allStyles[Enums.ContainerStyle.Good].parse(obj[Enums.ContainerStyle.Good]);\n            this._allStyles[Enums.ContainerStyle.Attention].parse(obj[Enums.ContainerStyle.Attention]);\n            this._allStyles[Enums.ContainerStyle.Warning].parse(obj[Enums.ContainerStyle.Warning]);\n            var customStyleArray = obj[\"customStyles\"];\n            if (customStyleArray && Array.isArray(customStyleArray)) {\n                for (var _i = 0, customStyleArray_1 = customStyleArray; _i < customStyleArray_1.length; _i++) {\n                    var customStyle = customStyleArray_1[_i];\n                    if (customStyle) {\n                        var styleName = customStyle[\"name\"];\n                        if (styleName && typeof styleName === \"string\") {\n                            if (this._allStyles.hasOwnProperty(styleName)) {\n                                this._allStyles[styleName].parse(customStyle[\"style\"]);\n                            }\n                            else {\n                                this._allStyles[styleName] = new ContainerStyleDefinition(customStyle[\"style\"]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    ContainerStyleSet.prototype.toJSON = function () {\n        var _this = this;\n        var customStyleArray = [];\n        Object.keys(this._allStyles).forEach(function (key) {\n            if (!_this._allStyles[key].isBuiltIn) {\n                customStyleArray.push({\n                    name: key,\n                    style: _this._allStyles[key]\n                });\n            }\n        });\n        var result = {\n            default: this.default,\n            emphasis: this.emphasis\n        };\n        if (customStyleArray.length > 0) {\n            result.customStyles = customStyleArray;\n        }\n        return result;\n    };\n    ContainerStyleSet.prototype.getStyleByName = function (name, defaultValue) {\n        if (name && this._allStyles.hasOwnProperty(name)) {\n            return this._allStyles[name];\n        }\n        else {\n            return defaultValue ? defaultValue : this._allStyles[Enums.ContainerStyle.Default];\n        }\n    };\n    Object.defineProperty(ContainerStyleSet.prototype, \"default\", {\n        get: function () {\n            return this._allStyles[Enums.ContainerStyle.Default];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContainerStyleSet.prototype, \"emphasis\", {\n        get: function () {\n            return this._allStyles[Enums.ContainerStyle.Emphasis];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ContainerStyleSet;\n}());\nexports.ContainerStyleSet = ContainerStyleSet;\nvar FontTypeDefinition = /** @class */ (function () {\n    function FontTypeDefinition(fontFamily) {\n        this.fontFamily = \"Segoe UI,Segoe,Segoe WP,Helvetica Neue,Helvetica,sans-serif\";\n        this.fontSizes = {\n            small: 12,\n            default: 14,\n            medium: 17,\n            large: 21,\n            extraLarge: 26\n        };\n        this.fontWeights = {\n            lighter: 200,\n            default: 400,\n            bolder: 600\n        };\n        if (fontFamily) {\n            this.fontFamily = fontFamily;\n        }\n    }\n    FontTypeDefinition.prototype.parse = function (obj) {\n        this.fontFamily = obj[\"fontFamily\"] || this.fontFamily;\n        this.fontSizes = {\n            small: (obj.fontSizes && obj.fontSizes[\"small\"]) || this.fontSizes.small,\n            default: (obj.fontSizes && obj.fontSizes[\"default\"]) || this.fontSizes.default,\n            medium: (obj.fontSizes && obj.fontSizes[\"medium\"]) || this.fontSizes.medium,\n            large: (obj.fontSizes && obj.fontSizes[\"large\"]) || this.fontSizes.large,\n            extraLarge: (obj.fontSizes && obj.fontSizes[\"extraLarge\"]) || this.fontSizes.extraLarge\n        };\n        this.fontWeights = {\n            lighter: (obj.fontWeights && obj.fontWeights[\"lighter\"]) || this.fontWeights.lighter,\n            default: (obj.fontWeights && obj.fontWeights[\"default\"]) || this.fontWeights.default,\n            bolder: (obj.fontWeights && obj.fontWeights[\"bolder\"]) || this.fontWeights.bolder\n        };\n    };\n    FontTypeDefinition.monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n    return FontTypeDefinition;\n}());\nexports.FontTypeDefinition = FontTypeDefinition;\nvar FontTypeSet = /** @class */ (function () {\n    function FontTypeSet(obj) {\n        this.default = new FontTypeDefinition();\n        this.monospace = new FontTypeDefinition(\"'Courier New', Courier, monospace\");\n        if (obj) {\n            this.default.parse(obj[\"default\"]);\n            this.monospace.parse(obj[\"monospace\"]);\n        }\n    }\n    FontTypeSet.prototype.getStyleDefinition = function (style) {\n        switch (style) {\n            case Enums.FontType.Monospace:\n                return this.monospace;\n            case Enums.FontType.Default:\n            default:\n                return this.default;\n        }\n    };\n    return FontTypeSet;\n}());\nexports.FontTypeSet = FontTypeSet;\nvar CarouselConfig = /** @class */ (function () {\n    function CarouselConfig(obj) {\n        this.maxCarouselPages = 10;\n        this.minAutoplayDelay = 5000.0;\n        if (obj) {\n            this.maxCarouselPages =\n                obj[\"maxCarouselPages\"] != null ? obj[\"maxCarouselPages\"] : this.maxCarouselPages;\n            this.minAutoplayDelay =\n                obj[\"minAutoplayDelay\"] != null ? obj[\"minAutoplayDelay\"] : this.minAutoplayDelay;\n        }\n    }\n    CarouselConfig.prototype.toJSON = function () {\n        return {\n            maxCarouselPages: this.maxCarouselPages,\n            minAutoplayDelay: this.minAutoplayDelay\n        };\n    };\n    return CarouselConfig;\n}());\nexports.CarouselConfig = CarouselConfig;\nvar HostConfig = /** @class */ (function () {\n    function HostConfig(obj) {\n        this.hostCapabilities = new host_capabilities_1.HostCapabilities();\n        this.choiceSetInputValueSeparator = \",\";\n        this.supportsInteractivity = true;\n        this.spacing = {\n            small: 3,\n            default: 8,\n            medium: 20,\n            large: 30,\n            extraLarge: 40,\n            padding: 15\n        };\n        this.separator = {\n            lineThickness: 1,\n            lineColor: \"#EEEEEE\"\n        };\n        this.imageSizes = {\n            small: 40,\n            medium: 80,\n            large: 160\n        };\n        this.containerStyles = new ContainerStyleSet();\n        this.inputs = new InputConfig();\n        this.actions = new ActionsConfig();\n        this.adaptiveCard = new AdaptiveCardConfig();\n        this.imageSet = new ImageSetConfig();\n        this.media = new MediaConfig();\n        this.factSet = new FactSetConfig();\n        this.table = new TableConfig();\n        this.textStyles = new TextStyleSet();\n        this.textBlock = new TextBlockConfig();\n        this.carousel = new CarouselConfig();\n        this.alwaysAllowBleed = false;\n        if (obj) {\n            if (typeof obj === \"string\" || obj instanceof String) {\n                obj = JSON.parse(obj);\n            }\n            this.choiceSetInputValueSeparator =\n                obj && typeof obj[\"choiceSetInputValueSeparator\"] === \"string\"\n                    ? obj[\"choiceSetInputValueSeparator\"]\n                    : this.choiceSetInputValueSeparator;\n            this.supportsInteractivity =\n                obj && typeof obj[\"supportsInteractivity\"] === \"boolean\"\n                    ? obj[\"supportsInteractivity\"]\n                    : this.supportsInteractivity;\n            this._legacyFontType = new FontTypeDefinition();\n            this._legacyFontType.parse(obj);\n            if (obj.fontTypes) {\n                this.fontTypes = new FontTypeSet(obj.fontTypes);\n            }\n            if (obj.lineHeights) {\n                this.lineHeights = {\n                    small: obj.lineHeights[\"small\"],\n                    default: obj.lineHeights[\"default\"],\n                    medium: obj.lineHeights[\"medium\"],\n                    large: obj.lineHeights[\"large\"],\n                    extraLarge: obj.lineHeights[\"extraLarge\"]\n                };\n            }\n            this.imageSizes = {\n                small: (obj.imageSizes && obj.imageSizes[\"small\"]) || this.imageSizes.small,\n                medium: (obj.imageSizes && obj.imageSizes[\"medium\"]) || this.imageSizes.medium,\n                large: (obj.imageSizes && obj.imageSizes[\"large\"]) || this.imageSizes.large\n            };\n            this.containerStyles = new ContainerStyleSet(obj[\"containerStyles\"]);\n            this.spacing = {\n                small: (obj.spacing && obj.spacing[\"small\"]) || this.spacing.small,\n                default: (obj.spacing && obj.spacing[\"default\"]) || this.spacing.default,\n                medium: (obj.spacing && obj.spacing[\"medium\"]) || this.spacing.medium,\n                large: (obj.spacing && obj.spacing[\"large\"]) || this.spacing.large,\n                extraLarge: (obj.spacing && obj.spacing[\"extraLarge\"]) || this.spacing.extraLarge,\n                padding: (obj.spacing && obj.spacing[\"padding\"]) || this.spacing.padding\n            };\n            this.separator = {\n                lineThickness: (obj.separator && obj.separator[\"lineThickness\"]) ||\n                    this.separator.lineThickness,\n                lineColor: (obj.separator && obj.separator[\"lineColor\"]) || this.separator.lineColor\n            };\n            this.inputs = new InputConfig(obj.inputs || this.inputs);\n            this.actions = new ActionsConfig(obj.actions || this.actions);\n            this.adaptiveCard = new AdaptiveCardConfig(obj.adaptiveCard || this.adaptiveCard);\n            this.imageSet = new ImageSetConfig(obj[\"imageSet\"]);\n            this.factSet = new FactSetConfig(obj[\"factSet\"]);\n            this.textStyles = new TextStyleSet(obj[\"textStyles\"]);\n            this.textBlock = new TextBlockConfig(obj[\"textBlock\"]);\n            this.carousel = new CarouselConfig(obj[\"carousel\"]);\n        }\n    }\n    HostConfig.prototype.getFontTypeDefinition = function (style) {\n        if (this.fontTypes) {\n            return this.fontTypes.getStyleDefinition(style);\n        }\n        else {\n            return style === Enums.FontType.Monospace\n                ? FontTypeDefinition.monospace\n                : this._legacyFontType;\n        }\n    };\n    HostConfig.prototype.getEffectiveSpacing = function (spacing) {\n        switch (spacing) {\n            case Enums.Spacing.Small:\n                return this.spacing.small;\n            case Enums.Spacing.Default:\n                return this.spacing.default;\n            case Enums.Spacing.Medium:\n                return this.spacing.medium;\n            case Enums.Spacing.Large:\n                return this.spacing.large;\n            case Enums.Spacing.ExtraLarge:\n                return this.spacing.extraLarge;\n            case Enums.Spacing.Padding:\n                return this.spacing.padding;\n            default:\n                return 0;\n        }\n    };\n    HostConfig.prototype.paddingDefinitionToSpacingDefinition = function (paddingDefinition) {\n        return new Shared.SpacingDefinition(this.getEffectiveSpacing(paddingDefinition.top), this.getEffectiveSpacing(paddingDefinition.right), this.getEffectiveSpacing(paddingDefinition.bottom), this.getEffectiveSpacing(paddingDefinition.left));\n    };\n    HostConfig.prototype.makeCssClassNames = function () {\n        var classNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            classNames[_i] = arguments[_i];\n        }\n        var result = [];\n        for (var _a = 0, classNames_1 = classNames; _a < classNames_1.length; _a++) {\n            var className = classNames_1[_a];\n            result.push((this.cssClassNamePrefix ? this.cssClassNamePrefix + \"-\" : \"\") + className);\n        }\n        return result;\n    };\n    HostConfig.prototype.makeCssClassName = function () {\n        var classNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            classNames[_i] = arguments[_i];\n        }\n        var result = this.makeCssClassNames.apply(this, classNames).join(\" \");\n        return result ? result : \"\";\n    };\n    Object.defineProperty(HostConfig.prototype, \"fontFamily\", {\n        get: function () {\n            return this._legacyFontType.fontFamily;\n        },\n        set: function (value) {\n            this._legacyFontType.fontFamily = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HostConfig.prototype, \"fontSizes\", {\n        get: function () {\n            return this._legacyFontType.fontSizes;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HostConfig.prototype, \"fontWeights\", {\n        get: function () {\n            return this._legacyFontType.fontWeights;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return HostConfig;\n}());\nexports.HostConfig = HostConfig;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexports.defaultHostConfig = new HostConfig({\n    supportsInteractivity: true,\n    spacing: {\n        small: 10,\n        default: 20,\n        medium: 30,\n        large: 40,\n        extraLarge: 50,\n        padding: 20\n    },\n    separator: {\n        lineThickness: 1,\n        lineColor: \"#EEEEEE\"\n    },\n    fontTypes: {\n        default: {\n            fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        },\n        monospace: {\n            fontFamily: \"'Courier New', Courier, monospace\",\n            fontSizes: {\n                small: 12,\n                default: 14,\n                medium: 17,\n                large: 21,\n                extraLarge: 26\n            },\n            fontWeights: {\n                lighter: 200,\n                default: 400,\n                bolder: 600\n            }\n        }\n    },\n    imageSizes: {\n        small: 40,\n        medium: 80,\n        large: 160\n    },\n    containerStyles: {\n        default: {\n            backgroundColor: \"#FFFFFF\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        emphasis: {\n            backgroundColor: \"#08000000\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        accent: {\n            backgroundColor: \"#C7DEF9\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        good: {\n            backgroundColor: \"#CCFFCC\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        attention: {\n            backgroundColor: \"#FFC5B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        },\n        warning: {\n            backgroundColor: \"#FFE2B2\",\n            foregroundColors: {\n                default: {\n                    default: \"#333333\",\n                    subtle: \"#EE333333\"\n                },\n                dark: {\n                    default: \"#000000\",\n                    subtle: \"#66000000\"\n                },\n                light: {\n                    default: \"#FFFFFF\",\n                    subtle: \"#33000000\"\n                },\n                accent: {\n                    default: \"#2E89FC\",\n                    subtle: \"#882E89FC\"\n                },\n                attention: {\n                    default: \"#cc3300\",\n                    subtle: \"#DDcc3300\"\n                },\n                good: {\n                    default: \"#028A02\",\n                    subtle: \"#DD027502\"\n                },\n                warning: {\n                    default: \"#e69500\",\n                    subtle: \"#DDe69500\"\n                }\n            }\n        }\n    },\n    inputs: {\n        label: {\n            requiredInputs: {\n                weight: Enums.TextWeight.Bolder,\n                suffix: \" *\",\n                suffixColor: Enums.TextColor.Attention\n            },\n            optionalInputs: {\n                weight: Enums.TextWeight.Bolder\n            }\n        },\n        errorMessage: {\n            color: Enums.TextColor.Attention,\n            weight: Enums.TextWeight.Bolder\n        }\n    },\n    actions: {\n        maxActions: 5,\n        spacing: Enums.Spacing.Default,\n        buttonSpacing: 10,\n        showCard: {\n            actionMode: Enums.ShowCardActionMode.Inline,\n            inlineTopMargin: 16\n        },\n        actionsOrientation: Enums.Orientation.Horizontal,\n        actionAlignment: Enums.ActionAlignment.Left\n    },\n    adaptiveCard: {\n        allowCustomStyle: false\n    },\n    imageSet: {\n        imageSize: Enums.Size.Medium,\n        maxImageHeight: 100\n    },\n    factSet: {\n        title: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Bolder,\n            wrap: true,\n            maxWidth: 150\n        },\n        value: {\n            color: Enums.TextColor.Default,\n            size: Enums.TextSize.Default,\n            isSubtle: false,\n            weight: Enums.TextWeight.Default,\n            wrap: true\n        },\n        spacing: 10\n    },\n    carousel: {\n        maxCarouselPages: 10,\n        minAutoplayDuration: 5000\n    }\n});\n//# sourceMappingURL=host-config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GlobalRegistry = exports.CardObjectRegistry = void 0;\nvar serialization_1 = require(\"./serialization\");\nvar CardObjectRegistry = /** @class */ (function () {\n    function CardObjectRegistry() {\n        this._items = {};\n    }\n    CardObjectRegistry.prototype.findByName = function (typeName) {\n        return this._items.hasOwnProperty(typeName) ? this._items[typeName] : undefined;\n    };\n    CardObjectRegistry.prototype.clear = function () {\n        this._items = {};\n    };\n    CardObjectRegistry.prototype.copyTo = function (target) {\n        var keys = Object.keys(this._items);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            var typeRegistration = this._items[key];\n            target.register(typeRegistration.typeName, typeRegistration.objectType, typeRegistration.schemaVersion);\n        }\n    };\n    CardObjectRegistry.prototype.register = function (typeName, objectType, schemaVersion) {\n        if (schemaVersion === void 0) { schemaVersion = serialization_1.Versions.v1_0; }\n        var registrationInfo = this.findByName(typeName);\n        if (registrationInfo !== undefined) {\n            registrationInfo.objectType = objectType;\n        }\n        else {\n            registrationInfo = {\n                typeName: typeName,\n                objectType: objectType,\n                schemaVersion: schemaVersion\n            };\n        }\n        this._items[typeName] = registrationInfo;\n    };\n    CardObjectRegistry.prototype.unregister = function (typeName) {\n        delete this._items[typeName];\n    };\n    CardObjectRegistry.prototype.createInstance = function (typeName, targetVersion) {\n        var registrationInfo = this.findByName(typeName);\n        return registrationInfo && registrationInfo.schemaVersion.compareTo(targetVersion) <= 0\n            ? new registrationInfo.objectType()\n            : undefined;\n    };\n    CardObjectRegistry.prototype.getItemCount = function () {\n        return Object.keys(this._items).length;\n    };\n    CardObjectRegistry.prototype.getItemAt = function (index) {\n        var _this = this;\n        return Object.keys(this._items).map(function (e) { return _this._items[e]; })[index];\n    };\n    return CardObjectRegistry;\n}());\nexports.CardObjectRegistry = CardObjectRegistry;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nvar GlobalRegistry = /** @class */ (function () {\n    function GlobalRegistry() {\n    }\n    GlobalRegistry.populateWithDefaultElements = function (registry) {\n        registry.clear();\n        GlobalRegistry.defaultElements.copyTo(registry);\n    };\n    GlobalRegistry.populateWithDefaultActions = function (registry) {\n        registry.clear();\n        GlobalRegistry.defaultActions.copyTo(registry);\n    };\n    Object.defineProperty(GlobalRegistry, \"elements\", {\n        get: function () {\n            if (!GlobalRegistry._elements) {\n                GlobalRegistry._elements = new CardObjectRegistry();\n                GlobalRegistry.populateWithDefaultElements(GlobalRegistry._elements);\n            }\n            return GlobalRegistry._elements;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GlobalRegistry, \"actions\", {\n        get: function () {\n            if (!GlobalRegistry._actions) {\n                GlobalRegistry._actions = new CardObjectRegistry();\n                GlobalRegistry.populateWithDefaultActions(GlobalRegistry._actions);\n            }\n            return GlobalRegistry._actions;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GlobalRegistry.reset = function () {\n        GlobalRegistry._elements = undefined;\n        GlobalRegistry._actions = undefined;\n    };\n    GlobalRegistry.defaultElements = new CardObjectRegistry();\n    GlobalRegistry.defaultActions = new CardObjectRegistry();\n    return GlobalRegistry;\n}());\nexports.GlobalRegistry = GlobalRegistry;\n//# sourceMappingURL=registry.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CardObject = exports.ValidationResults = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar strings_1 = require(\"./strings\");\nvar shared_1 = require(\"./shared\");\nvar host_capabilities_1 = require(\"./host-capabilities\");\nvar serialization_1 = require(\"./serialization\");\nvar ValidationResults = /** @class */ (function () {\n    function ValidationResults() {\n        this.allIds = {};\n        this.validationEvents = [];\n    }\n    ValidationResults.prototype.addFailure = function (cardObject, event, message) {\n        this.validationEvents.push({\n            phase: Enums.ValidationPhase.Validation,\n            source: cardObject,\n            event: event,\n            message: message\n        });\n    };\n    return ValidationResults;\n}());\nexports.ValidationResults = ValidationResults;\nvar CardObject = /** @class */ (function (_super) {\n    __extends(CardObject, _super);\n    function CardObject() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        //#endregion\n        _this._shouldFallback = false;\n        return _this;\n    }\n    CardObject.prototype.getSchemaKey = function () {\n        return this.getJsonTypeName();\n    };\n    Object.defineProperty(CardObject.prototype, \"requires\", {\n        get: function () {\n            return this.getValue(CardObject.requiresProperty);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Checks if this CardObject contains the given DOM Node.\n     * @param node The DOM Node to look for.\n     * @returns `true` if the DOM Node was found, `false` otherwise.\n     */\n    CardObject.prototype.contains = function (node) {\n        if (this._renderedElement) {\n            return this._renderedElement.contains(node);\n        }\n        return false;\n    };\n    CardObject.prototype.preProcessPropertyValue = function (prop, propertyValue) {\n        var value = propertyValue === undefined ? this.getValue(prop) : propertyValue;\n        if (shared_1.GlobalSettings.allowPreProcessingPropertyValues) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var currentObject = this;\n            while (currentObject && !currentObject.onPreProcessPropertyValue) {\n                currentObject = currentObject.parent;\n            }\n            if (currentObject && currentObject.onPreProcessPropertyValue) {\n                return currentObject.onPreProcessPropertyValue(this, prop, value);\n            }\n        }\n        return value;\n    };\n    CardObject.prototype.setParent = function (value) {\n        this._parent = value;\n    };\n    CardObject.prototype.setShouldFallback = function (value) {\n        this._shouldFallback = value;\n    };\n    CardObject.prototype.shouldFallback = function () {\n        return this._shouldFallback || !this.requires.areAllMet(this.hostConfig.hostCapabilities);\n    };\n    CardObject.prototype.getRootObject = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var currentObject = this;\n        while (currentObject.parent) {\n            currentObject = currentObject.parent;\n        }\n        return currentObject;\n    };\n    CardObject.prototype.internalValidateProperties = function (context) {\n        if (this.id) {\n            if (context.allIds.hasOwnProperty(this.id)) {\n                if (context.allIds[this.id] === 1) {\n                    context.addFailure(this, Enums.ValidationEvent.DuplicateId, strings_1.Strings.errors.duplicateId(this.id));\n                }\n                context.allIds[this.id] += 1;\n            }\n            else {\n                context.allIds[this.id] = 1;\n            }\n        }\n    };\n    CardObject.prototype.validateProperties = function () {\n        var result = new ValidationResults();\n        this.internalValidateProperties(result);\n        return result;\n    };\n    /**\n     * Recursively searches this CardObject and any children to find the\n     * innermost CardObject that owns the given DOM Node.\n     *\n     * @param node The DOM Node to look for.\n     *\n     * @returns The owner of the given DOM Node, or `undefined` if no owner was found.\n     */\n    CardObject.prototype.findDOMNodeOwner = function (node) {\n        // default implementation for CardObjects with no associated children\n        return this.contains(node) ? this : undefined;\n    };\n    CardObject.prototype.releaseDOMResources = function () {\n        // Do nothing in base implementation\n    };\n    Object.defineProperty(CardObject.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardObject.prototype, \"renderedElement\", {\n        get: function () {\n            return this._renderedElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardObject.typeNameProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"type\", undefined, undefined, undefined, function (sender) {\n        return sender.getJsonTypeName();\n    });\n    CardObject.idProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"id\");\n    CardObject.requiresProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_2, \"requires\", host_capabilities_1.HostCapabilities, false, new host_capabilities_1.HostCapabilities());\n    __decorate([\n        (0, serialization_1.property)(CardObject.idProperty)\n    ], CardObject.prototype, \"id\", void 0);\n    __decorate([\n        (0, serialization_1.property)(CardObject.requiresProperty)\n    ], CardObject.prototype, \"requires\", null);\n    return CardObject;\n}(serialization_1.SerializableObject));\nexports.CardObject = CardObject;\n//# sourceMappingURL=card-object.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatText = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar AbstractTextFormatter = /** @class */ (function () {\n    function AbstractTextFormatter(regularExpression) {\n        this._regularExpression = regularExpression;\n    }\n    AbstractTextFormatter.prototype.format = function (lang, input) {\n        var matches;\n        if (input) {\n            var result = input;\n            while ((matches = this._regularExpression.exec(input)) != null) {\n                result = result.replace(matches[0], this.internalFormat(lang, matches));\n            }\n            return result;\n        }\n        else {\n            return input;\n        }\n    };\n    return AbstractTextFormatter;\n}());\nvar DateFormatter = /** @class */ (function (_super) {\n    __extends(DateFormatter, _super);\n    function DateFormatter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DateFormatter.prototype.internalFormat = function (lang, matches) {\n        var date = new Date(Date.parse(matches[1]));\n        var format = matches[2] !== undefined ? matches[2].toLowerCase() : \"compact\";\n        if (format !== \"compact\") {\n            return date.toLocaleDateString(lang, {\n                day: \"numeric\",\n                weekday: format,\n                month: format,\n                year: \"numeric\"\n            });\n        }\n        else {\n            return date.toLocaleDateString();\n        }\n    };\n    return DateFormatter;\n}(AbstractTextFormatter));\nvar TimeFormatter = /** @class */ (function (_super) {\n    __extends(TimeFormatter, _super);\n    function TimeFormatter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeFormatter.prototype.internalFormat = function (lang, matches) {\n        var date = new Date(Date.parse(matches[1]));\n        return date.toLocaleTimeString(lang, { hour: \"numeric\", minute: \"2-digit\" });\n    };\n    return TimeFormatter;\n}(AbstractTextFormatter));\nfunction formatText(lang, text) {\n    var formatters = [\n        new DateFormatter(/\\{{2}DATE\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))(?:, ?(COMPACT|LONG|SHORT))?\\)\\}{2}/g),\n        new TimeFormatter(/\\{{2}TIME\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))\\)\\}{2}/g)\n    ];\n    var result = text;\n    for (var _i = 0, formatters_1 = formatters; _i < formatters_1.length; _i++) {\n        var formatter = formatters_1[_i];\n        result = formatter.format(lang, result);\n    }\n    return result;\n}\nexports.formatText = formatText;\n//# sourceMappingURL=text-formatters.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Constants = void 0;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nvar Constants = /** @class */ (function () {\n    function Constants() {\n    }\n    Constants.keys = {\n        tab: \"Tab\",\n        enter: \"Enter\",\n        escape: \"Escape\",\n        space: \" \",\n        up: \"ArrowUp\",\n        down: \"ArrowDown\",\n        delete: \"Delete\"\n    };\n    return Constants;\n}());\nexports.Constants = Constants;\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MenuItem = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar host_config_1 = require(\"../host-config\");\nvar constants_1 = require(\"./constants\");\nvar MenuItem = /** @class */ (function () {\n    function MenuItem(key, value) {\n        this._isEnabled = true;\n        this.key = key;\n        this._value = value;\n    }\n    MenuItem.prototype.click = function () {\n        if (this.isEnabled && this.onClick) {\n            this.onClick(this);\n        }\n    };\n    MenuItem.prototype.updateCssClasses = function () {\n        if (this._element) {\n            var effectiveHostConfig = this._hostConfig ? this._hostConfig : host_config_1.defaultHostConfig;\n            this._element.className = effectiveHostConfig.makeCssClassName(\"ac-ctrl\");\n            this._element.classList.add(effectiveHostConfig.makeCssClassName(this.isEnabled ? \"ac-ctrl-dropdown-item\" : \"ac-ctrl-dropdown-item-disabled\"));\n            if (!this.isEnabled) {\n                this._element.classList.add(effectiveHostConfig.makeCssClassName(\"ac-disabled\"));\n            }\n        }\n    };\n    MenuItem.prototype.toString = function () {\n        return this.value;\n    };\n    MenuItem.prototype.render = function (hostConfig) {\n        var _this = this;\n        this._hostConfig = hostConfig;\n        if (!this._element) {\n            this._element = document.createElement(\"span\");\n            this._element.innerText = this.value;\n            this._element.setAttribute(\"role\", \"menuitem\");\n            if (!this.isEnabled) {\n                this._element.setAttribute(\"aria-disabled\", \"true\");\n            }\n            this._element.setAttribute(\"aria-current\", \"false\");\n            this._element.onmouseup = function (_e) {\n                _this.click();\n            };\n            this._element.onkeydown = function (e) {\n                if (e.key === constants_1.Constants.keys.enter) {\n                    e.cancelBubble = true;\n                    _this.click();\n                }\n            };\n            this.updateCssClasses();\n        }\n        return this._element;\n    };\n    Object.defineProperty(MenuItem.prototype, \"value\", {\n        get: function () {\n            return this._value;\n        },\n        set: function (newValue) {\n            this._value = newValue;\n            if (this._element) {\n                this._element.innerText = newValue;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MenuItem.prototype, \"isEnabled\", {\n        get: function () {\n            return this._isEnabled;\n        },\n        set: function (value) {\n            if (this._isEnabled !== value) {\n                this._isEnabled = value;\n                this.updateCssClasses();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return MenuItem;\n}());\nexports.MenuItem = MenuItem;\n//# sourceMappingURL=menu-item.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Collection = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Collection = /** @class */ (function () {\n    function Collection() {\n        this._items = [];\n    }\n    Collection.prototype.get = function (index) {\n        return this._items[index];\n    };\n    Collection.prototype.add = function (item) {\n        this._items.push(item);\n        if (this.onItemAdded) {\n            this.onItemAdded(item);\n        }\n    };\n    Collection.prototype.remove = function (item) {\n        var i = this._items.indexOf(item);\n        if (i >= 0) {\n            this._items = this._items.splice(i, 1);\n            if (this.onItemRemoved) {\n                this.onItemRemoved(item);\n            }\n        }\n    };\n    Collection.prototype.indexOf = function (item) {\n        return this._items.indexOf(item);\n    };\n    Object.defineProperty(Collection.prototype, \"length\", {\n        get: function () {\n            return this._items.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Collection;\n}());\nexports.Collection = Collection;\n//# sourceMappingURL=collection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PopupControl = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar constants_1 = require(\"./constants\");\nvar Utils = require(\"../utils\");\nvar host_config_1 = require(\"../host-config\");\nvar PopupControl = /** @class */ (function () {\n    function PopupControl() {\n        this._isOpen = false;\n    }\n    PopupControl.prototype.keyDown = function (e) {\n        switch (e.key) {\n            case constants_1.Constants.keys.escape:\n                this.closePopup(true);\n                break;\n        }\n    };\n    PopupControl.prototype.render = function (_rootElementBounds) {\n        var _this = this;\n        var element = document.createElement(\"div\");\n        element.tabIndex = 0;\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl\", \"ac-ctrl-popup-container\");\n        element.setAttribute(\"role\", \"dialog\");\n        element.setAttribute(\"aria-modal\", \"true\");\n        element.onkeydown = function (e) {\n            _this.keyDown(e);\n            return !e.cancelBubble;\n        };\n        element.appendChild(this.renderContent());\n        return element;\n    };\n    PopupControl.prototype.focus = function () {\n        if (this._popupElement) {\n            this._popupElement.firstElementChild.focus();\n        }\n    };\n    PopupControl.prototype.popup = function (rootElement) {\n        var _a, _b, _c, _d, _f;\n        var _this = this;\n        if (!this._isOpen) {\n            this._overlayElement = document.createElement(\"div\");\n            this._overlayElement.className = this.hostConfig.makeCssClassName(\"ac-ctrl-overlay\");\n            this._overlayElement.tabIndex = 0;\n            this._overlayElement.style.width = document.documentElement.scrollWidth + \"px\";\n            this._overlayElement.style.height = document.documentElement.scrollHeight + \"px\";\n            this._overlayElement.onfocus = function (_e) {\n                _this.closePopup(true);\n            };\n            document.body.appendChild(this._overlayElement);\n            var rootElementBounds = rootElement.getBoundingClientRect();\n            this._popupElement = this.render(rootElementBounds);\n            (_a = this._popupElement.classList).remove.apply(_a, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideLeftToRight\", \"ac-ctrl-slideRightToLeft\", \"ac-ctrl-slideTopToBottom\", \"ac-ctrl-slideRightToLeft\"));\n            window.addEventListener(\"resize\", function (_e) {\n                _this.closePopup(true);\n            });\n            var rootElementLabel = rootElement.getAttribute(\"aria-label\");\n            if (rootElementLabel) {\n                this._popupElement.setAttribute(\"aria-label\", rootElementLabel);\n            }\n            this._overlayElement.appendChild(this._popupElement);\n            var popupElementBounds = this._popupElement.getBoundingClientRect();\n            var availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;\n            var availableSpaceAbove = rootElementBounds.top;\n            var availableSpaceRight = window.innerWidth - rootElementBounds.right;\n            var availableSpaceLeft = rootElementBounds.left;\n            var left = rootElementBounds.left + Utils.getScrollX();\n            var top_1;\n            if (availableSpaceAbove < popupElementBounds.height &&\n                availableSpaceBelow < popupElementBounds.height) {\n                // Not enough space above or below root element\n                var actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);\n                this._popupElement.style.maxHeight = actualPopupHeight + \"px\";\n                if (actualPopupHeight < popupElementBounds.height) {\n                    top_1 = Utils.getScrollY();\n                }\n                else {\n                    top_1 =\n                        Utils.getScrollY() +\n                            rootElementBounds.top +\n                            (rootElementBounds.height - actualPopupHeight) / 2;\n                }\n                if (availableSpaceLeft < popupElementBounds.width &&\n                    availableSpaceRight < popupElementBounds.width) {\n                    // Not enough space left or right of root element\n                    var actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);\n                    this._popupElement.style.maxWidth = actualPopupWidth + \"px\";\n                    if (actualPopupWidth < popupElementBounds.width) {\n                        left = Utils.getScrollX();\n                    }\n                    else {\n                        left =\n                            Utils.getScrollX() +\n                                rootElementBounds.left +\n                                (rootElementBounds.width - actualPopupWidth) / 2;\n                    }\n                }\n                else {\n                    // Enough space on the left or right of the root element\n                    if (availableSpaceRight >= popupElementBounds.width) {\n                        left = Utils.getScrollX() + rootElementBounds.right;\n                        (_b = this._popupElement.classList).add.apply(_b, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideLeftToRight\"));\n                    }\n                    else {\n                        left =\n                            Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;\n                        (_c = this._popupElement.classList).add.apply(_c, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideRightToLeft\"));\n                    }\n                }\n            }\n            else {\n                // Enough space above or below root element\n                if (availableSpaceBelow >= popupElementBounds.height) {\n                    top_1 = Utils.getScrollY() + rootElementBounds.bottom;\n                    (_d = this._popupElement.classList).add.apply(_d, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideTopToBottom\"));\n                }\n                else {\n                    top_1 = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;\n                    (_f = this._popupElement.classList).add.apply(_f, this.hostConfig.makeCssClassNames(\"ac-ctrl-slide\", \"ac-ctrl-slideBottomToTop\"));\n                }\n                if (availableSpaceRight < popupElementBounds.width) {\n                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;\n                }\n            }\n            this._popupElement.style.left = left + \"px\";\n            this._popupElement.style.top = top_1 + \"px\";\n            this._popupElement.focus();\n            this._isOpen = true;\n        }\n    };\n    PopupControl.prototype.closePopup = function (wasCancelled) {\n        if (this._isOpen) {\n            document.body.removeChild(this._overlayElement);\n            this._isOpen = false;\n            if (this.onClose) {\n                this.onClose(this, wasCancelled);\n            }\n        }\n    };\n    Object.defineProperty(PopupControl.prototype, \"hostConfig\", {\n        get: function () {\n            return this._hostConfig ? this._hostConfig : host_config_1.defaultHostConfig;\n        },\n        set: function (value) {\n            this._hostConfig = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PopupControl.prototype, \"isOpen\", {\n        get: function () {\n            return this._isOpen;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PopupControl;\n}());\nexports.PopupControl = PopupControl;\n//# sourceMappingURL=popup-control.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PopupMenu = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar constants_1 = require(\"./constants\");\nvar collection_1 = require(\"./collection\");\nvar popup_control_1 = require(\"./popup-control\");\nvar PopupMenu = /** @class */ (function (_super) {\n    __extends(PopupMenu, _super);\n    function PopupMenu() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._items = new collection_1.Collection();\n        _this._renderedItems = [];\n        _this._selectedIndex = -1;\n        return _this;\n    }\n    PopupMenu.prototype.renderContent = function () {\n        var element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-ctrl ac-popup\");\n        element.setAttribute(\"role\", \"listbox\");\n        for (var i = 0; i < this._items.length; i++) {\n            var renderedItem = this._items.get(i).render(this.hostConfig);\n            renderedItem.tabIndex = 0;\n            element.appendChild(renderedItem);\n            if (i === this.selectedIndex) {\n                renderedItem.focus();\n            }\n            this._renderedItems.push(renderedItem);\n        }\n        return element;\n    };\n    PopupMenu.prototype.keyDown = function (e) {\n        _super.prototype.keyDown.call(this, e);\n        var selectedItemIndex = this._selectedIndex;\n        switch (e.key) {\n            case constants_1.Constants.keys.tab:\n                this.closePopup(true);\n                break;\n            /*\n            case Constants.keys.enter:\n                if (this.selectedIndex >= 0) {\n                    this.selectedIndex = this.selectedIndex;\n\n                    this.close();\n                }\n\n                break;\n            */\n            case constants_1.Constants.keys.up:\n                if (selectedItemIndex <= 0) {\n                    selectedItemIndex = this._renderedItems.length - 1;\n                }\n                else {\n                    selectedItemIndex--;\n                    if (selectedItemIndex < 0) {\n                        selectedItemIndex = this._renderedItems.length - 1;\n                    }\n                }\n                this.selectedIndex = selectedItemIndex;\n                e.cancelBubble = true;\n                break;\n            case constants_1.Constants.keys.down:\n                if (selectedItemIndex < 0) {\n                    selectedItemIndex = 0;\n                }\n                else {\n                    selectedItemIndex++;\n                    if (selectedItemIndex >= this._renderedItems.length) {\n                        selectedItemIndex = 0;\n                    }\n                }\n                this.selectedIndex = selectedItemIndex;\n                e.cancelBubble = true;\n                break;\n        }\n    };\n    Object.defineProperty(PopupMenu.prototype, \"items\", {\n        get: function () {\n            return this._items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PopupMenu.prototype, \"selectedIndex\", {\n        get: function () {\n            return this._selectedIndex;\n        },\n        set: function (index) {\n            if (index >= 0 && index < this._renderedItems.length) {\n                this._renderedItems[index].focus();\n                this._selectedIndex = index;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return PopupMenu;\n}(popup_control_1.PopupControl));\nexports.PopupMenu = PopupMenu;\n//# sourceMappingURL=popup-menu.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n__exportStar(require(\"./menu-item\"), exports);\n__exportStar(require(\"./popup-menu\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContainerWithActions = exports.ColumnSet = exports.Column = exports.Container = exports.BackgroundImage = exports.ContainerBase = exports.StylableCardElementContainer = exports.ContainerStyleProperty = exports.ActionSet = exports.ShowCardAction = exports.HttpAction = exports.HttpHeader = exports.ToggleVisibilityAction = exports.OpenUrlAction = exports.ExecuteAction = exports.SubmitAction = exports.SubmitActionBase = exports.Action = exports.TimeInput = exports.TimeProperty = exports.DateInput = exports.NumberInput = exports.ChoiceSetInput = exports.Choice = exports.ToggleInput = exports.TextInput = exports.Input = exports.Media = exports.YouTubePlayer = exports.DailymotionPlayer = exports.VimeoPlayer = exports.IFrameMediaMediaPlayer = exports.CustomMediaPlayer = exports.HTML5MediaPlayer = exports.MediaPlayer = exports.MediaSource = exports.CaptionSource = exports.ContentSource = exports.ImageSet = exports.CardElementContainer = exports.Image = exports.FactSet = exports.Fact = exports.RichTextBlock = exports.TextRun = exports.TextBlock = exports.BaseTextBlock = exports.ActionProperty = exports.CardElement = exports.renderSeparation = void 0;\nexports.SerializationContext = exports.AdaptiveCard = exports.Authentication = exports.TokenExchangeResource = exports.AuthCardButton = exports.RefreshDefinition = exports.RefreshActionProperty = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar shared_1 = require(\"./shared\");\nvar Utils = require(\"./utils\");\nvar host_config_1 = require(\"./host-config\");\nvar TextFormatters = require(\"./text-formatters\");\nvar card_object_1 = require(\"./card-object\");\nvar serialization_1 = require(\"./serialization\");\nvar registry_1 = require(\"./registry\");\nvar strings_1 = require(\"./strings\");\nvar controls_1 = require(\"./controls\");\nfunction clearElement(element) {\n    var _a, _b;\n    var trustedHtml = (typeof window === 'undefined') ? \"\" : ((_b = (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.emptyHTML) !== null && _b !== void 0 ? _b : \"\");\n    element.innerHTML = trustedHtml;\n}\nfunction renderSeparation(hostConfig, separationDefinition, orientation) {\n    if (separationDefinition.spacing > 0 ||\n        (separationDefinition.lineThickness && separationDefinition.lineThickness > 0)) {\n        var separator = document.createElement(\"div\");\n        separator.className = hostConfig.makeCssClassName(\"ac-\" +\n            (orientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\") +\n            \"-separator\");\n        separator.setAttribute(\"aria-hidden\", \"true\");\n        var color = separationDefinition.lineColor\n            ? Utils.stringToCssColor(separationDefinition.lineColor)\n            : \"\";\n        if (orientation === Enums.Orientation.Horizontal) {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingTop = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginBottom = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderBottom =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            }\n            else {\n                separator.style.height = separationDefinition.spacing + \"px\";\n            }\n        }\n        else {\n            if (separationDefinition.lineThickness) {\n                separator.style.paddingLeft = separationDefinition.spacing / 2 + \"px\";\n                separator.style.marginRight = separationDefinition.spacing / 2 + \"px\";\n                separator.style.borderRight =\n                    separationDefinition.lineThickness + \"px solid \" + color;\n            }\n            else {\n                separator.style.width = separationDefinition.spacing + \"px\";\n            }\n        }\n        separator.style.overflow = \"hidden\";\n        separator.style.flex = \"0 0 auto\";\n        return separator;\n    }\n    else {\n        return undefined;\n    }\n}\nexports.renderSeparation = renderSeparation;\nvar CardElement = /** @class */ (function (_super) {\n    __extends(CardElement, _super);\n    function CardElement() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._truncatedDueToOverflow = false;\n        return _this;\n    }\n    Object.defineProperty(CardElement.prototype, \"lang\", {\n        get: function () {\n            var lang = this.getValue(CardElement.langProperty);\n            if (lang) {\n                return lang;\n            }\n            else {\n                if (this.parent) {\n                    return this.parent.lang;\n                }\n                else {\n                    return undefined;\n                }\n            }\n        },\n        set: function (value) {\n            this.setValue(CardElement.langProperty, value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"isVisible\", {\n        get: function () {\n            return this.getValue(CardElement.isVisibleProperty);\n        },\n        set: function (value) {\n            // If the element is going to be hidden, reset any changes that were due\n            // to overflow truncation (this ensures that if the element is later\n            // un-hidden it has the right content)\n            if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation && !value) {\n                this.undoOverflowTruncation();\n            }\n            if (this.isVisible !== value) {\n                this.setValue(CardElement.isVisibleProperty, value);\n                this.updateRenderedElementVisibility();\n                if (this._renderedElement) {\n                    raiseElementVisibilityChangedEvent(this);\n                }\n            }\n            if (this._renderedElement) {\n                this._renderedElement.setAttribute(\"aria-expanded\", value.toString());\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardElement.prototype.internalRenderSeparator = function () {\n        var renderedSeparator = renderSeparation(this.hostConfig, {\n            spacing: this.hostConfig.getEffectiveSpacing(this.spacing),\n            lineThickness: this.separator ? this.hostConfig.separator.lineThickness : undefined,\n            lineColor: this.separator ? this.hostConfig.separator.lineColor : undefined\n        }, this.separatorOrientation);\n        if (shared_1.GlobalSettings.alwaysBleedSeparators &&\n            renderedSeparator &&\n            this.separatorOrientation === Enums.Orientation.Horizontal) {\n            // Adjust separator's margins if the option to always bleed separators is turned on\n            var parentContainer = this.getParentContainer();\n            if (parentContainer && parentContainer.getEffectivePadding()) {\n                var parentPhysicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(parentContainer.getEffectivePadding());\n                renderedSeparator.style.marginLeft = \"-\" + parentPhysicalPadding.left + \"px\";\n                renderedSeparator.style.marginRight = \"-\" + parentPhysicalPadding.right + \"px\";\n            }\n        }\n        return renderedSeparator;\n    };\n    CardElement.prototype.updateRenderedElementVisibility = function () {\n        var displayMode = this.isDesignMode() || this.isVisible\n            ? this._defaultRenderedElementDisplayMode\n            : \"none\";\n        if (this._renderedElement) {\n            if (displayMode) {\n                this._renderedElement.style.display = displayMode;\n            }\n            else {\n                this._renderedElement.style.removeProperty(\"display\");\n            }\n        }\n        if (this._separatorElement) {\n            if (this.parent && this.parent.isFirstElement(this)) {\n                this._separatorElement.style.display = \"none\";\n            }\n            else {\n                if (displayMode) {\n                    this._separatorElement.style.display = displayMode;\n                }\n                else {\n                    this._separatorElement.style.removeProperty(\"display\");\n                }\n            }\n        }\n    };\n    CardElement.prototype.hideElementDueToOverflow = function () {\n        if (this._renderedElement && this.isVisible) {\n            this._renderedElement.style.visibility = \"hidden\";\n            this.isVisible = false;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    };\n    CardElement.prototype.showElementHiddenDueToOverflow = function () {\n        if (this._renderedElement && !this.isVisible) {\n            this._renderedElement.style.removeProperty(\"visibility\");\n            this.isVisible = true;\n            raiseElementVisibilityChangedEvent(this, false);\n        }\n    };\n    // Marked private to emulate internal access\n    CardElement.prototype.handleOverflow = function (maxHeight) {\n        if (this.isVisible || this.isHiddenDueToOverflow()) {\n            var handled = this.truncateOverflow(maxHeight);\n            // Even if we were unable to truncate the element to fit this time,\n            // it still could have been previously truncated\n            this._truncatedDueToOverflow = handled || this._truncatedDueToOverflow;\n            if (!handled) {\n                this.hideElementDueToOverflow();\n            }\n            else if (handled && !this.isVisible) {\n                this.showElementHiddenDueToOverflow();\n            }\n        }\n    };\n    // Marked private to emulate internal access\n    CardElement.prototype.resetOverflow = function () {\n        var sizeChanged = false;\n        if (this._truncatedDueToOverflow) {\n            this.undoOverflowTruncation();\n            this._truncatedDueToOverflow = false;\n            sizeChanged = true;\n        }\n        if (this.isHiddenDueToOverflow()) {\n            this.showElementHiddenDueToOverflow();\n        }\n        return sizeChanged;\n    };\n    CardElement.prototype.getDefaultSerializationContext = function () {\n        return new SerializationContext();\n    };\n    CardElement.prototype.createPlaceholderElement = function () {\n        var styleDefinition = this.getEffectiveStyleDefinition();\n        var foregroundCssColor = Utils.stringToCssColor(styleDefinition.foregroundColors.default.subtle);\n        var element = document.createElement(\"div\");\n        element.style.border = \"1px dashed \" + foregroundCssColor;\n        element.style.padding = \"4px\";\n        element.style.minHeight = \"32px\";\n        element.style.fontSize = \"10px\";\n        if (foregroundCssColor) {\n            element.style.color = foregroundCssColor;\n        }\n        element.innerText = \"Empty \" + this.getJsonTypeName();\n        return element;\n    };\n    CardElement.prototype.adjustRenderedElementSize = function (renderedElement) {\n        if (this.height === \"auto\") {\n            renderedElement.style.flex = \"0 0 auto\";\n        }\n        else {\n            renderedElement.style.flex = \"1 1 auto\";\n        }\n    };\n    /*\n     * Called when mouse enters or leaves the card.\n     * Inputs elements need to update their visual state in such events like showing or hiding borders etc.\n     * It calls Input.updateVisualState(eventType) for all inputs.\n     * This method on input (updateVisualState) is supposed to be called from card level on mouse events.\n     */\n    CardElement.prototype.updateInputsVisualState = function (hover) {\n        var allInputs = this.getAllInputs();\n        var inputEventType = !!hover ? InputEventType.MouseEnterOnCard : InputEventType.MouseLeaveOnCard;\n        allInputs.forEach(function (input) { return input.updateVisualState(inputEventType); });\n    };\n    CardElement.prototype.isDisplayed = function () {\n        return (this._renderedElement !== undefined &&\n            this.isVisible &&\n            this._renderedElement.offsetHeight > 0);\n    };\n    CardElement.prototype.overrideInternalRender = function () {\n        return this.internalRender();\n    };\n    CardElement.prototype.applyPadding = function () {\n        if (this.separatorElement && this.separatorOrientation === Enums.Orientation.Horizontal) {\n            if (shared_1.GlobalSettings.alwaysBleedSeparators && !this.isBleeding()) {\n                var padding = new shared_1.PaddingDefinition();\n                this.getImmediateSurroundingPadding(padding);\n                var physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n                this.separatorElement.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n            }\n            else {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    };\n    /*\n     * Called when this element overflows the bottom of the card.\n     * maxHeight will be the amount of space still available on the card (0 if\n     * the element is fully off the card).\n     */\n    CardElement.prototype.truncateOverflow = function (_maxHeight) {\n        // Child implementations should return true if the element handled\n        // the truncation request such that its content fits within maxHeight,\n        // false if the element should fall back to being hidden\n        return false;\n    };\n    /*\n     * This should reverse any changes performed in truncateOverflow().\n     */\n    CardElement.prototype.undoOverflowTruncation = function () {\n        return;\n    };\n    CardElement.prototype.getDefaultPadding = function () {\n        return new shared_1.PaddingDefinition();\n    };\n    CardElement.prototype.getHasBackground = function (ignoreBackgroundImages) {\n        if (ignoreBackgroundImages === void 0) { ignoreBackgroundImages = false; }\n        return false;\n    };\n    CardElement.prototype.getHasBorder = function () {\n        return false;\n    };\n    CardElement.prototype.getPadding = function () {\n        return this._padding;\n    };\n    CardElement.prototype.setPadding = function (value) {\n        this._padding = value;\n    };\n    CardElement.prototype.shouldSerialize = function (context) {\n        return context.elementRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    };\n    Object.defineProperty(CardElement.prototype, \"useDefaultSizing\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"separatorOrientation\", {\n        get: function () {\n            return Enums.Orientation.Horizontal;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"defaultStyle\", {\n        get: function () {\n            return Enums.ContainerStyle.Default;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardElement.prototype.parse = function (source, context) {\n        _super.prototype.parse.call(this, source, context ? context : new SerializationContext());\n    };\n    CardElement.prototype.asString = function () {\n        return \"\";\n    };\n    CardElement.prototype.isBleeding = function () {\n        return false;\n    };\n    CardElement.prototype.getEffectiveStyle = function () {\n        if (this.parent) {\n            return this.parent.getEffectiveStyle();\n        }\n        return this.defaultStyle;\n    };\n    CardElement.prototype.getEffectiveStyleDefinition = function () {\n        return this.hostConfig.containerStyles.getStyleByName(this.getEffectiveStyle());\n    };\n    CardElement.prototype.getEffectiveTextStyleDefinition = function () {\n        if (this.parent) {\n            return this.parent.getEffectiveTextStyleDefinition();\n        }\n        return this.hostConfig.textStyles.default;\n    };\n    CardElement.prototype.getForbiddenActionTypes = function () {\n        return [];\n    };\n    CardElement.prototype.getImmediateSurroundingPadding = function (result, processTop, processRight, processBottom, processLeft) {\n        if (processTop === void 0) { processTop = true; }\n        if (processRight === void 0) { processRight = true; }\n        if (processBottom === void 0) { processBottom = true; }\n        if (processLeft === void 0) { processLeft = true; }\n        if (this.parent) {\n            var doProcessTop = processTop && this.parent.isTopElement(this);\n            var doProcessRight = processRight && this.parent.isRightMostElement(this);\n            var doProcessBottom = processBottom && this.parent.isBottomElement(this);\n            var doProcessLeft = processLeft && this.parent.isLeftMostElement(this);\n            var effectivePadding = this.parent.getEffectivePadding();\n            if (effectivePadding) {\n                if (doProcessTop && effectivePadding.top !== Enums.Spacing.None) {\n                    result.top = effectivePadding.top;\n                    doProcessTop = false;\n                }\n                if (doProcessRight && effectivePadding.right !== Enums.Spacing.None) {\n                    result.right = effectivePadding.right;\n                    doProcessRight = false;\n                }\n                if (doProcessBottom && effectivePadding.bottom !== Enums.Spacing.None) {\n                    result.bottom = effectivePadding.bottom;\n                    doProcessBottom = false;\n                }\n                if (doProcessLeft && effectivePadding.left !== Enums.Spacing.None) {\n                    result.left = effectivePadding.left;\n                    doProcessLeft = false;\n                }\n            }\n            if (doProcessTop || doProcessRight || doProcessBottom || doProcessLeft) {\n                this.parent.getImmediateSurroundingPadding(result, doProcessTop, doProcessRight, doProcessBottom, doProcessLeft);\n            }\n        }\n    };\n    CardElement.prototype.getActionCount = function () {\n        return 0;\n    };\n    CardElement.prototype.getActionAt = function (index) {\n        throw new Error(strings_1.Strings.errors.indexOutOfRange(index));\n    };\n    CardElement.prototype.indexOfAction = function (action) {\n        for (var i = 0; i < this.getActionCount(); i++) {\n            if (this.getActionAt(i) === action) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    CardElement.prototype.remove = function () {\n        if (this.parent && this.parent instanceof CardElementContainer) {\n            return this.parent.removeItem(this);\n        }\n        return false;\n    };\n    CardElement.prototype.render = function () {\n        this._renderedElement = this.overrideInternalRender();\n        this._separatorElement = this.internalRenderSeparator();\n        if (this._renderedElement) {\n            if (this.id) {\n                this._renderedElement.id = this.id;\n            }\n            if (this.customCssSelector) {\n                this._renderedElement.classList.add(this.customCssSelector);\n            }\n            this._renderedElement.style.boxSizing = \"border-box\";\n            this._defaultRenderedElementDisplayMode = this._renderedElement.style.display\n                ? this._renderedElement.style.display\n                : undefined;\n            this.adjustRenderedElementSize(this._renderedElement);\n            this.updateLayout(false);\n        }\n        else if (this.isDesignMode()) {\n            this._renderedElement = this.createPlaceholderElement();\n        }\n        return this._renderedElement;\n    };\n    CardElement.prototype.updateLayout = function (_processChildren) {\n        if (_processChildren === void 0) { _processChildren = true; }\n        this.updateRenderedElementVisibility();\n        this.applyPadding();\n    };\n    CardElement.prototype.updateActionsEnabledState = function () {\n        var allActions = this.getRootElement().getAllActions();\n        for (var _i = 0, allActions_1 = allActions; _i < allActions_1.length; _i++) {\n            var action = allActions_1[_i];\n            action.updateEnabledState();\n        }\n    };\n    CardElement.prototype.indexOf = function (_cardElement) {\n        return -1;\n    };\n    CardElement.prototype.isDesignMode = function () {\n        var rootElement = this.getRootElement();\n        return rootElement instanceof AdaptiveCard && rootElement.designMode;\n    };\n    CardElement.prototype.isFirstElement = function (_element) {\n        return true;\n    };\n    CardElement.prototype.isLastElement = function (_element) {\n        return true;\n    };\n    CardElement.prototype.isAtTheVeryLeft = function () {\n        return this.parent\n            ? this.parent.isLeftMostElement(this) && this.parent.isAtTheVeryLeft()\n            : true;\n    };\n    CardElement.prototype.isAtTheVeryRight = function () {\n        return this.parent\n            ? this.parent.isRightMostElement(this) && this.parent.isAtTheVeryRight()\n            : true;\n    };\n    CardElement.prototype.isAtTheVeryTop = function () {\n        return this.parent\n            ? this.parent.isFirstElement(this) && this.parent.isAtTheVeryTop()\n            : true;\n    };\n    CardElement.prototype.isAtTheVeryBottom = function () {\n        return this.parent\n            ? this.parent.isLastElement(this) && this.parent.isAtTheVeryBottom()\n            : true;\n    };\n    CardElement.prototype.isBleedingAtTop = function () {\n        return false;\n    };\n    CardElement.prototype.isBleedingAtBottom = function () {\n        return false;\n    };\n    CardElement.prototype.isLeftMostElement = function (_element) {\n        return true;\n    };\n    CardElement.prototype.isRightMostElement = function (_element) {\n        return true;\n    };\n    CardElement.prototype.isTopElement = function (element) {\n        return this.isFirstElement(element);\n    };\n    CardElement.prototype.isBottomElement = function (element) {\n        return this.isLastElement(element);\n    };\n    CardElement.prototype.isHiddenDueToOverflow = function () {\n        return (this._renderedElement !== undefined &&\n            this._renderedElement.style.visibility === \"hidden\");\n    };\n    CardElement.prototype.getRootElement = function () {\n        return this.getRootObject();\n    };\n    CardElement.prototype.getParentContainer = function () {\n        var currentElement = this.parent;\n        while (currentElement) {\n            if (currentElement instanceof Container) {\n                return currentElement;\n            }\n            currentElement = currentElement.parent;\n        }\n        return undefined;\n    };\n    CardElement.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        return [];\n    };\n    CardElement.prototype.getAllActions = function () {\n        var result = [];\n        for (var i = 0; i < this.getActionCount(); i++) {\n            var action = this.getActionAt(i);\n            if (action) {\n                result.push(action);\n            }\n        }\n        return result;\n    };\n    CardElement.prototype.getResourceInformation = function () {\n        return [];\n    };\n    CardElement.prototype.getElementById = function (id) {\n        return this.id === id ? this : undefined;\n    };\n    CardElement.prototype.getActionById = function (_id) {\n        return undefined;\n    };\n    CardElement.prototype.getElementByIdFromAction = function (id) {\n        var result = undefined;\n        for (var i = 0; i < this.getActionCount(); i++) {\n            var action = this.getActionAt(i);\n            if (action instanceof ShowCardAction) {\n                result = action.card.getElementById(id);\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return result;\n    };\n    CardElement.prototype.getEffectivePadding = function () {\n        var padding = this.getPadding();\n        return padding ? padding : this.getDefaultPadding();\n    };\n    CardElement.prototype.getEffectiveHorizontalAlignment = function () {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n        if (this.parent) {\n            return this.parent.getEffectiveHorizontalAlignment();\n        }\n        return Enums.HorizontalAlignment.Left;\n    };\n    Object.defineProperty(CardElement.prototype, \"hostConfig\", {\n        get: function () {\n            if (this._hostConfig) {\n                return this._hostConfig;\n            }\n            else {\n                if (this.parent) {\n                    return this.parent.hostConfig;\n                }\n                else {\n                    return host_config_1.defaultHostConfig;\n                }\n            }\n        },\n        set: function (value) {\n            this._hostConfig = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"index\", {\n        get: function () {\n            if (this.parent) {\n                return this.parent.indexOf(this);\n            }\n            else {\n                return 0;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"isInteractive\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"isStandalone\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"isInline\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"hasVisibleSeparator\", {\n        get: function () {\n            if (this.parent && this.separatorElement) {\n                return !this.parent.isFirstElement(this) && (this.isVisible || this.isDesignMode());\n            }\n            else {\n                return false;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"separatorElement\", {\n        get: function () {\n            return this._separatorElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardElement.langProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"lang\", true, /^[a-z]{2,3}$/gi);\n    CardElement.isVisibleProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"isVisible\", true);\n    CardElement.separatorProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"separator\", false);\n    CardElement.heightProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_1, \"height\", [{ value: \"auto\" }, { value: \"stretch\" }], \"auto\");\n    CardElement.horizontalAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"horizontalAlignment\", Enums.HorizontalAlignment);\n    CardElement.spacingProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"spacing\", Enums.Spacing, Enums.Spacing.Default);\n    __decorate([\n        (0, serialization_1.property)(CardElement.horizontalAlignmentProperty)\n    ], CardElement.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(CardElement.spacingProperty)\n    ], CardElement.prototype, \"spacing\", void 0);\n    __decorate([\n        (0, serialization_1.property)(CardElement.separatorProperty)\n    ], CardElement.prototype, \"separator\", void 0);\n    __decorate([\n        (0, serialization_1.property)(CardElement.heightProperty)\n    ], CardElement.prototype, \"height\", void 0);\n    __decorate([\n        (0, serialization_1.property)(CardElement.langProperty)\n    ], CardElement.prototype, \"lang\", null);\n    __decorate([\n        (0, serialization_1.property)(CardElement.isVisibleProperty)\n    ], CardElement.prototype, \"isVisible\", null);\n    return CardElement;\n}(card_object_1.CardObject));\nexports.CardElement = CardElement;\nvar ActionProperty = /** @class */ (function (_super) {\n    __extends(ActionProperty, _super);\n    function ActionProperty(targetVersion, name, forbiddenActionTypes) {\n        if (forbiddenActionTypes === void 0) { forbiddenActionTypes = []; }\n        var _this = _super.call(this, targetVersion, name, undefined) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.forbiddenActionTypes = forbiddenActionTypes;\n        return _this;\n    }\n    ActionProperty.prototype.parse = function (sender, source, context) {\n        var parent = sender;\n        return context.parseAction(parent, source[this.name], this.forbiddenActionTypes, parent.isDesignMode());\n    };\n    ActionProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, value ? value.toJSON(context) : undefined, undefined, true);\n    };\n    return ActionProperty;\n}(serialization_1.PropertyDefinition));\nexports.ActionProperty = ActionProperty;\nvar BaseTextBlock = /** @class */ (function (_super) {\n    __extends(BaseTextBlock, _super);\n    function BaseTextBlock(text) {\n        var _this = _super.call(this) || this;\n        _this.ariaHidden = false;\n        if (text) {\n            _this.text = text;\n        }\n        return _this;\n    }\n    BaseTextBlock.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        // selectAction is declared on BaseTextBlock but is only exposed on TextRun,\n        // so the property is removed from the BaseTextBlock schema.\n        schema.remove(BaseTextBlock.selectActionProperty);\n    };\n    Object.defineProperty(BaseTextBlock.prototype, \"text\", {\n        get: function () {\n            return this.getValue(BaseTextBlock.textProperty);\n        },\n        set: function (value) {\n            this.setText(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#endregion\n    BaseTextBlock.prototype.getFontSize = function (fontType) {\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                return fontType.fontSizes.small;\n            case Enums.TextSize.Medium:\n                return fontType.fontSizes.medium;\n            case Enums.TextSize.Large:\n                return fontType.fontSizes.large;\n            case Enums.TextSize.ExtraLarge:\n                return fontType.fontSizes.extraLarge;\n            default:\n                return fontType.fontSizes.default;\n        }\n    };\n    BaseTextBlock.prototype.getColorDefinition = function (colorSet, color) {\n        switch (color) {\n            case Enums.TextColor.Accent:\n                return colorSet.accent;\n            case Enums.TextColor.Dark:\n                return colorSet.dark;\n            case Enums.TextColor.Light:\n                return colorSet.light;\n            case Enums.TextColor.Good:\n                return colorSet.good;\n            case Enums.TextColor.Warning:\n                return colorSet.warning;\n            case Enums.TextColor.Attention:\n                return colorSet.attention;\n            default:\n                return colorSet.default;\n        }\n    };\n    BaseTextBlock.prototype.setText = function (value) {\n        this.setValue(BaseTextBlock.textProperty, value);\n    };\n    BaseTextBlock.prototype.init = function (textDefinition) {\n        this.size = textDefinition.size;\n        this.weight = textDefinition.weight;\n        this.color = textDefinition.color;\n        this.isSubtle = textDefinition.isSubtle;\n    };\n    BaseTextBlock.prototype.asString = function () {\n        return this.text;\n    };\n    BaseTextBlock.prototype.applyStylesTo = function (targetElement) {\n        var fontType = this.hostConfig.getFontTypeDefinition(this.effectiveFontType);\n        if (fontType.fontFamily) {\n            targetElement.style.fontFamily = fontType.fontFamily;\n        }\n        var fontSize;\n        switch (this.effectiveSize) {\n            case Enums.TextSize.Small:\n                fontSize = fontType.fontSizes.small;\n                break;\n            case Enums.TextSize.Medium:\n                fontSize = fontType.fontSizes.medium;\n                break;\n            case Enums.TextSize.Large:\n                fontSize = fontType.fontSizes.large;\n                break;\n            case Enums.TextSize.ExtraLarge:\n                fontSize = fontType.fontSizes.extraLarge;\n                break;\n            default:\n                fontSize = fontType.fontSizes.default;\n                break;\n        }\n        targetElement.style.fontSize = fontSize + \"px\";\n        var colorDefinition = this.getColorDefinition(this.getEffectiveStyleDefinition().foregroundColors, this.effectiveColor);\n        var targetColor = Utils.stringToCssColor(this.effectiveIsSubtle ? colorDefinition.subtle : colorDefinition.default);\n        if (targetColor) {\n            targetElement.style.color = targetColor;\n        }\n        var fontWeight;\n        switch (this.effectiveWeight) {\n            case Enums.TextWeight.Lighter:\n                fontWeight = fontType.fontWeights.lighter;\n                break;\n            case Enums.TextWeight.Bolder:\n                fontWeight = fontType.fontWeights.bolder;\n                break;\n            default:\n                fontWeight = fontType.fontWeights.default;\n                break;\n        }\n        targetElement.style.fontWeight = fontWeight.toString();\n        if (this.ariaHidden) {\n            targetElement.setAttribute(\"aria-hidden\", \"true\");\n        }\n    };\n    BaseTextBlock.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n        return result;\n    };\n    Object.defineProperty(BaseTextBlock.prototype, \"effectiveColor\", {\n        get: function () {\n            return this.color !== undefined ? this.color : this.getEffectiveTextStyleDefinition().color;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseTextBlock.prototype, \"effectiveFontType\", {\n        get: function () {\n            return this.fontType !== undefined\n                ? this.fontType\n                : this.getEffectiveTextStyleDefinition().fontType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseTextBlock.prototype, \"effectiveIsSubtle\", {\n        get: function () {\n            return this.isSubtle !== undefined\n                ? this.isSubtle\n                : this.getEffectiveTextStyleDefinition().isSubtle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseTextBlock.prototype, \"effectiveSize\", {\n        get: function () {\n            return this.size !== undefined ? this.size : this.getEffectiveTextStyleDefinition().size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseTextBlock.prototype, \"effectiveWeight\", {\n        get: function () {\n            return this.weight !== undefined\n                ? this.weight\n                : this.getEffectiveTextStyleDefinition().weight;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    BaseTextBlock.textProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"text\", true);\n    BaseTextBlock.sizeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"size\", Enums.TextSize);\n    BaseTextBlock.weightProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"weight\", Enums.TextWeight);\n    BaseTextBlock.colorProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"color\", Enums.TextColor);\n    BaseTextBlock.isSubtleProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"isSubtle\");\n    BaseTextBlock.fontTypeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"fontType\", Enums.FontType);\n    BaseTextBlock.selectActionProperty = new ActionProperty(serialization_1.Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.sizeProperty)\n    ], BaseTextBlock.prototype, \"size\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.weightProperty)\n    ], BaseTextBlock.prototype, \"weight\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.colorProperty)\n    ], BaseTextBlock.prototype, \"color\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.fontTypeProperty)\n    ], BaseTextBlock.prototype, \"fontType\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.isSubtleProperty)\n    ], BaseTextBlock.prototype, \"isSubtle\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.textProperty)\n    ], BaseTextBlock.prototype, \"text\", null);\n    __decorate([\n        (0, serialization_1.property)(BaseTextBlock.selectActionProperty)\n    ], BaseTextBlock.prototype, \"selectAction\", void 0);\n    return BaseTextBlock;\n}(CardElement));\nexports.BaseTextBlock = BaseTextBlock;\nvar TextBlock = /** @class */ (function (_super) {\n    __extends(TextBlock, _super);\n    function TextBlock() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.wrap = false;\n        _this._treatAsPlainText = true;\n        _this.useMarkdown = true;\n        return _this;\n    }\n    TextBlock.prototype.restoreOriginalContent = function () {\n        var _a, _b;\n        if (this.renderedElement !== undefined) {\n            if (this.maxLines && this.maxLines > 0) {\n                this.renderedElement.style.maxHeight =\n                    this._computedLineHeight * this.maxLines + \"px\";\n            }\n            var originalHtml = (_b = (_a = TextBlock._ttRoundtripPolicy) === null || _a === void 0 ? void 0 : _a.createHTML(this._originalInnerHtml)) !== null && _b !== void 0 ? _b : this._originalInnerHtml;\n            this.renderedElement.innerHTML = originalHtml;\n        }\n    };\n    TextBlock.prototype.truncateIfSupported = function (maxHeight) {\n        if (this.renderedElement !== undefined) {\n            // For now, only truncate TextBlocks that contain just a single\n            // paragraph -- since the maxLines calculation doesn't take into\n            // account Markdown lists\n            var children = this.renderedElement.children;\n            var isTextOnly = !children.length;\n            var truncationSupported = isTextOnly ||\n                (children.length === 1 && children[0].tagName.toLowerCase() === \"p\" && !children[0].children.length);\n            if (truncationSupported) {\n                var element = isTextOnly ? this.renderedElement : children[0];\n                Utils.truncateText(element, maxHeight, this._computedLineHeight);\n                return true;\n            }\n        }\n        return false;\n    };\n    TextBlock.prototype.setText = function (value) {\n        _super.prototype.setText.call(this, value);\n        this._processedText = undefined;\n    };\n    TextBlock.prototype.internalRender = function () {\n        var _this = this;\n        var _a, _b;\n        this._processedText = undefined;\n        if (this.text) {\n            var preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            var hostConfig = this.hostConfig;\n            var element = void 0;\n            if (this.forElementId) {\n                var labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n                element = labelElement;\n            }\n            else {\n                element = document.createElement(\"div\");\n            }\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textBlock\"));\n            element.style.overflow = \"hidden\";\n            this.applyStylesTo(element);\n            if (this.style === \"heading\") {\n                element.setAttribute(\"role\", \"heading\");\n                var headingLevel = this.hostConfig.textBlock.headingLevel;\n                if (headingLevel !== undefined && headingLevel > 0) {\n                    element.setAttribute(\"aria-level\", headingLevel.toString());\n                }\n            }\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                element.onclick = function (e) {\n                    if (_this.selectAction && _this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this.selectAction.execute();\n                    }\n                };\n                this.selectAction.setupElementForAccessibility(element);\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n            if (!this._processedText) {\n                this._treatAsPlainText = true;\n                var formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n                if (this.useMarkdown && formattedText) {\n                    if (shared_1.GlobalSettings.allowMarkForTextHighlighting) {\n                        formattedText = formattedText\n                            .replace(/<mark>/g, \"===\")\n                            .replace(/<\\/mark>/g, \"/==/\");\n                    }\n                    var markdownProcessingResult = AdaptiveCard.applyMarkdown(formattedText);\n                    if (markdownProcessingResult.didProcess &&\n                        markdownProcessingResult.outputHtml) {\n                        this._processedText = markdownProcessingResult.outputHtml;\n                        this._treatAsPlainText = false;\n                        // Only process <mark> tag if markdown processing was applied because\n                        // markdown processing is also responsible for sanitizing the input string\n                        if (shared_1.GlobalSettings.allowMarkForTextHighlighting && this._processedText) {\n                            var markStyle = \"\";\n                            var effectiveStyle = this.getEffectiveStyleDefinition();\n                            if (effectiveStyle.highlightBackgroundColor) {\n                                markStyle +=\n                                    \"background-color: \" +\n                                        effectiveStyle.highlightBackgroundColor +\n                                        \";\";\n                            }\n                            if (effectiveStyle.highlightForegroundColor) {\n                                markStyle +=\n                                    \"color: \" + effectiveStyle.highlightForegroundColor + \";\";\n                            }\n                            if (markStyle) {\n                                markStyle = 'style=\"' + markStyle + '\"';\n                            }\n                            this._processedText = this._processedText\n                                .replace(/===/g, \"<mark \" + markStyle + \">\")\n                                .replace(/\\/==\\//g, \"</mark>\");\n                        }\n                    }\n                    else {\n                        this._processedText = formattedText;\n                        this._treatAsPlainText = true;\n                    }\n                }\n                else {\n                    this._processedText = formattedText;\n                    this._treatAsPlainText = true;\n                }\n            }\n            if (!this._processedText) {\n                this._processedText = \"\";\n            }\n            if (this._treatAsPlainText) {\n                element.innerText = this._processedText;\n            }\n            else {\n                var processedHtml = (_b = (_a = TextBlock._ttMarkdownPolicy) === null || _a === void 0 ? void 0 : _a.createHTML(this._processedText)) !== null && _b !== void 0 ? _b : this._processedText;\n                element.innerHTML = processedHtml;\n            }\n            if (element.firstElementChild instanceof HTMLElement) {\n                var firstElementChild = element.firstElementChild;\n                firstElementChild.style.marginTop = \"0px\";\n                firstElementChild.style.width = \"100%\";\n                if (!this.wrap) {\n                    firstElementChild.style.overflow = \"hidden\";\n                    firstElementChild.style.textOverflow = \"ellipsis\";\n                }\n            }\n            if (element.lastElementChild instanceof HTMLElement) {\n                element.lastElementChild.style.marginBottom = \"0px\";\n            }\n            var anchors = element.getElementsByTagName(\"a\");\n            var _loop_1 = function (anchor) {\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n                anchor.target = \"_blank\";\n                anchor.onclick = function (e) {\n                    if (raiseAnchorClickedEvent(_this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                    }\n                };\n                anchor.oncontextmenu = function (e) {\n                    if (raiseAnchorClickedEvent(_this, anchor, e)) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        return false;\n                    }\n                    return true;\n                };\n            };\n            for (var _i = 0, _c = Array.from(anchors); _i < _c.length; _i++) {\n                var anchor = _c[_i];\n                _loop_1(anchor);\n            }\n            if (this.wrap) {\n                element.style.wordWrap = \"break-word\";\n                if (this.maxLines && this.maxLines > 0) {\n                    element.style.overflow = \"hidden\";\n                    if (Utils.isInternetExplorer() || !shared_1.GlobalSettings.useWebkitLineClamp) {\n                        element.style.maxHeight = this._computedLineHeight * this.maxLines + \"px\";\n                    }\n                    else {\n                        // While non standard, --webkit-line-clamp works in every browser (except IE)\n                        // and is a great solution to support the maxLines feature with ellipsis\n                        // truncation. With --webkit-line-clamp there is need to use explicit line heights\n                        element.style.removeProperty(\"line-height\");\n                        element.style.display = \"-webkit-box\";\n                        element.style.webkitBoxOrient = \"vertical\";\n                        element.style.webkitLineClamp = this.maxLines.toString();\n                    }\n                }\n            }\n            else {\n                element.style.whiteSpace = \"nowrap\";\n                element.style.textOverflow = \"ellipsis\";\n            }\n            if (shared_1.GlobalSettings.useAdvancedTextBlockTruncation ||\n                shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n                this._originalInnerHtml = element.innerHTML;\n            }\n            return element;\n        }\n        else {\n            return undefined;\n        }\n    };\n    TextBlock.prototype.truncateOverflow = function (maxHeight) {\n        if (maxHeight >= this._computedLineHeight) {\n            return this.truncateIfSupported(maxHeight);\n        }\n        return false;\n    };\n    TextBlock.prototype.undoOverflowTruncation = function () {\n        this.restoreOriginalContent();\n        if (shared_1.GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines) {\n            var maxHeight = this._computedLineHeight * this.maxLines;\n            this.truncateIfSupported(maxHeight);\n        }\n    };\n    TextBlock.prototype.applyStylesTo = function (targetElement) {\n        _super.prototype.applyStylesTo.call(this, targetElement);\n        switch (this.getEffectiveHorizontalAlignment()) {\n            case Enums.HorizontalAlignment.Center:\n                targetElement.style.textAlign = \"center\";\n                break;\n            case Enums.HorizontalAlignment.Right:\n                targetElement.style.textAlign = \"end\";\n                break;\n            default:\n                targetElement.style.textAlign = \"start\";\n                break;\n        }\n        var lineHeights = this.hostConfig.lineHeights;\n        if (lineHeights) {\n            switch (this.effectiveSize) {\n                case Enums.TextSize.Small:\n                    this._computedLineHeight = lineHeights.small;\n                    break;\n                case Enums.TextSize.Medium:\n                    this._computedLineHeight = lineHeights.medium;\n                    break;\n                case Enums.TextSize.Large:\n                    this._computedLineHeight = lineHeights.large;\n                    break;\n                case Enums.TextSize.ExtraLarge:\n                    this._computedLineHeight = lineHeights.extraLarge;\n                    break;\n                default:\n                    this._computedLineHeight = lineHeights.default;\n                    break;\n            }\n        }\n        else {\n            // Looks like 1.33 is the magic number to compute line-height\n            // from font size.\n            this._computedLineHeight =\n                this.getFontSize(this.hostConfig.getFontTypeDefinition(this.effectiveFontType)) *\n                    1.33;\n        }\n        targetElement.style.lineHeight = this._computedLineHeight + \"px\";\n    };\n    TextBlock.prototype.getJsonTypeName = function () {\n        return \"TextBlock\";\n    };\n    TextBlock.prototype.getEffectiveTextStyleDefinition = function () {\n        if (this.style) {\n            return this.hostConfig.textStyles.getStyleByName(this.style);\n        }\n        return _super.prototype.getEffectiveTextStyleDefinition.call(this);\n    };\n    TextBlock.prototype.updateLayout = function (processChildren) {\n        if (processChildren === void 0) { processChildren = false; }\n        _super.prototype.updateLayout.call(this, processChildren);\n        if (shared_1.GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines && this.isDisplayed()) {\n            // Reset the element's innerHTML in case the available room for\n            // content has increased\n            this.restoreOriginalContent();\n            this.truncateIfSupported(this._computedLineHeight * this.maxLines);\n        }\n    };\n    var _a, _b;\n    TextBlock.wrapProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"wrap\", false);\n    TextBlock.maxLinesProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"maxLines\");\n    TextBlock.styleProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_5, \"style\", [\n        { value: \"default\" },\n        { value: \"columnHeader\" },\n        { value: \"heading\" }\n    ]);\n    // Markdown processing is handled outside of Adaptive Cards. It's up to the host to ensure that markdown is safely\n    // processed.\n    TextBlock._ttMarkdownPolicy = (typeof window === 'undefined') ? undefined : (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.createPolicy(\"adaptivecards#markdownPassthroughPolicy\", { createHTML: function (value) { return value; } });\n    // When \"advanced\" truncation is enabled (see GlobalSettings.useAdvancedCardBottomTruncation and\n    // GlobalSettings.useAdvancedTextBlockTruncation), we store the original pre-truncation content in\n    // _originalInnerHtml so that we can restore/recalculate truncation later if space availability has changed (see\n    // TextBlock.restoreOriginalContent())\n    TextBlock._ttRoundtripPolicy = (typeof window === 'undefined') ? undefined : (_b = window.trustedTypes) === null || _b === void 0 ? void 0 : _b.createPolicy(\"adaptivecards#restoreContentsPolicy\", { createHTML: function (value) { return value; } });\n    __decorate([\n        (0, serialization_1.property)(TextBlock.wrapProperty)\n    ], TextBlock.prototype, \"wrap\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextBlock.maxLinesProperty)\n    ], TextBlock.prototype, \"maxLines\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextBlock.styleProperty)\n    ], TextBlock.prototype, \"style\", void 0);\n    return TextBlock;\n}(BaseTextBlock));\nexports.TextBlock = TextBlock;\nvar TextRun = /** @class */ (function (_super) {\n    __extends(TextRun, _super);\n    function TextRun() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.italic = false;\n        _this.strikethrough = false;\n        _this.highlight = false;\n        _this.underline = false;\n        return _this;\n    }\n    TextRun.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        schema.add(BaseTextBlock.selectActionProperty);\n    };\n    //#endregion\n    TextRun.prototype.internalRender = function () {\n        var _this = this;\n        if (this.text) {\n            var preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n            var hostConfig = this.hostConfig;\n            var formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n            if (!formattedText) {\n                formattedText = \"\";\n            }\n            var element = document.createElement(\"span\");\n            element.classList.add(hostConfig.makeCssClassName(\"ac-textRun\"));\n            this.applyStylesTo(element);\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                var anchor = document.createElement(\"a\");\n                anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n                var href = this.selectAction.getHref();\n                anchor.href = href ? href : \"\";\n                anchor.target = \"_blank\";\n                anchor.onclick = function (e) {\n                    if (_this.selectAction && _this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this.selectAction.execute();\n                    }\n                };\n                this.selectAction.setupElementForAccessibility(anchor);\n                anchor.innerText = formattedText;\n                element.appendChild(anchor);\n            }\n            else {\n                element.innerText = formattedText;\n            }\n            return element;\n        }\n        else {\n            return undefined;\n        }\n    };\n    TextRun.prototype.applyStylesTo = function (targetElement) {\n        _super.prototype.applyStylesTo.call(this, targetElement);\n        if (this.italic) {\n            targetElement.style.fontStyle = \"italic\";\n        }\n        if (this.strikethrough) {\n            targetElement.style.textDecoration = \"line-through\";\n        }\n        if (this.highlight) {\n            var colorDefinition = this.getColorDefinition(this.getEffectiveStyleDefinition().foregroundColors, this.effectiveColor);\n            var backgroundColor = Utils.stringToCssColor(this.effectiveIsSubtle\n                ? colorDefinition.highlightColors.subtle\n                : colorDefinition.highlightColors.default);\n            if (backgroundColor) {\n                targetElement.style.backgroundColor = backgroundColor;\n            }\n        }\n        if (this.underline) {\n            targetElement.style.textDecoration = \"underline\";\n        }\n    };\n    TextRun.prototype.getJsonTypeName = function () {\n        return \"TextRun\";\n    };\n    Object.defineProperty(TextRun.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TextRun.prototype, \"isInline\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TextRun.italicProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"italic\", false);\n    TextRun.strikethroughProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"strikethrough\", false);\n    TextRun.highlightProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"highlight\", false);\n    TextRun.underlineProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_3, \"underline\", false);\n    __decorate([\n        (0, serialization_1.property)(TextRun.italicProperty)\n    ], TextRun.prototype, \"italic\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextRun.strikethroughProperty)\n    ], TextRun.prototype, \"strikethrough\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextRun.highlightProperty)\n    ], TextRun.prototype, \"highlight\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextRun.underlineProperty)\n    ], TextRun.prototype, \"underline\", void 0);\n    return TextRun;\n}(BaseTextBlock));\nexports.TextRun = TextRun;\nvar RichTextBlock = /** @class */ (function (_super) {\n    __extends(RichTextBlock, _super);\n    function RichTextBlock() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._inlines = [];\n        return _this;\n    }\n    RichTextBlock.prototype.internalAddInline = function (inline, forceAdd) {\n        if (forceAdd === void 0) { forceAdd = false; }\n        if (!inline.isInline) {\n            throw new Error(strings_1.Strings.errors.elementCannotBeUsedAsInline());\n        }\n        var doAdd = inline.parent === undefined || forceAdd;\n        if (!doAdd && inline.parent !== this) {\n            throw new Error(strings_1.Strings.errors.inlineAlreadyParented());\n        }\n        else {\n            inline.setParent(this);\n            this._inlines.push(inline);\n        }\n    };\n    RichTextBlock.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this._inlines = [];\n        if (Array.isArray(source[\"inlines\"])) {\n            for (var _i = 0, _a = source[\"inlines\"]; _i < _a.length; _i++) {\n                var jsonInline = _a[_i];\n                var inline = void 0;\n                if (typeof jsonInline === \"string\") {\n                    var textRun = new TextRun();\n                    textRun.text = jsonInline;\n                    inline = textRun;\n                }\n                else {\n                    // No fallback for inlines in 1.2\n                    inline = context.parseElement(this, jsonInline, [], false);\n                }\n                if (inline) {\n                    this.internalAddInline(inline, true);\n                }\n            }\n        }\n    };\n    RichTextBlock.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        if (this._inlines.length > 0) {\n            var jsonInlines = [];\n            for (var _i = 0, _a = this._inlines; _i < _a.length; _i++) {\n                var inline = _a[_i];\n                jsonInlines.push(inline.toJSON(context));\n            }\n            context.serializeValue(target, \"inlines\", jsonInlines);\n        }\n    };\n    RichTextBlock.prototype.internalRender = function () {\n        if (this._inlines.length > 0) {\n            var element = void 0;\n            if (this.forElementId) {\n                var labelElement = document.createElement(\"label\");\n                labelElement.htmlFor = this.forElementId;\n                element = labelElement;\n            }\n            else {\n                element = document.createElement(\"div\");\n            }\n            element.className = this.hostConfig.makeCssClassName(\"ac-richTextBlock\");\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.textAlign = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.textAlign = \"end\";\n                    break;\n                default:\n                    element.style.textAlign = \"start\";\n                    break;\n            }\n            var renderedInlines = 0;\n            for (var _i = 0, _a = this._inlines; _i < _a.length; _i++) {\n                var inline = _a[_i];\n                var renderedInline = inline.render();\n                if (renderedInline) {\n                    element.appendChild(renderedInline);\n                    renderedInlines++;\n                }\n            }\n            if (renderedInlines > 0) {\n                return element;\n            }\n        }\n        return undefined;\n    };\n    RichTextBlock.prototype.asString = function () {\n        var result = \"\";\n        for (var _i = 0, _a = this._inlines; _i < _a.length; _i++) {\n            var inline = _a[_i];\n            result += inline.asString();\n        }\n        return result;\n    };\n    RichTextBlock.prototype.getJsonTypeName = function () {\n        return \"RichTextBlock\";\n    };\n    RichTextBlock.prototype.getInlineCount = function () {\n        return this._inlines.length;\n    };\n    RichTextBlock.prototype.getInlineAt = function (index) {\n        if (index >= 0 && index < this._inlines.length) {\n            return this._inlines[index];\n        }\n        else {\n            throw new Error(strings_1.Strings.errors.indexOutOfRange(index));\n        }\n    };\n    RichTextBlock.prototype.addInline = function (inline) {\n        if (typeof inline === \"string\") {\n            this.internalAddInline(new TextRun(inline));\n        }\n        else {\n            this.internalAddInline(inline);\n        }\n    };\n    RichTextBlock.prototype.removeInline = function (inline) {\n        var index = this._inlines.indexOf(inline);\n        if (index >= 0) {\n            this._inlines[index].setParent(undefined);\n            this._inlines.splice(index, 1);\n            return true;\n        }\n        return false;\n    };\n    return RichTextBlock;\n}(CardElement));\nexports.RichTextBlock = RichTextBlock;\nvar Fact = /** @class */ (function (_super) {\n    __extends(Fact, _super);\n    function Fact(name, value) {\n        var _this = _super.call(this) || this;\n        _this.name = name;\n        _this.value = value;\n        return _this;\n    }\n    //#endregion\n    Fact.prototype.getSchemaKey = function () {\n        return \"Fact\";\n    };\n    //#region Schema\n    Fact.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n    Fact.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    __decorate([\n        (0, serialization_1.property)(Fact.titleProperty)\n    ], Fact.prototype, \"name\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Fact.valueProperty)\n    ], Fact.prototype, \"value\", void 0);\n    return Fact;\n}(serialization_1.SerializableObject));\nexports.Fact = Fact;\nvar FactSet = /** @class */ (function (_super) {\n    __extends(FactSet, _super);\n    function FactSet() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(FactSet.prototype, \"useDefaultSizing\", {\n        //#endregion\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FactSet.prototype.internalRender = function () {\n        var element = undefined;\n        var hostConfig = this.hostConfig;\n        if (this.facts.length > 0) {\n            element = document.createElement(\"table\");\n            element.style.borderWidth = \"0px\";\n            element.style.borderSpacing = \"0px\";\n            element.style.borderStyle = \"none\";\n            element.style.borderCollapse = \"collapse\";\n            element.style.display = \"block\";\n            element.style.overflow = \"hidden\";\n            element.classList.add(hostConfig.makeCssClassName(\"ac-factset\"));\n            element.setAttribute(\"role\", \"presentation\");\n            for (var i = 0; i < this.facts.length; i++) {\n                var trElement = document.createElement(\"tr\");\n                if (i > 0) {\n                    trElement.style.marginTop = hostConfig.factSet.spacing + \"px\";\n                }\n                // Title column\n                var tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-title\"));\n                if (hostConfig.factSet.title.maxWidth) {\n                    tdElement.style.maxWidth = hostConfig.factSet.title.maxWidth + \"px\";\n                }\n                tdElement.style.verticalAlign = \"top\";\n                var textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text =\n                    !this.facts[i].name && this.isDesignMode() ? \"Title\" : this.facts[i].name;\n                textBlock.size = hostConfig.factSet.title.size;\n                textBlock.color = hostConfig.factSet.title.color;\n                textBlock.isSubtle = hostConfig.factSet.title.isSubtle;\n                textBlock.weight = hostConfig.factSet.title.weight;\n                textBlock.wrap = hostConfig.factSet.title.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n                // Spacer column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.width = \"10px\";\n                Utils.appendChild(trElement, tdElement);\n                // Value column\n                tdElement = document.createElement(\"td\");\n                tdElement.style.padding = \"0\";\n                tdElement.style.verticalAlign = \"top\";\n                tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-value\"));\n                textBlock = new TextBlock();\n                textBlock.setParent(this);\n                textBlock.text = this.facts[i].value;\n                textBlock.size = hostConfig.factSet.value.size;\n                textBlock.color = hostConfig.factSet.value.color;\n                textBlock.isSubtle = hostConfig.factSet.value.isSubtle;\n                textBlock.weight = hostConfig.factSet.value.weight;\n                textBlock.wrap = hostConfig.factSet.value.wrap;\n                textBlock.spacing = Enums.Spacing.None;\n                Utils.appendChild(tdElement, textBlock.render());\n                Utils.appendChild(trElement, tdElement);\n                Utils.appendChild(element, trElement);\n            }\n        }\n        return element;\n    };\n    FactSet.prototype.getJsonTypeName = function () {\n        return \"FactSet\";\n    };\n    //#region Schema\n    FactSet.factsProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"facts\", Fact);\n    __decorate([\n        (0, serialization_1.property)(FactSet.factsProperty)\n    ], FactSet.prototype, \"facts\", void 0);\n    return FactSet;\n}(CardElement));\nexports.FactSet = FactSet;\nvar ImageDimensionProperty = /** @class */ (function (_super) {\n    __extends(ImageDimensionProperty, _super);\n    function ImageDimensionProperty(targetVersion, name, internalName, fallbackProperty) {\n        var _this = _super.call(this, targetVersion, name) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.internalName = internalName;\n        _this.fallbackProperty = fallbackProperty;\n        return _this;\n    }\n    ImageDimensionProperty.prototype.getInternalName = function () {\n        return this.internalName;\n    };\n    ImageDimensionProperty.prototype.parse = function (sender, source, context) {\n        var result = undefined;\n        var sourceValue = source[this.name];\n        if (sourceValue === undefined) {\n            return this.defaultValue;\n        }\n        var isValid = false;\n        if (typeof sourceValue === \"string\") {\n            try {\n                var size = shared_1.SizeAndUnit.parse(sourceValue, true);\n                if (size.unit === Enums.SizeUnit.Pixel) {\n                    result = size.physicalSize;\n                    isValid = true;\n                }\n            }\n            catch (_a) {\n                // Swallow the exception\n            }\n            // If the source value isn't valid per this property definition,\n            // check its validity per the fallback property, if specified\n            if (!isValid && this.fallbackProperty) {\n                isValid = this.fallbackProperty.isValidValue(sourceValue, context);\n            }\n        }\n        if (!isValid) {\n            context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(sourceValue, this.name));\n        }\n        return result;\n    };\n    ImageDimensionProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined);\n    };\n    return ImageDimensionProperty;\n}(serialization_1.PropertyDefinition));\nvar Image = /** @class */ (function (_super) {\n    __extends(Image, _super);\n    function Image() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.size = Enums.Size.Auto;\n        _this.style = Enums.ImageStyle.Default;\n        return _this;\n    }\n    Image.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        schema.remove(CardElement.heightProperty);\n    };\n    //#endregion\n    Image.prototype.applySize = function (element) {\n        if (this.pixelWidth || this.pixelHeight) {\n            if (this.pixelWidth) {\n                element.style.width = this.pixelWidth + \"px\";\n            }\n            if (this.pixelHeight) {\n                element.style.height = this.pixelHeight + \"px\";\n            }\n        }\n        else {\n            if (this.maxHeight) {\n                // If the image is constrained in height, we set its height property and\n                // auto and stretch are ignored (default to medium). THis is necessary for\n                // ImageSet which uses a maximum image height as opposed to the cards width\n                // as a constraining dimension\n                switch (this.size) {\n                    case Enums.Size.Small:\n                        element.style.height = this.hostConfig.imageSizes.small + \"px\";\n                        break;\n                    case Enums.Size.Large:\n                        element.style.height = this.hostConfig.imageSizes.large + \"px\";\n                        break;\n                    default:\n                        element.style.height = this.hostConfig.imageSizes.medium + \"px\";\n                        break;\n                }\n                element.style.maxHeight = this.maxHeight + \"px\";\n            }\n            else {\n                switch (this.size) {\n                    case Enums.Size.Stretch:\n                        element.style.width = \"100%\";\n                        break;\n                    case Enums.Size.Auto:\n                        element.style.maxWidth = \"100%\";\n                        break;\n                    case Enums.Size.Small:\n                        element.style.width = this.hostConfig.imageSizes.small + \"px\";\n                        break;\n                    case Enums.Size.Large:\n                        element.style.width = this.hostConfig.imageSizes.large + \"px\";\n                        break;\n                    case Enums.Size.Medium:\n                        element.style.width = this.hostConfig.imageSizes.medium + \"px\";\n                        break;\n                }\n                element.style.maxHeight = \"100%\";\n            }\n        }\n    };\n    Object.defineProperty(Image.prototype, \"useDefaultSizing\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Image.prototype.internalRender = function () {\n        var _this = this;\n        var element = undefined;\n        if (this.url) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.alignItems = \"flex-start\";\n            // Cache hostConfig to avoid walking the parent hierarchy multiple times\n            var hostConfig = this.hostConfig;\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n            var imageElement = document.createElement(\"img\");\n            this.renderedImageElement = imageElement;\n            imageElement.onload = function (_e) {\n                raiseImageLoadedEvent(_this);\n            };\n            imageElement.onerror = function (_e) {\n                if (_this.renderedElement) {\n                    var card = _this.getRootElement();\n                    clearElement(_this.renderedElement);\n                    if (card && card.designMode) {\n                        var errorElement = document.createElement(\"div\");\n                        errorElement.style.display = \"flex\";\n                        errorElement.style.alignItems = \"center\";\n                        errorElement.style.justifyContent = \"center\";\n                        errorElement.style.backgroundColor = \"#EEEEEE\";\n                        errorElement.style.color = \"black\";\n                        errorElement.innerText = \":-(\";\n                        errorElement.style.padding = \"10px\";\n                        _this.applySize(errorElement);\n                        _this.renderedElement.appendChild(errorElement);\n                    }\n                }\n                raiseImageLoadedEvent(_this);\n            };\n            imageElement.style.minWidth = \"0\";\n            imageElement.classList.add(hostConfig.makeCssClassName(\"ac-image\"));\n            if (this.selectAction && hostConfig.supportsInteractivity) {\n                imageElement.onkeypress = function (e) {\n                    if (_this.selectAction &&\n                        _this.selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")) {\n                        // enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this.selectAction.execute();\n                    }\n                };\n                imageElement.onclick = function (e) {\n                    if (_this.selectAction && _this.selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this.selectAction.execute();\n                    }\n                };\n                this.selectAction.setupElementForAccessibility(imageElement);\n                if (this.selectAction.isEffectivelyEnabled()) {\n                    imageElement.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n            this.applySize(imageElement);\n            if (this.style === Enums.ImageStyle.Person) {\n                imageElement.style.borderRadius = \"50%\";\n                imageElement.style.backgroundPosition = \"50% 50%\";\n                imageElement.style.backgroundRepeat = \"no-repeat\";\n            }\n            var backgroundColor = Utils.stringToCssColor(this.backgroundColor);\n            if (backgroundColor) {\n                imageElement.style.backgroundColor = backgroundColor;\n            }\n            this.setImageSource(imageElement);\n            var altTextProperty = this.preProcessPropertyValue(Image.altTextProperty);\n            if (altTextProperty) {\n                imageElement.alt = altTextProperty;\n            }\n            element.appendChild(imageElement);\n        }\n        return element;\n    };\n    Image.prototype.getJsonTypeName = function () {\n        return \"Image\";\n    };\n    Image.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        if (this.selectAction) {\n            result.push(this.selectAction);\n        }\n        return result;\n    };\n    Image.prototype.getActionById = function (id) {\n        var result = _super.prototype.getActionById.call(this, id);\n        if (!result && this.selectAction) {\n            result = this.selectAction.getActionById(id);\n        }\n        return result;\n    };\n    Image.prototype.getResourceInformation = function () {\n        return this.url ? [{ url: this.url, mimeType: \"image\" }] : [];\n    };\n    Image.prototype.setImageSource = function (imageElement) {\n        var imageForceLoader = new ImageForceLoader(this.forceLoad, this.url);\n        imageForceLoader.configureImage(this);\n        imageElement.src = this.preProcessPropertyValue(Image.urlProperty);\n        imageForceLoader.resetImage(this);\n    };\n    Image.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"url\");\n    Image.altTextProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"altText\");\n    Image.backgroundColorProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"backgroundColor\");\n    Image.styleProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"style\", Enums.ImageStyle, Enums.ImageStyle.Default);\n    Image.sizeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"size\", Enums.Size, Enums.Size.Auto);\n    Image.pixelWidthProperty = new ImageDimensionProperty(serialization_1.Versions.v1_1, \"width\", \"pixelWidth\");\n    Image.pixelHeightProperty = new ImageDimensionProperty(serialization_1.Versions.v1_1, \"height\", \"pixelHeight\", CardElement.heightProperty);\n    Image.selectActionProperty = new ActionProperty(serialization_1.Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n    Image.shouldForceLoadProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_6, \"forceLoad\", false);\n    __decorate([\n        (0, serialization_1.property)(Image.urlProperty)\n    ], Image.prototype, \"url\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.altTextProperty)\n    ], Image.prototype, \"altText\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.backgroundColorProperty)\n    ], Image.prototype, \"backgroundColor\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.sizeProperty)\n    ], Image.prototype, \"size\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.styleProperty)\n    ], Image.prototype, \"style\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.pixelWidthProperty)\n    ], Image.prototype, \"pixelWidth\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.pixelHeightProperty)\n    ], Image.prototype, \"pixelHeight\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.selectActionProperty)\n    ], Image.prototype, \"selectAction\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Image.shouldForceLoadProperty)\n    ], Image.prototype, \"forceLoad\", void 0);\n    return Image;\n}(CardElement));\nexports.Image = Image;\n// configures Image element to fetch a new image data from url source instead of relying on cache\n// currently rudimentary refreshing scheme is used\n// by attaching unique query string to url, we bypass the cache usage\nvar ImageForceLoader = /** @class */ (function () {\n    function ImageForceLoader(doForceLoad, url) {\n        this.doForceLoad = doForceLoad;\n        this.url = url;\n        if (url && url.length && doForceLoad) {\n            // we can do better by appending unique key such as uuid instead of epoch\n            // however the current usage is for front-end ui and networking,  \n            // since ui is running in single main thread, this is sufficient mechanism\n            // without needing to depend on external library for our small use cases.\n            this.uniqueHash = '?' + Date.now();\n            this.urlWithForceLoadOption = url + this.uniqueHash;\n        }\n    }\n    ImageForceLoader.prototype.configureImage = function (image) {\n        if (this.urlWithForceLoadOption && this.urlWithForceLoadOption.length) {\n            image.url = this.urlWithForceLoadOption;\n        }\n    };\n    ImageForceLoader.prototype.resetImage = function (image) {\n        image.url = this.url;\n    };\n    return ImageForceLoader;\n}());\nvar CardElementContainer = /** @class */ (function (_super) {\n    __extends(CardElementContainer, _super);\n    function CardElementContainer() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allowVerticalOverflow = false;\n        return _this;\n    }\n    CardElementContainer.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        if (!this.isSelectable) {\n            schema.remove(CardElementContainer.selectActionProperty);\n        }\n    };\n    //#endregion\n    CardElementContainer.prototype.isElementAllowed = function (element) {\n        return this.hostConfig.supportsInteractivity || !element.isInteractive;\n    };\n    CardElementContainer.prototype.applyPadding = function () {\n        _super.prototype.applyPadding.call(this);\n        if (!this.renderedElement) {\n            return;\n        }\n        var physicalPadding = new shared_1.SpacingDefinition();\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(this.getEffectivePadding());\n        }\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n        this.renderedElement.style.marginRight = \"0\";\n        this.renderedElement.style.marginLeft = \"0\";\n    };\n    Object.defineProperty(CardElementContainer.prototype, \"isSelectable\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardElementContainer.prototype.forbiddenChildElements = function () {\n        return [];\n    };\n    CardElementContainer.prototype.releaseDOMResources = function () {\n        _super.prototype.releaseDOMResources.call(this);\n        for (var i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).releaseDOMResources();\n        }\n    };\n    CardElementContainer.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        for (var i = 0; i < this.getItemCount(); i++) {\n            var item = this.getItemAt(i);\n            if (!this.hostConfig.supportsInteractivity && item.isInteractive) {\n                context.addFailure(this, Enums.ValidationEvent.InteractivityNotAllowed, strings_1.Strings.errors.interactivityNotAllowed());\n            }\n            if (!this.isElementAllowed(item)) {\n                context.addFailure(this, Enums.ValidationEvent.InteractivityNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(item.getJsonTypeName()));\n            }\n            item.internalValidateProperties(context);\n        }\n        if (this._selectAction) {\n            this._selectAction.internalValidateProperties(context);\n        }\n    };\n    CardElementContainer.prototype.render = function () {\n        var _this = this;\n        var element = _super.prototype.render.call(this);\n        if (element) {\n            var hostConfig = this.hostConfig;\n            if (this.allowVerticalOverflow) {\n                element.style.overflowX = \"hidden\";\n                element.style.overflowY = \"auto\";\n            }\n            if (element &&\n                this.isSelectable &&\n                this._selectAction &&\n                hostConfig.supportsInteractivity) {\n                element.onclick = function (e) {\n                    if (_this._selectAction && _this._selectAction.isEffectivelyEnabled()) {\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this._selectAction.execute();\n                    }\n                };\n                element.onkeypress = function (e) {\n                    if (_this._selectAction &&\n                        _this._selectAction.isEffectivelyEnabled() &&\n                        (e.code === \"Enter\" || e.code === \"Space\")) {\n                        // Enter or space pressed\n                        e.preventDefault();\n                        e.cancelBubble = true;\n                        _this._selectAction.execute();\n                    }\n                };\n                this._selectAction.setupElementForAccessibility(element);\n                if (this._selectAction.isEffectivelyEnabled()) {\n                    element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n                }\n            }\n        }\n        return element;\n    };\n    CardElementContainer.prototype.updateLayout = function (processChildren) {\n        if (processChildren === void 0) { processChildren = true; }\n        _super.prototype.updateLayout.call(this, processChildren);\n        if (processChildren) {\n            for (var i = 0; i < this.getItemCount(); i++) {\n                this.getItemAt(i).updateLayout();\n            }\n        }\n    };\n    CardElementContainer.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        var result = [];\n        for (var i = 0; i < this.getItemCount(); i++) {\n            result.push.apply(result, this.getItemAt(i).getAllInputs(processActions));\n        }\n        return result;\n    };\n    CardElementContainer.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        for (var i = 0; i < this.getItemCount(); i++) {\n            result.push.apply(result, this.getItemAt(i).getAllActions());\n        }\n        if (this._selectAction) {\n            result.push(this._selectAction);\n        }\n        return result;\n    };\n    CardElementContainer.prototype.getResourceInformation = function () {\n        var result = [];\n        for (var i = 0; i < this.getItemCount(); i++) {\n            result.push.apply(result, this.getItemAt(i).getResourceInformation());\n        }\n        return result;\n    };\n    CardElementContainer.prototype.getElementById = function (id) {\n        var result = _super.prototype.getElementById.call(this, id);\n        if (!result) {\n            for (var i = 0; i < this.getItemCount(); i++) {\n                result = this.getItemAt(i).getElementById(id);\n                if (result) {\n                    break;\n                }\n            }\n        }\n        return result;\n    };\n    /**\n     * @inheritdoc\n     */\n    CardElementContainer.prototype.findDOMNodeOwner = function (node) {\n        var _a;\n        var target = undefined;\n        for (var i = 0; i < this.getItemCount(); i++) {\n            // recur through child elements\n            target = this.getItemAt(i).findDOMNodeOwner(node);\n            if (target) {\n                return target;\n            }\n        }\n        // If not found in children, check the actions\n        for (var i = 0; i < this.getActionCount(); i++) {\n            target = (_a = this.getActionAt(i)) === null || _a === void 0 ? void 0 : _a.findDOMNodeOwner(node);\n            if (target) {\n                return target;\n            }\n        }\n        // if not found in children or actions, defer to parent implementation\n        return _super.prototype.findDOMNodeOwner.call(this, node);\n    };\n    CardElementContainer.selectActionProperty = new ActionProperty(serialization_1.Versions.v1_1, \"selectAction\", [\n        \"Action.ShowCard\"\n    ]);\n    __decorate([\n        (0, serialization_1.property)(CardElementContainer.selectActionProperty)\n    ], CardElementContainer.prototype, \"_selectAction\", void 0);\n    return CardElementContainer;\n}(CardElement));\nexports.CardElementContainer = CardElementContainer;\nvar ImageSet = /** @class */ (function (_super) {\n    __extends(ImageSet, _super);\n    function ImageSet() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._images = [];\n        _this.imageSize = Enums.ImageSize.Medium;\n        _this.presentationStyle = Enums.ImageSetPresentationStyle.Default;\n        _this.pixelOffset = 0;\n        return _this;\n    }\n    //#endregion\n    ImageSet.prototype.internalRender = function () {\n        var element = undefined;\n        if (this._images.length > 0) {\n            element = document.createElement(\"div\");\n            element.style.display = \"flex\";\n            element.style.flexWrap = \"wrap\";\n            for (var _i = 0, _a = this._images; _i < _a.length; _i++) {\n                var image = _a[_i];\n                switch (this.imageSize) {\n                    case Enums.ImageSize.Small:\n                        image.size = Enums.Size.Small;\n                        break;\n                    case Enums.ImageSize.Large:\n                        image.size = Enums.Size.Large;\n                        break;\n                    default:\n                        image.size = Enums.Size.Medium;\n                        break;\n                }\n                image.maxHeight = this.hostConfig.imageSet.maxImageHeight;\n                var renderedImage = image.render();\n                if (renderedImage) {\n                    renderedImage.style.display = \"inline-flex\";\n                    renderedImage.style.margin = \"0px\";\n                    if (this.presentationStyle == Enums.ImageSetPresentationStyle.Default) {\n                        renderedImage.style.marginRight = \"10px\";\n                    }\n                    Utils.appendChild(element, renderedImage);\n                }\n            }\n            if (this.presentationStyle == Enums.ImageSetPresentationStyle.Stacked) {\n                this.applyStackedPresentationStyle();\n            }\n        }\n        return element;\n    };\n    ImageSet.prototype.applyStackedPresentationStyle = function () {\n        if (this._images[0].renderedImageElement) {\n            var dimension = StackedImageConfigurator.parseNumericPixelDimension(this._images[0].renderedImageElement.style.height);\n            var bgColor = this.getEffectiveBackgroundColor();\n            if (dimension) {\n                var stackedImageConfigurator = new StackedImageConfigurator(this.pixelOffset, dimension, bgColor);\n                stackedImageConfigurator.configureImagesArrayAsStackedLayout(this._images);\n            }\n        }\n    };\n    ImageSet.prototype.getEffectiveBackgroundColor = function () {\n        var parentContainer = this.getParentContainer();\n        var style = parentContainer === null || parentContainer === void 0 ? void 0 : parentContainer.getEffectiveStyle();\n        var styleDefinition = this.hostConfig.containerStyles.getStyleByName(style, this.hostConfig.containerStyles.getStyleByName(this.defaultStyle));\n        return Utils.stringToCssColor(styleDefinition.backgroundColor);\n    };\n    ImageSet.prototype.getItemCount = function () {\n        return this._images.length;\n    };\n    ImageSet.prototype.getItemAt = function (index) {\n        return this._images[index];\n    };\n    ImageSet.prototype.getFirstVisibleRenderedItem = function () {\n        return this._images && this._images.length > 0 ? this._images[0] : undefined;\n    };\n    ImageSet.prototype.getLastVisibleRenderedItem = function () {\n        return this._images && this._images.length > 0\n            ? this._images[this._images.length - 1]\n            : undefined;\n    };\n    ImageSet.prototype.removeItem = function (item) {\n        if (item instanceof Image) {\n            var itemIndex = this._images.indexOf(item);\n            if (itemIndex >= 0) {\n                this._images.splice(itemIndex, 1);\n                item.setParent(undefined);\n                this.updateLayout();\n                return true;\n            }\n        }\n        return false;\n    };\n    ImageSet.prototype.getJsonTypeName = function () {\n        return \"ImageSet\";\n    };\n    ImageSet.prototype.addImage = function (image) {\n        if (!image.parent) {\n            this._images.push(image);\n            image.setParent(this);\n        }\n        else {\n            throw new Error(\"This image already belongs to another ImageSet\");\n        }\n    };\n    ImageSet.prototype.indexOf = function (cardElement) {\n        return cardElement instanceof Image ? this._images.indexOf(cardElement) : -1;\n    };\n    ImageSet.imagesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"images\", Image, function (sender, item) {\n        item.setParent(sender);\n    });\n    ImageSet.imageSizeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"imageSize\", Enums.ImageSize, Enums.ImageSize.Medium);\n    ImageSet.imagePresentationStyle = new serialization_1.EnumProperty(serialization_1.Versions.v1_6, \"style\", Enums.ImageSetPresentationStyle, Enums.ImageSetPresentationStyle.Default);\n    ImageSet.pixelOffset = new serialization_1.NumProperty(serialization_1.Versions.v1_6, \"offset\", 0, undefined);\n    __decorate([\n        (0, serialization_1.property)(ImageSet.imagesProperty)\n    ], ImageSet.prototype, \"_images\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ImageSet.imageSizeProperty)\n    ], ImageSet.prototype, \"imageSize\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ImageSet.imagePresentationStyle)\n    ], ImageSet.prototype, \"presentationStyle\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ImageSet.pixelOffset)\n    ], ImageSet.prototype, \"pixelOffset\", void 0);\n    return ImageSet;\n}(CardElementContainer));\nexports.ImageSet = ImageSet;\nvar StackedImageConfigurator = /** @class */ (function () {\n    function StackedImageConfigurator(offset, dimension, style) {\n        this.sign45 = 0.7071;\n        this.maxImageCounts = 2;\n        this.offset = 0;\n        this.normalizationConstant = 0;\n        this.border = 5;\n        this.dimension = 0;\n        this.dimension = dimension;\n        this.normalizationConstant = (dimension * this.sign45 - 0.5 * dimension) * 2;\n        // offset determines how far images are placed from each other\n        // at zero, images are separated only by the border\n        // there is no restriction on how far they are apart in positive values, their actual\n        // positioning is limited by maximum size imposed by Image renderer\n        // a negative value can decrease upto the diameter of the image since a value less than the diameter\n        // put the images past each other, and the use of such value is not reasonable request\n        // users should change image positions in such case.\n        this.offset = this.sign45 * (Math.max(offset, -dimension) - this.normalizationConstant);\n        this.style = style ? style : \"\";\n    }\n    StackedImageConfigurator.prototype.moveImageRight = function (element) {\n        element.style.marginLeft = this.offset + \"px\";\n    };\n    StackedImageConfigurator.prototype.moveImageUp = function (element) {\n        element.style.marginBottom = this.offset + this.dimension + \"px\";\n    };\n    StackedImageConfigurator.prototype.moveImageDown = function (element) {\n        element.style.marginTop = this.offset + this.dimension + \"px\";\n    };\n    StackedImageConfigurator.prototype.makeImageRound = function (element) {\n        element.style.borderRadius = \"50%\";\n        element.style.backgroundPosition = \"50% 50%\";\n        element.style.backgroundRepeat = \"no-repeat\";\n    };\n    StackedImageConfigurator.prototype.applyBorder = function (element) {\n        element.style.height = (this.dimension + this.border * 2) + \"px\";\n        element.style.border = this.border + \"px\" + \" solid \" + this.style;\n    };\n    StackedImageConfigurator.prototype.configureImageForBottomLeft = function (element) {\n        this.moveImageDown(element);\n        this.makeImageRound(element);\n        this.applyBorder(element);\n        element.style.zIndex = \"2\";\n    };\n    StackedImageConfigurator.prototype.configureImageForTopRight = function (element) {\n        this.moveImageUp(element);\n        this.moveImageRight(element);\n        this.makeImageRound(element);\n        element.style.zIndex = \"1\";\n    };\n    // stacked layout is applied when there are two images in ImageSet,\n    // first image in the ImageSet is put bottom left of ImageSet,\n    // second image is placed top right diagonally to the first image at 45 angle\n    // first image is placed over the second image should the overlap to occur.\n    StackedImageConfigurator.prototype.configureImagesArrayAsStackedLayout = function (elements) {\n        if (elements.length == 1) {\n            if (elements[0].renderedImageElement) {\n                this.makeImageRound(elements[0].renderedImageElement);\n            }\n        }\n        else if (elements.length <= this.maxImageCounts) {\n            if (elements[0].renderedImageElement && elements[1].renderedImageElement) {\n                this.configureImageForBottomLeft(elements[0].renderedImageElement);\n                this.configureImageForTopRight(elements[1].renderedImageElement);\n            }\n        }\n    };\n    StackedImageConfigurator.parseNumericPixelDimension = function (dimension) {\n        if ((dimension === null || dimension === void 0 ? void 0 : dimension.substring(dimension.length - 2)) == 'px') {\n            return parseInt(dimension.substring(0, dimension.length - 2));\n        }\n        return undefined;\n    };\n    return StackedImageConfigurator;\n}());\nvar ContentSource = /** @class */ (function (_super) {\n    __extends(ContentSource, _super);\n    //#endregion\n    function ContentSource(url, mimeType) {\n        var _this = _super.call(this) || this;\n        _this.url = url;\n        _this.mimeType = mimeType;\n        return _this;\n    }\n    ContentSource.prototype.isValid = function () {\n        return this.mimeType && this.url ? true : false;\n    };\n    //#region Schema\n    ContentSource.mimeTypeProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"mimeType\");\n    ContentSource.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"url\");\n    __decorate([\n        (0, serialization_1.property)(ContentSource.mimeTypeProperty)\n    ], ContentSource.prototype, \"mimeType\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ContentSource.urlProperty)\n    ], ContentSource.prototype, \"url\", void 0);\n    return ContentSource;\n}(serialization_1.SerializableObject));\nexports.ContentSource = ContentSource;\nvar CaptionSource = /** @class */ (function (_super) {\n    __extends(CaptionSource, _super);\n    //#endregion\n    function CaptionSource(url, mimeType, label) {\n        var _this = _super.call(this, url, mimeType) || this;\n        _this.label = label;\n        return _this;\n    }\n    CaptionSource.prototype.getSchemaKey = function () {\n        return \"CaptionSource\";\n    };\n    CaptionSource.prototype.render = function () {\n        var result = undefined;\n        if (this.isValid()) {\n            result = document.createElement(\"track\");\n            result.src = this.url;\n            result.kind = \"captions\";\n            result.label = this.label;\n        }\n        return result;\n    };\n    //#region Schema\n    CaptionSource.labelProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_6, \"label\");\n    __decorate([\n        (0, serialization_1.property)(CaptionSource.labelProperty)\n    ], CaptionSource.prototype, \"label\", void 0);\n    return CaptionSource;\n}(ContentSource));\nexports.CaptionSource = CaptionSource;\nvar MediaSource = /** @class */ (function (_super) {\n    __extends(MediaSource, _super);\n    function MediaSource() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MediaSource.prototype.getSchemaKey = function () {\n        return \"MediaSource\";\n    };\n    MediaSource.prototype.render = function () {\n        var result = undefined;\n        if (this.isValid()) {\n            result = document.createElement(\"source\");\n            result.src = this.url;\n            result.type = this.mimeType;\n        }\n        return result;\n    };\n    return MediaSource;\n}(ContentSource));\nexports.MediaSource = MediaSource;\nvar MediaPlayer = /** @class */ (function () {\n    function MediaPlayer() {\n    }\n    MediaPlayer.prototype.play = function () {\n        // Do nothing in base implementation\n    };\n    Object.defineProperty(MediaPlayer.prototype, \"posterUrl\", {\n        get: function () {\n            return this._posterUrl;\n        },\n        set: function (value) {\n            this._posterUrl = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MediaPlayer.prototype, \"selectedMediaType\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return MediaPlayer;\n}());\nexports.MediaPlayer = MediaPlayer;\nvar HTML5MediaPlayer = /** @class */ (function (_super) {\n    __extends(HTML5MediaPlayer, _super);\n    function HTML5MediaPlayer(owner) {\n        var _this = _super.call(this) || this;\n        _this.owner = owner;\n        _this._selectedSources = [];\n        _this._captionSources = [];\n        _this.processSources();\n        return _this;\n    }\n    HTML5MediaPlayer.prototype.processSources = function () {\n        var _a;\n        this._selectedSources = [];\n        this._captionSources = [];\n        this._selectedMediaType = undefined;\n        for (var _i = 0, _b = this.owner.sources; _i < _b.length; _i++) {\n            var source = _b[_i];\n            var mimeComponents = source.mimeType ? source.mimeType.split(\"/\") : [];\n            if (mimeComponents.length === 2) {\n                if (!this._selectedMediaType) {\n                    var index = HTML5MediaPlayer.supportedMediaTypes.indexOf(mimeComponents[0]);\n                    if (index >= 0) {\n                        this._selectedMediaType = HTML5MediaPlayer.supportedMediaTypes[index];\n                    }\n                }\n                if (mimeComponents[0] === this._selectedMediaType) {\n                    this._selectedSources.push(source);\n                }\n            }\n        }\n        (_a = this._captionSources).push.apply(_a, this.owner.captionSources);\n    };\n    HTML5MediaPlayer.prototype.canPlay = function () {\n        return this._selectedSources.length > 0;\n    };\n    HTML5MediaPlayer.prototype.fetchVideoDetails = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    HTML5MediaPlayer.prototype.render = function () {\n        if (this._selectedMediaType === \"video\") {\n            this._mediaElement = document.createElement(\"video\");\n        }\n        else {\n            this._mediaElement = document.createElement(\"audio\");\n        }\n        this._mediaElement.setAttribute(\"aria-label\", this.owner.altText ? this.owner.altText : strings_1.Strings.defaults.mediaPlayerAriaLabel());\n        this._mediaElement.setAttribute(\"webkit-playsinline\", \"\");\n        this._mediaElement.setAttribute(\"playsinline\", \"\");\n        // We enable crossorigin for cases where the caption file has a different domain than\n        // the video file. If the caption file lives in a different domain than the video file\n        // and crossorigin is not set, then the caption file will fail to load.\n        this._mediaElement.setAttribute(\"crossorigin\", \"\");\n        this._mediaElement.autoplay = true;\n        this._mediaElement.controls = true;\n        if (Utils.isMobileOS()) {\n            this._mediaElement.muted = true;\n        }\n        this._mediaElement.preload = \"none\";\n        this._mediaElement.style.width = \"100%\";\n        for (var _i = 0, _a = this.owner.sources; _i < _a.length; _i++) {\n            var source = _a[_i];\n            var renderedSource = source.render();\n            Utils.appendChild(this._mediaElement, renderedSource);\n        }\n        for (var _b = 0, _c = this.owner.captionSources; _b < _c.length; _b++) {\n            var captionSource = _c[_b];\n            if (captionSource.mimeType == \"vtt\") {\n                var renderedCaptionSource = captionSource.render();\n                Utils.appendChild(this._mediaElement, renderedCaptionSource);\n            }\n        }\n        return this._mediaElement;\n    };\n    HTML5MediaPlayer.prototype.play = function () {\n        if (this._mediaElement) {\n            this._mediaElement.play();\n        }\n    };\n    Object.defineProperty(HTML5MediaPlayer.prototype, \"selectedMediaType\", {\n        get: function () {\n            return this._selectedMediaType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HTML5MediaPlayer.supportedMediaTypes = [\"audio\", \"video\"];\n    return HTML5MediaPlayer;\n}(MediaPlayer));\nexports.HTML5MediaPlayer = HTML5MediaPlayer;\nvar CustomMediaPlayer = /** @class */ (function (_super) {\n    __extends(CustomMediaPlayer, _super);\n    function CustomMediaPlayer(matches) {\n        return _super.call(this) || this;\n    }\n    return CustomMediaPlayer;\n}(MediaPlayer));\nexports.CustomMediaPlayer = CustomMediaPlayer;\nvar IFrameMediaMediaPlayer = /** @class */ (function (_super) {\n    __extends(IFrameMediaMediaPlayer, _super);\n    function IFrameMediaMediaPlayer(matches, iFrameTitle) {\n        var _this = _super.call(this, matches) || this;\n        _this.iFrameTitle = iFrameTitle;\n        if (matches.length >= 2) {\n            _this._videoId = matches[1];\n        }\n        return _this;\n    }\n    IFrameMediaMediaPlayer.prototype.canPlay = function () {\n        return this._videoId !== undefined;\n    };\n    IFrameMediaMediaPlayer.prototype.render = function () {\n        var container = document.createElement(\"div\");\n        container.style.position = \"relative\";\n        container.style.width = \"100%\";\n        container.style.height = \"0\";\n        container.style.paddingBottom = \"56.25%\";\n        var iFrame = document.createElement(\"iframe\");\n        iFrame.style.position = \"absolute\";\n        iFrame.style.top = \"0\";\n        iFrame.style.left = \"0\";\n        iFrame.style.width = \"100%\";\n        iFrame.style.height = \"100%\";\n        iFrame.src = this.getEmbedVideoUrl();\n        iFrame.frameBorder = \"0\";\n        if (this.iFrameTitle) {\n            iFrame.title = this.iFrameTitle;\n        }\n        iFrame.allow =\n            \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n        iFrame.allowFullscreen = true;\n        container.appendChild(iFrame);\n        return container;\n    };\n    Object.defineProperty(IFrameMediaMediaPlayer.prototype, \"videoId\", {\n        get: function () {\n            return this._videoId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return IFrameMediaMediaPlayer;\n}(CustomMediaPlayer));\nexports.IFrameMediaMediaPlayer = IFrameMediaMediaPlayer;\nvar VimeoPlayer = /** @class */ (function (_super) {\n    __extends(VimeoPlayer, _super);\n    function VimeoPlayer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VimeoPlayer.prototype.fetchVideoDetails = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var oEmbedUrl, response, json;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        oEmbedUrl = \"https://vimeo.com/api/oembed.json?url=\".concat(this.getEmbedVideoUrl());\n                        return [4 /*yield*/, fetch(oEmbedUrl)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        json = _a.sent();\n                        this.posterUrl = json[\"thumbnail_url\"];\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    VimeoPlayer.prototype.getEmbedVideoUrl = function () {\n        return \"https://player.vimeo.com/video/\".concat(this.videoId, \"?autoplay=1\");\n    };\n    return VimeoPlayer;\n}(IFrameMediaMediaPlayer));\nexports.VimeoPlayer = VimeoPlayer;\nvar DailymotionPlayer = /** @class */ (function (_super) {\n    __extends(DailymotionPlayer, _super);\n    function DailymotionPlayer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DailymotionPlayer.prototype.fetchVideoDetails = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var apiUrl, response, json;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        apiUrl = \"https://api.dailymotion.com/video/\".concat(this.videoId, \"?fields=thumbnail_720_url\");\n                        return [4 /*yield*/, fetch(apiUrl)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        json = _a.sent();\n                        this.posterUrl = json[\"thumbnail_720_url\"];\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DailymotionPlayer.prototype.getEmbedVideoUrl = function () {\n        return \"https://www.dailymotion.com/embed/video/\".concat(this.videoId, \"?autoplay=1\");\n    };\n    return DailymotionPlayer;\n}(IFrameMediaMediaPlayer));\nexports.DailymotionPlayer = DailymotionPlayer;\nvar YouTubePlayer = /** @class */ (function (_super) {\n    __extends(YouTubePlayer, _super);\n    function YouTubePlayer(matches, iFrameTitle) {\n        var _this = _super.call(this, matches, iFrameTitle) || this;\n        _this.iFrameTitle = iFrameTitle;\n        if (matches.length >= 3 && matches[2] !== undefined) {\n            _this._startTimeIndex = parseInt(matches[2]);\n        }\n        return _this;\n    }\n    YouTubePlayer.prototype.fetchVideoDetails = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.posterUrl = this.videoId\n                    ? \"https://img.youtube.com/vi/\".concat(this.videoId, \"/maxresdefault.jpg\")\n                    : undefined;\n                return [2 /*return*/];\n            });\n        });\n    };\n    YouTubePlayer.prototype.getEmbedVideoUrl = function () {\n        var url = \"https://www.youtube.com/embed/\".concat(this.videoId, \"?autoplay=1\");\n        if (this._startTimeIndex !== undefined) {\n            url += \"&start=\".concat(this._startTimeIndex);\n        }\n        return url;\n    };\n    return YouTubePlayer;\n}(IFrameMediaMediaPlayer));\nexports.YouTubePlayer = YouTubePlayer;\nvar Media = /** @class */ (function (_super) {\n    __extends(Media, _super);\n    function Media() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sources = [];\n        _this.captionSources = [];\n        return _this;\n    }\n    Media.prototype.createMediaPlayer = function () {\n        for (var _i = 0, _a = Media.customMediaPlayers; _i < _a.length; _i++) {\n            var provider = _a[_i];\n            for (var _b = 0, _c = this.sources; _b < _c.length; _b++) {\n                var source = _c[_b];\n                if (source.url) {\n                    for (var _d = 0, _f = provider.urlPatterns; _d < _f.length; _d++) {\n                        var pattern = _f[_d];\n                        var matches = pattern.exec(source.url);\n                        if (matches !== null) {\n                            return provider.createMediaPlayer(matches);\n                        }\n                    }\n                }\n            }\n        }\n        return new HTML5MediaPlayer(this);\n    };\n    Media.prototype.handlePlayButtonInvoke = function (event) {\n        if (this.hostConfig.media.allowInlinePlayback) {\n            event.preventDefault();\n            event.cancelBubble = true;\n            if (this.renderedElement) {\n                var mediaPlayerElement = this._mediaPlayer.render();\n                clearElement(this.renderedElement);\n                this.renderedElement.appendChild(mediaPlayerElement);\n                this._mediaPlayer.play();\n                mediaPlayerElement.focus();\n            }\n        }\n        else {\n            if (Media.onPlay) {\n                event.preventDefault();\n                event.cancelBubble = true;\n                Media.onPlay(this);\n            }\n        }\n    };\n    Media.prototype.displayPoster = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var playButtonArrowWidth, playButtonArrowHeight, posterRootElement_1, posterUrl, posterImageElement_1, playButtonOuterElement, playButtonInnerElement, playButtonContainer;\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (this.renderedElement) {\n                    playButtonArrowWidth = 12;\n                    playButtonArrowHeight = 15;\n                    posterRootElement_1 = document.createElement(\"div\");\n                    posterRootElement_1.className = this.hostConfig.makeCssClassName(\"ac-media-poster\");\n                    posterRootElement_1.setAttribute(\"role\", \"contentinfo\");\n                    posterRootElement_1.setAttribute(\"aria-label\", this.altText ? this.altText : strings_1.Strings.defaults.mediaPlayerAriaLabel());\n                    posterRootElement_1.style.position = \"relative\";\n                    posterRootElement_1.style.display = \"flex\";\n                    posterUrl = this.poster ? this.poster : this._mediaPlayer.posterUrl;\n                    if (!posterUrl) {\n                        posterUrl = this.hostConfig.media.defaultPoster;\n                    }\n                    if (posterUrl) {\n                        posterImageElement_1 = document.createElement(\"img\");\n                        posterImageElement_1.style.width = \"100%\";\n                        posterImageElement_1.style.height = \"100%\";\n                        posterImageElement_1.setAttribute(\"role\", \"presentation\");\n                        posterImageElement_1.onerror = function (_e) {\n                            if (posterImageElement_1.parentNode) {\n                                posterImageElement_1.parentNode.removeChild(posterImageElement_1);\n                            }\n                            posterRootElement_1.classList.add(\"empty\");\n                            posterRootElement_1.style.minHeight = \"150px\";\n                        };\n                        posterImageElement_1.src = posterUrl;\n                        posterRootElement_1.appendChild(posterImageElement_1);\n                    }\n                    else {\n                        posterRootElement_1.classList.add(\"empty\");\n                        posterRootElement_1.style.minHeight = \"150px\";\n                    }\n                    if (this.hostConfig.supportsInteractivity && this._mediaPlayer.canPlay()) {\n                        playButtonOuterElement = document.createElement(\"div\");\n                        playButtonOuterElement.tabIndex = 0;\n                        playButtonOuterElement.setAttribute(\"role\", \"button\");\n                        playButtonOuterElement.setAttribute(\"aria-label\", strings_1.Strings.defaults.mediaPlayerPlayMedia());\n                        playButtonOuterElement.className =\n                            this.hostConfig.makeCssClassName(\"ac-media-playButton\");\n                        playButtonOuterElement.style.display = \"flex\";\n                        playButtonOuterElement.style.alignItems = \"center\";\n                        playButtonOuterElement.style.justifyContent = \"center\";\n                        playButtonOuterElement.onclick = function (e) {\n                            _this.handlePlayButtonInvoke(e);\n                        };\n                        playButtonOuterElement.onkeypress = function (e) {\n                            if (e.code === \"Enter\" || e.code === \"Space\") {\n                                // space or enter\n                                _this.handlePlayButtonInvoke(e);\n                            }\n                        };\n                        playButtonInnerElement = document.createElement(\"div\");\n                        playButtonInnerElement.className = this.hostConfig.makeCssClassName(\"ac-media-playButton-arrow\");\n                        playButtonInnerElement.style.width = playButtonArrowWidth + \"px\";\n                        playButtonInnerElement.style.height = playButtonArrowHeight + \"px\";\n                        playButtonInnerElement.style.borderTopWidth = playButtonArrowHeight / 2 + \"px\";\n                        playButtonInnerElement.style.borderBottomWidth = playButtonArrowHeight / 2 + \"px\";\n                        playButtonInnerElement.style.borderLeftWidth = playButtonArrowWidth + \"px\";\n                        playButtonInnerElement.style.borderRightWidth = \"0\";\n                        playButtonInnerElement.style.borderStyle = \"solid\";\n                        playButtonInnerElement.style.borderTopColor = \"transparent\";\n                        playButtonInnerElement.style.borderRightColor = \"transparent\";\n                        playButtonInnerElement.style.borderBottomColor = \"transparent\";\n                        playButtonInnerElement.style.transform =\n                            \"translate(\" + playButtonArrowWidth / 10 + \"px,0px)\";\n                        playButtonOuterElement.appendChild(playButtonInnerElement);\n                        playButtonContainer = document.createElement(\"div\");\n                        playButtonContainer.style.position = \"absolute\";\n                        playButtonContainer.style.left = \"0\";\n                        playButtonContainer.style.top = \"0\";\n                        playButtonContainer.style.width = \"100%\";\n                        playButtonContainer.style.height = \"100%\";\n                        playButtonContainer.style.display = \"flex\";\n                        playButtonContainer.style.justifyContent = \"center\";\n                        playButtonContainer.style.alignItems = \"center\";\n                        playButtonContainer.appendChild(playButtonOuterElement);\n                        posterRootElement_1.appendChild(playButtonContainer);\n                    }\n                    clearElement(this.renderedElement);\n                    this.renderedElement.appendChild(posterRootElement_1);\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    Media.prototype.internalRender = function () {\n        var element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-media\");\n        return element;\n    };\n    Media.prototype.render = function () {\n        var _this = this;\n        var result = _super.prototype.render.call(this);\n        if (result) {\n            this._mediaPlayer = this.createMediaPlayer();\n            this._mediaPlayer.fetchVideoDetails().then(function () { return _this.displayPoster(); });\n        }\n        return result;\n    };\n    Media.prototype.releaseDOMResources = function () {\n        _super.prototype.releaseDOMResources.call(this);\n        this.displayPoster();\n    };\n    Media.prototype.getJsonTypeName = function () {\n        return \"Media\";\n    };\n    Media.prototype.getResourceInformation = function () {\n        var result = [];\n        if (this._mediaPlayer) {\n            var posterUrl = this.poster ? this.poster : this.hostConfig.media.defaultPoster;\n            if (posterUrl) {\n                result.push({ url: posterUrl, mimeType: \"image\" });\n            }\n        }\n        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {\n            var mediaSource = _a[_i];\n            if (mediaSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `mediaSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: mediaSource.url,\n                    mimeType: mediaSource.mimeType\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n        for (var _b = 0, _c = this.captionSources; _b < _c.length; _b++) {\n            var captionSource = _c[_b];\n            if (captionSource.isValid()) {\n                result.push({\n                    /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `captionSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n                    url: captionSource.url,\n                    mimeType: captionSource.mimeType\n                    /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n                });\n            }\n        }\n        return result;\n    };\n    Object.defineProperty(Media.prototype, \"selectedMediaType\", {\n        get: function () {\n            return this._mediaPlayer.selectedMediaType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Media.customMediaPlayers = [\n        {\n            urlPatterns: [\n                /^(?:https?:\\/\\/)?(?:www.)?youtube.com\\/watch\\?(?=.*v=([\\w\\d-_]+))(?=(?:.*t=(\\d+))?).*/gi,\n                /^(?:https?:\\/\\/)?youtu.be\\/([\\w\\d-_]+)(?:\\?t=(\\d+))?/gi\n            ],\n            createMediaPlayer: function (matches) {\n                return new YouTubePlayer(matches, strings_1.Strings.defaults.youTubeVideoPlayer());\n            }\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?vimeo.com\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: function (matches) {\n                return new VimeoPlayer(matches, strings_1.Strings.defaults.vimeoVideoPlayer());\n            }\n        },\n        {\n            urlPatterns: [/^(?:https?:\\/\\/)?(?:www.)?dailymotion.com\\/video\\/([\\w\\d-_]+).*/gi],\n            createMediaPlayer: function (matches) {\n                return new DailymotionPlayer(matches, strings_1.Strings.defaults.dailymotionVideoPlayer());\n            }\n        }\n    ];\n    //#region Schema\n    Media.sourcesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_1, \"sources\", MediaSource);\n    Media.captionSourcesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_6, \"captionSources\", CaptionSource);\n    Media.posterProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"poster\");\n    Media.altTextProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"altText\");\n    __decorate([\n        (0, serialization_1.property)(Media.sourcesProperty)\n    ], Media.prototype, \"sources\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Media.captionSourcesProperty)\n    ], Media.prototype, \"captionSources\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Media.posterProperty)\n    ], Media.prototype, \"poster\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Media.altTextProperty)\n    ], Media.prototype, \"altText\", void 0);\n    return Media;\n}(CardElement));\nexports.Media = Media;\nvar InputEventType;\n(function (InputEventType) {\n    InputEventType[InputEventType[\"InitialRender\"] = 0] = \"InitialRender\";\n    InputEventType[InputEventType[\"MouseEnterOnCard\"] = 1] = \"MouseEnterOnCard\";\n    InputEventType[InputEventType[\"MouseLeaveOnCard\"] = 2] = \"MouseLeaveOnCard\";\n    InputEventType[InputEventType[\"FocusLeave\"] = 3] = \"FocusLeave\";\n})(InputEventType || (InputEventType = {}));\nvar Input = /** @class */ (function (_super) {\n    __extends(Input, _super);\n    function Input() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.inputStyle = Enums.InputStyle.Default;\n        return _this;\n    }\n    Input.prototype.getAllLabelIds = function () {\n        var labelIds = [];\n        if (this.labelledBy) {\n            labelIds.push(this.labelledBy);\n        }\n        if (this._renderedLabelElement) {\n            labelIds.push(this._renderedLabelElement.id);\n        }\n        if (this._renderedErrorMessageElement) {\n            labelIds.push(this._renderedErrorMessageElement.id);\n        }\n        return labelIds;\n    };\n    Input.prototype.updateInputControlAriaLabelledBy = function () {\n        if (this._renderedInputControlElement) {\n            var labelIds = this.getAllLabelIds();\n            if (labelIds.length > 0) {\n                this._renderedInputControlElement.setAttribute(\"aria-labelledby\", labelIds.join(\" \"));\n            }\n            else {\n                this._renderedInputControlElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    };\n    Object.defineProperty(Input.prototype, \"isNullable\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"renderedInputControlElement\", {\n        get: function () {\n            return this._renderedInputControlElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"inputControlContainerElement\", {\n        get: function () {\n            return this._inputControlContainerElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Input.prototype.overrideInternalRender = function () {\n        var _this = this;\n        var hostConfig = this.hostConfig;\n        this._outerContainerElement = document.createElement(\"div\");\n        this._outerContainerElement.style.display = \"flex\";\n        if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n            this._outerContainerElement.style.flexDirection = \"row\";\n        }\n        else {\n            this._outerContainerElement.style.flexDirection = \"column\";\n        }\n        var renderedInputControlId = Utils.generateUniqueId();\n        if (this.label) {\n            var labelRichTextBlock = new RichTextBlock();\n            labelRichTextBlock.setParent(this);\n            labelRichTextBlock.forElementId = renderedInputControlId;\n            var labelInline = new TextRun(this.label);\n            labelRichTextBlock.addInline(labelInline);\n            if (this.isRequired) {\n                labelInline.init(hostConfig.inputs.label.requiredInputs);\n                var isRequiredCueInline = new TextRun(hostConfig.inputs.label.requiredInputs.suffix);\n                isRequiredCueInline.color = hostConfig.inputs.label.requiredInputs.suffixColor;\n                isRequiredCueInline.ariaHidden = true;\n                labelRichTextBlock.addInline(isRequiredCueInline);\n            }\n            else {\n                labelInline.init(hostConfig.inputs.label.optionalInputs);\n            }\n            this._renderedLabelElement = labelRichTextBlock.render();\n            if (this._renderedLabelElement) {\n                this._renderedLabelElement.id = Utils.generateUniqueId();\n                if (this.labelPosition === Enums.InputLabelPosition.Inline) {\n                    // For inline label position: label should be in center of the div and no extra spacing needed\n                    this._renderedLabelElement.style.alignSelf = \"center\";\n                }\n                else {\n                    this._renderedLabelElement.style.marginBottom =\n                        hostConfig.getEffectiveSpacing(hostConfig.inputs.label.inputSpacing) + \"px\";\n                }\n                this._outerContainerElement.appendChild(this._renderedLabelElement);\n            }\n        }\n        this._inputControlContainerElement = document.createElement(\"div\");\n        this._inputControlContainerElement.className =\n            hostConfig.makeCssClassName(\"ac-input-container\");\n        this._inputControlContainerElement.style.display = \"flex\";\n        if (this.height === \"stretch\") {\n            this._inputControlContainerElement.style.alignItems = \"stretch\";\n            this._inputControlContainerElement.style.flex = \"1 1 auto\";\n        }\n        this._renderedInputControlElement = this.internalRender();\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.id = renderedInputControlId;\n            this._renderedInputControlElement.style.minWidth = \"0px\";\n            if (this.isNullable && this.isRequired) {\n                this._renderedInputControlElement.setAttribute(\"aria-required\", \"true\");\n                this._renderedInputControlElement.classList.add(hostConfig.makeCssClassName(\"ac-input-required\"));\n            }\n            this._inputControlContainerElement.appendChild(this._renderedInputControlElement);\n            this._outerContainerElement.appendChild(this._inputControlContainerElement);\n            if (this._renderedLabelElement && this.labelPosition === Enums.InputLabelPosition.Inline) {\n                if (!this.labelWidth) {\n                    var defaultLabelWidth = hostConfig.inputs.label.width;\n                    this._renderedLabelElement.style.width = defaultLabelWidth.toString() + \"%\";\n                    this._renderedInputControlElement.style.width = (100 - defaultLabelWidth) + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Weight) {\n                    var labelWidthInPercent = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPercent.toString() + \"%\";\n                    this._renderedInputControlElement.style.width = (100 - labelWidthInPercent).toString() + \"%\";\n                }\n                else if (this.labelWidth.unit == Enums.SizeUnit.Pixel) {\n                    var labelWidthInPixel = this.labelWidth.physicalSize;\n                    this._renderedLabelElement.style.width = labelWidthInPixel.toString() + \"px\";\n                }\n            }\n            this.updateVisualState(InputEventType.InitialRender);\n            if (this._renderedInputControlElement) {\n                this._renderedInputControlElement.onblur = function (ev) {\n                    _this.updateVisualState(InputEventType.FocusLeave);\n                };\n            }\n            this.updateInputControlAriaLabelledBy();\n            return this._outerContainerElement;\n        }\n        this.resetDirtyState();\n        return undefined;\n    };\n    Input.prototype.valueChanged = function () {\n        this.getRootElement().updateActionsEnabledState();\n        if (this.isValid()) {\n            this.resetValidationFailureCue();\n        }\n        if (this.onValueChanged) {\n            this.onValueChanged(this);\n        }\n        raiseInputValueChangedEvent(this);\n    };\n    Input.prototype.resetValidationFailureCue = function () {\n        if (this.renderedInputControlElement) {\n            this.renderedInputControlElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-input-validation-failed\"));\n            this.updateInputControlAriaLabelledBy();\n            if (this._renderedErrorMessageElement) {\n                this._outerContainerElement.removeChild(this._renderedErrorMessageElement);\n                this._renderedErrorMessageElement = undefined;\n            }\n        }\n    };\n    Input.prototype.showValidationErrorMessage = function () {\n        if (this.renderedElement &&\n            this.errorMessage &&\n            shared_1.GlobalSettings.displayInputValidationErrors) {\n            var errorMessageTextBlock = new TextBlock();\n            errorMessageTextBlock.setParent(this);\n            errorMessageTextBlock.text = this.errorMessage;\n            errorMessageTextBlock.wrap = true;\n            errorMessageTextBlock.init(this.hostConfig.inputs.errorMessage);\n            this._renderedErrorMessageElement = errorMessageTextBlock.render();\n            if (this._renderedErrorMessageElement) {\n                this._renderedErrorMessageElement.id = Utils.generateUniqueId();\n                this._outerContainerElement.appendChild(this._renderedErrorMessageElement);\n                this.updateInputControlAriaLabelledBy();\n            }\n        }\n    };\n    Input.prototype.updateVisualState = function (eventType) {\n        if (!this._renderedInputControlElement || this.inputStyle !== Enums.InputStyle.RevealOnHover) {\n            return;\n        }\n        if (eventType === InputEventType.InitialRender) {\n            // on initial render, we will show input fields as read only view\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onrender\"));\n        }\n        else if (eventType === InputEventType.MouseEnterOnCard) {\n            // on hover on the card, we will reveal the inputs by showing borders etc\n            // ac-inputStyle-revealOnHover-onhover class is also used to identify if mouse is hovering on the card\n            this._renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        }\n        else if (eventType === InputEventType.MouseLeaveOnCard) {\n            this._renderedInputControlElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onhover\"));\n        }\n    };\n    Input.prototype.focus = function () {\n        if (this._renderedInputControlElement) {\n            this._renderedInputControlElement.focus();\n        }\n    };\n    Input.prototype.isValid = function () {\n        return true;\n    };\n    Input.prototype.isDirty = function () {\n        return this.value !== this._oldValue;\n    };\n    Input.prototype.resetDirtyState = function () {\n        this._oldValue = this.value;\n    };\n    Input.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (!this.id) {\n            context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.inputsMustHaveUniqueId());\n        }\n        if (this.isRequired) {\n            if (!this.label) {\n                context.addFailure(this, Enums.ValidationEvent.RequiredInputsShouldHaveLabel, \"Required inputs should have a label\");\n            }\n            if (!this.errorMessage) {\n                context.addFailure(this, Enums.ValidationEvent.RequiredInputsShouldHaveErrorMessage, \"Required inputs should have an error message\");\n            }\n        }\n    };\n    Input.prototype.validateValue = function () {\n        this.resetValidationFailureCue();\n        var result = this.isRequired ? this.isSet() && this.isValid() : this.isValid();\n        if (!result && this.renderedInputControlElement) {\n            this.renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-input-validation-failed\"));\n            this.showValidationErrorMessage();\n        }\n        return result;\n    };\n    Input.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        return [this];\n    };\n    Input.prototype.render = function () {\n        var result = _super.prototype.render.call(this);\n        this.resetDirtyState();\n        return result;\n    };\n    Object.defineProperty(Input.prototype, \"isInteractive\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    Input.labelProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_3, \"label\", true);\n    Input.isRequiredProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_3, \"isRequired\", false);\n    Input.errorMessageProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_3, \"errorMessage\", true);\n    Input.inputStyleProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_6, \"inputStyle\", Enums.InputStyle, Enums.InputStyle.Default, [\n        { value: Enums.InputStyle.RevealOnHover },\n        { value: Enums.InputStyle.Default }\n    ]);\n    Input.labelWidthProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_6, \"labelWidth\", function (sender, prop, source, context) {\n        var result = prop.defaultValue;\n        var value = source[prop.name];\n        var invalidLabelWidth = false;\n        if (typeof value === \"number\" && !isNaN(value)) {\n            result = new shared_1.SizeAndUnit(value, Enums.SizeUnit.Weight);\n            if (result.physicalSize < 0 || result.physicalSize > 100) {\n                invalidLabelWidth = true;\n            }\n        }\n        else if (typeof value === \"string\") {\n            try {\n                result = shared_1.SizeAndUnit.parse(value);\n            }\n            catch (e) {\n                invalidLabelWidth = true;\n            }\n        }\n        else {\n            invalidLabelWidth = true;\n        }\n        if (invalidLabelWidth) {\n            context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidInputLabelWidth());\n            result = undefined;\n        }\n        return result;\n    }, function (sender, property, target, value, context) {\n        if (value instanceof shared_1.SizeAndUnit) {\n            if (value.unit === Enums.SizeUnit.Pixel) {\n                context.serializeValue(target, \"labelWidth\", value.physicalSize + \"px\");\n            }\n            else {\n                context.serializeNumber(target, \"labelWidth\", value.physicalSize);\n            }\n        }\n    }, undefined);\n    Input.labelPositionProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_6, \"labelPosition\", Enums.InputLabelPosition, Enums.InputLabelPosition.Above, [\n        { value: Enums.InputLabelPosition.Inline },\n        { value: Enums.InputLabelPosition.Above }\n    ]);\n    __decorate([\n        (0, serialization_1.property)(Input.labelProperty)\n    ], Input.prototype, \"label\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Input.isRequiredProperty)\n    ], Input.prototype, \"isRequired\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Input.errorMessageProperty)\n    ], Input.prototype, \"errorMessage\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Input.inputStyleProperty)\n    ], Input.prototype, \"inputStyle\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Input.labelWidthProperty)\n    ], Input.prototype, \"labelWidth\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Input.labelPositionProperty)\n    ], Input.prototype, \"labelPosition\", void 0);\n    return Input;\n}(CardElement));\nexports.Input = Input;\nvar TextInput = /** @class */ (function (_super) {\n    __extends(TextInput, _super);\n    function TextInput() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isMultiline = false;\n        _this.style = Enums.InputTextStyle.Text;\n        return _this;\n    }\n    //#endregion\n    TextInput.prototype.setupInput = function (input) {\n        var _this = this;\n        input.style.flex = \"1 1 auto\";\n        input.tabIndex = this.isDesignMode() ? -1 : 0;\n        if (this.placeholder) {\n            input.placeholder = this.placeholder;\n            input.setAttribute(\"aria-label\", this.placeholder);\n        }\n        if (this.defaultValue) {\n            input.value = this.defaultValue;\n        }\n        if (this.maxLength && this.maxLength > 0) {\n            input.maxLength = this.maxLength;\n        }\n        input.oninput = function () {\n            _this.valueChanged();\n        };\n        input.onkeypress = function (e) {\n            // Ctrl+Enter pressed\n            if (e.ctrlKey &&\n                e.code === \"Enter\" &&\n                _this.inlineAction &&\n                _this.inlineAction.isEffectivelyEnabled()) {\n                _this.inlineAction.execute();\n            }\n        };\n    };\n    TextInput.prototype.internalRender = function () {\n        var result;\n        if (this.isMultiline && this.style !== Enums.InputTextStyle.Password) {\n            result = document.createElement(\"textarea\");\n            result.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-textInput\", \"ac-multiline\");\n            if (this.height === \"stretch\") {\n                result.style.height = \"initial\";\n            }\n        }\n        else {\n            result = document.createElement(\"input\");\n            result.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-textInput\");\n            result.type = Enums.InputTextStyle[this.style].toLowerCase();\n        }\n        this.setupInput(result);\n        return result;\n    };\n    TextInput.prototype.overrideInternalRender = function () {\n        var _this = this;\n        var renderedInputControl = _super.prototype.overrideInternalRender.call(this);\n        if (this.inlineAction) {\n            var button_1 = document.createElement(\"button\");\n            button_1.className = this.hostConfig.makeCssClassName(this.inlineAction.isEffectivelyEnabled()\n                ? \"ac-inlineActionButton\"\n                : \"ac-inlineActionButton-disabled\");\n            button_1.onclick = function (e) {\n                if (_this.inlineAction && _this.inlineAction.isEffectivelyEnabled()) {\n                    e.preventDefault();\n                    e.cancelBubble = true;\n                    _this.inlineAction.execute();\n                }\n            };\n            if (this.inlineAction.iconUrl) {\n                button_1.classList.add(\"iconOnly\");\n                var icon_1 = document.createElement(\"img\");\n                icon_1.style.height = \"100%\";\n                icon_1.setAttribute(\"role\", \"presentation\");\n                // The below trick is necessary as a workaround in Chrome where the icon is initially displayed\n                // at its native size then resized to 100% of the button's height. This cfreates an unpleasant\n                // flicker. On top of that, Chrome's flex implementation fails to prperly re-layout the button\n                // after the image has loaded and been gicven its final size. The below trick also fixes that.\n                icon_1.style.display = \"none\";\n                icon_1.onload = function () {\n                    icon_1.style.removeProperty(\"display\");\n                };\n                icon_1.onerror = function () {\n                    button_1.removeChild(icon_1);\n                    button_1.classList.remove(\"iconOnly\");\n                    button_1.classList.add(\"textOnly\");\n                    button_1.textContent =\n                        _this.inlineAction && _this.inlineAction.title\n                            ? _this.inlineAction.title\n                            : strings_1.Strings.defaults.inlineActionTitle();\n                };\n                icon_1.src = this.inlineAction.iconUrl;\n                button_1.appendChild(icon_1);\n                button_1.title = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : strings_1.Strings.defaults.inlineActionTitle();\n            }\n            else {\n                button_1.classList.add(\"textOnly\");\n                button_1.textContent = this.inlineAction.title\n                    ? this.inlineAction.title\n                    : strings_1.Strings.defaults.inlineActionTitle();\n            }\n            this.inlineAction.setupElementForAccessibility(button_1, true);\n            button_1.style.marginLeft = \"8px\";\n            this.inputControlContainerElement.appendChild(button_1);\n        }\n        return renderedInputControl;\n    };\n    TextInput.prototype.updateVisualState = function (eventType) {\n        if (!(this.inlineAction || this.isMultiline)) {\n            _super.prototype.updateVisualState.call(this, eventType);\n        }\n    };\n    TextInput.prototype.getJsonTypeName = function () {\n        return \"Input.Text\";\n    };\n    TextInput.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        if (this.inlineAction) {\n            result.push(this.inlineAction);\n        }\n        return result;\n    };\n    TextInput.prototype.getActionById = function (id) {\n        var result = _super.prototype.getActionById.call(this, id);\n        if (!result && this.inlineAction) {\n            result = this.inlineAction.getActionById(id);\n        }\n        return result;\n    };\n    TextInput.prototype.isSet = function () {\n        return this.value ? true : false;\n    };\n    TextInput.prototype.isValid = function () {\n        if (!this.value) {\n            return true;\n        }\n        if (this.regex) {\n            return new RegExp(this.regex, \"g\").test(this.value);\n        }\n        return true;\n    };\n    Object.defineProperty(TextInput.prototype, \"value\", {\n        get: function () {\n            if (this.renderedInputControlElement) {\n                if (this.isMultiline) {\n                    return this.renderedInputControlElement.value;\n                }\n                else {\n                    return this.renderedInputControlElement.value;\n                }\n            }\n            else {\n                return undefined;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TextInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    TextInput.maxLengthProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"maxLength\");\n    TextInput.isMultilineProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"isMultiline\", false);\n    TextInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n    TextInput.styleProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"style\", Enums.InputTextStyle, Enums.InputTextStyle.Text, [\n        { value: Enums.InputTextStyle.Text },\n        { value: Enums.InputTextStyle.Tel },\n        { value: Enums.InputTextStyle.Url },\n        { value: Enums.InputTextStyle.Email },\n        { value: Enums.InputTextStyle.Password, targetVersion: serialization_1.Versions.v1_5 }\n    ]);\n    TextInput.inlineActionProperty = new ActionProperty(serialization_1.Versions.v1_0, \"inlineAction\", [\n        \"Action.ShowCard\"\n    ]);\n    TextInput.regexProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_3, \"regex\", true);\n    __decorate([\n        (0, serialization_1.property)(TextInput.valueProperty)\n    ], TextInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.maxLengthProperty)\n    ], TextInput.prototype, \"maxLength\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.isMultilineProperty)\n    ], TextInput.prototype, \"isMultiline\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.placeholderProperty)\n    ], TextInput.prototype, \"placeholder\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.styleProperty)\n    ], TextInput.prototype, \"style\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.inlineActionProperty)\n    ], TextInput.prototype, \"inlineAction\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TextInput.regexProperty)\n    ], TextInput.prototype, \"regex\", void 0);\n    return TextInput;\n}(Input));\nexports.TextInput = TextInput;\nvar ToggleInput = /** @class */ (function (_super) {\n    __extends(ToggleInput, _super);\n    function ToggleInput() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.valueOn = \"true\";\n        _this.valueOff = \"false\";\n        _this.wrap = false;\n        return _this;\n    }\n    ToggleInput.prototype.updateInputControlAriaLabelledBy = function () {\n        if (this._checkboxInputElement) {\n            var joinedLabelIds = this.getAllLabelIds().join(\" \");\n            if (this._checkboxInputLabelElement && this._checkboxInputLabelElement.id) {\n                joinedLabelIds += \" \" + this._checkboxInputLabelElement.id;\n            }\n            if (joinedLabelIds) {\n                this._checkboxInputElement.setAttribute(\"aria-labelledby\", joinedLabelIds);\n            }\n            else {\n                this._checkboxInputElement.removeAttribute(\"aria-labelledby\");\n            }\n        }\n    };\n    ToggleInput.prototype.internalRender = function () {\n        var _this = this;\n        var element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-toggleInput\");\n        element.style.width = \"100%\";\n        element.style.display = \"flex\";\n        element.style.alignItems = \"center\";\n        this._checkboxInputElement = document.createElement(\"input\");\n        this._checkboxInputElement.id = Utils.generateUniqueId();\n        this._checkboxInputElement.type = \"checkbox\";\n        this._checkboxInputElement.style.display = \"inline-block\";\n        this._checkboxInputElement.style.verticalAlign = \"middle\";\n        this._checkboxInputElement.style.margin = \"0\";\n        this._checkboxInputElement.style.flex = \"0 0 auto\";\n        if (this.title) {\n            this._checkboxInputElement.setAttribute(\"aria-label\", this.title);\n        }\n        if (this.isRequired) {\n            this._checkboxInputElement.setAttribute(\"aria-required\", \"true\");\n        }\n        this._checkboxInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n        if (this.defaultValue === this.valueOn) {\n            this._checkboxInputElement.checked = true;\n        }\n        this._oldCheckboxValue = this._checkboxInputElement.checked;\n        this._checkboxInputElement.onchange = function () {\n            _this.valueChanged();\n        };\n        Utils.appendChild(element, this._checkboxInputElement);\n        if (this.title || this.isDesignMode()) {\n            var label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = this._checkboxInputElement.id;\n            label.hostConfig = this.hostConfig;\n            label.text = !this.title ? this.getJsonTypeName() : this.title;\n            label.useMarkdown = shared_1.GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n            this._checkboxInputLabelElement = label.render();\n            if (this._checkboxInputLabelElement) {\n                this._checkboxInputLabelElement.id = Utils.generateUniqueId();\n                this._checkboxInputLabelElement.style.display = \"inline-block\";\n                this._checkboxInputLabelElement.style.flex = \"1 1 auto\";\n                this._checkboxInputLabelElement.style.marginLeft = \"6px\";\n                this._checkboxInputLabelElement.style.verticalAlign = \"middle\";\n                var spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n                Utils.appendChild(element, spacerElement);\n                Utils.appendChild(element, this._checkboxInputLabelElement);\n            }\n        }\n        return element;\n    };\n    Object.defineProperty(ToggleInput.prototype, \"isNullable\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ToggleInput.prototype.updateVisualState = function (eventType) {\n    };\n    ToggleInput.prototype.getJsonTypeName = function () {\n        return \"Input.Toggle\";\n    };\n    ToggleInput.prototype.focus = function () {\n        if (this._checkboxInputElement) {\n            this._checkboxInputElement.focus();\n        }\n    };\n    ToggleInput.prototype.isSet = function () {\n        if (this.isRequired) {\n            return this.value === this.valueOn;\n        }\n        return this.value ? true : false;\n    };\n    ToggleInput.prototype.isDirty = function () {\n        return this._checkboxInputElement\n            ? this._checkboxInputElement.checked !== this._oldCheckboxValue\n            : false;\n    };\n    Object.defineProperty(ToggleInput.prototype, \"value\", {\n        get: function () {\n            if (this._checkboxInputElement) {\n                return this._checkboxInputElement.checked ? this.valueOn : this.valueOff;\n            }\n            else {\n                return undefined;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ToggleInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    ToggleInput.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n    ToggleInput.valueOnProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"valueOn\", true, undefined, \"true\", function (sender) {\n        return \"true\";\n    });\n    ToggleInput.valueOffProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"valueOff\", true, undefined, \"false\", function (sender) {\n        return \"false\";\n    });\n    ToggleInput.wrapProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"wrap\", false);\n    __decorate([\n        (0, serialization_1.property)(ToggleInput.valueProperty)\n    ], ToggleInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ToggleInput.titleProperty)\n    ], ToggleInput.prototype, \"title\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ToggleInput.valueOnProperty)\n    ], ToggleInput.prototype, \"valueOn\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ToggleInput.valueOffProperty)\n    ], ToggleInput.prototype, \"valueOff\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ToggleInput.wrapProperty)\n    ], ToggleInput.prototype, \"wrap\", void 0);\n    return ToggleInput;\n}(Input));\nexports.ToggleInput = ToggleInput;\nvar Choice = /** @class */ (function (_super) {\n    __extends(Choice, _super);\n    function Choice(title, value) {\n        var _this = _super.call(this) || this;\n        _this.title = title;\n        _this.value = value;\n        return _this;\n    }\n    //#endregion\n    Choice.prototype.getSchemaKey = function () {\n        return \"Choice\";\n    };\n    //#region Schema\n    Choice.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n    Choice.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    __decorate([\n        (0, serialization_1.property)(Choice.titleProperty)\n    ], Choice.prototype, \"title\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Choice.valueProperty)\n    ], Choice.prototype, \"value\", void 0);\n    return Choice;\n}(serialization_1.SerializableObject));\nexports.Choice = Choice;\nvar ChoiceSetInput = /** @class */ (function (_super) {\n    __extends(ChoiceSetInput, _super);\n    function ChoiceSetInput() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isMultiSelect = false;\n        _this.wrap = false;\n        _this.choices = [];\n        return _this;\n    }\n    Object.defineProperty(ChoiceSetInput.prototype, \"isCompact\", {\n        get: function () {\n            return !this.style || this.style === \"compact\";\n        },\n        set: function (value) {\n            this.style = value ? undefined : \"expanded\";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChoiceSetInput.getUniqueCategoryName = function () {\n        var uniqueCategoryName = \"__ac-category\" + ChoiceSetInput._uniqueCategoryCounter;\n        ChoiceSetInput._uniqueCategoryCounter++;\n        return uniqueCategoryName;\n    };\n    ChoiceSetInput.prototype.createPlaceholderOptionWhenValueDoesNotExist = function () {\n        if (!this.value) {\n            var placeholderOption = document.createElement(\"option\");\n            placeholderOption.selected = true;\n            placeholderOption.disabled = true;\n            placeholderOption.hidden = true;\n            placeholderOption.value = \"\";\n            if (this.placeholder) {\n                placeholderOption.text = this.placeholder;\n            }\n            return placeholderOption;\n        }\n        return undefined;\n    };\n    // Make sure `aria-current` is applied to the currently-selected item\n    ChoiceSetInput.prototype.internalApplyAriaCurrent = function () {\n        if (this._selectElement) {\n            var options = this._selectElement.options;\n            if (options) {\n                for (var _i = 0, _a = Array.from(options); _i < _a.length; _i++) {\n                    var option = _a[_i];\n                    if (option.selected) {\n                        option.setAttribute(\"aria-current\", \"true\");\n                    }\n                    else {\n                        option.removeAttribute(\"aria-current\");\n                    }\n                }\n            }\n        }\n    };\n    ChoiceSetInput.prototype.renderCompoundInput = function (cssClassName, type, defaultValues) {\n        var _this = this;\n        var element = document.createElement(\"div\");\n        element.className = this.hostConfig.makeCssClassName(\"ac-input\", cssClassName);\n        element.style.width = \"100%\";\n        element.tabIndex = this.isDesignMode() ? -1 : 0;\n        this._toggleInputs = [];\n        this._labels = [];\n        for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n            var choice = _a[_i];\n            var input = document.createElement(\"input\");\n            input.id = Utils.generateUniqueId();\n            input.type = type;\n            input.style.margin = \"0\";\n            input.style.display = \"inline-block\";\n            input.style.verticalAlign = \"middle\";\n            input.style.flex = \"0 0 auto\";\n            input.name = this.id ? this.id : this._uniqueCategoryName;\n            if (this.isRequired) {\n                input.setAttribute(\"aria-required\", \"true\");\n            }\n            input.tabIndex = this.isDesignMode() ? -1 : 0;\n            if (choice.value) {\n                input.value = choice.value;\n            }\n            if (choice.title) {\n                input.setAttribute(\"aria-label\", choice.title);\n            }\n            if (defaultValues && choice.value) {\n                if (defaultValues.indexOf(choice.value) >= 0) {\n                    input.checked = true;\n                }\n            }\n            input.onchange = function () {\n                _this.valueChanged();\n            };\n            this._toggleInputs.push(input);\n            var compoundInput = document.createElement(\"div\");\n            compoundInput.style.display = \"flex\";\n            compoundInput.style.alignItems = \"center\";\n            Utils.appendChild(compoundInput, input);\n            var label = new TextBlock();\n            label.setParent(this);\n            label.forElementId = input.id;\n            label.hostConfig = this.hostConfig;\n            label.text = choice.title ? choice.title : \"Choice \" + this._toggleInputs.length;\n            label.useMarkdown = shared_1.GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n            label.wrap = this.wrap;\n            var labelElement = label.render();\n            this._labels.push(labelElement);\n            if (labelElement) {\n                labelElement.id = Utils.generateUniqueId();\n                labelElement.style.display = \"inline-block\";\n                labelElement.style.flex = \"1 1 auto\";\n                labelElement.style.marginLeft = \"6px\";\n                labelElement.style.verticalAlign = \"middle\";\n                var spacerElement = document.createElement(\"div\");\n                spacerElement.style.width = \"6px\";\n                Utils.appendChild(compoundInput, spacerElement);\n                Utils.appendChild(compoundInput, labelElement);\n            }\n            Utils.appendChild(element, compoundInput);\n        }\n        return element;\n    };\n    ChoiceSetInput.prototype.updateInputControlAriaLabelledBy = function () {\n        if ((this.isMultiSelect || this.style === \"expanded\") &&\n            this._toggleInputs &&\n            this._labels) {\n            var labelIds = this.getAllLabelIds();\n            for (var i = 0; i < this._toggleInputs.length; i++) {\n                var joinedLabelIds = labelIds.join(\" \");\n                var label = this._labels[i];\n                if (label && label.id) {\n                    joinedLabelIds += \" \" + label.id;\n                }\n                if (joinedLabelIds) {\n                    this._toggleInputs[i].setAttribute(\"aria-labelledby\", joinedLabelIds);\n                }\n                else {\n                    this._toggleInputs[i].removeAttribute(\"aria-labelledby\");\n                }\n            }\n        }\n        else {\n            _super.prototype.updateInputControlAriaLabelledBy.call(this);\n        }\n    };\n    ChoiceSetInput.prototype.internalRender = function () {\n        var _this = this;\n        this._uniqueCategoryName = ChoiceSetInput.getUniqueCategoryName();\n        if (this.isMultiSelect) {\n            // Render as a list of toggle inputs\n            return this.renderCompoundInput(\"ac-choiceSetInput-multiSelect\", \"checkbox\", this.defaultValue\n                ? this.defaultValue.split(this.hostConfig.choiceSetInputValueSeparator)\n                : undefined);\n        }\n        else {\n            if (this.style === \"expanded\") {\n                // Render as a series of radio buttons\n                return this.renderCompoundInput(\"ac-choiceSetInput-expanded\", \"radio\", this.defaultValue ? [this.defaultValue] : undefined);\n            }\n            else if (this.style === \"filtered\") {\n                // Render as a text input coupled with a datalist\n                var inputContainer = document.createElement(\"div\");\n                inputContainer.style.width = \"100%\";\n                this._textInput = document.createElement(\"input\");\n                this._textInput.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-multichoiceInput\", \"ac-choiceSetInput-filtered\");\n                this._textInput.type = \"text\";\n                this._textInput.style.width = \"100%\";\n                this._textInput.oninput = function () {\n                    _this.valueChanged();\n                    if (_this._textInput) {\n                        // Remove aria-label when value is not empty so narration software doesn't\n                        // read the placeholder\n                        if (_this.value) {\n                            _this._textInput.removeAttribute(\"placeholder\");\n                            _this._textInput.removeAttribute(\"aria-label\");\n                        }\n                        else if (_this.placeholder) {\n                            _this._textInput.placeholder = _this.placeholder;\n                            _this._textInput.setAttribute(\"aria-label\", _this.placeholder);\n                        }\n                    }\n                };\n                if (this.defaultValue) {\n                    this._textInput.value = this.defaultValue;\n                }\n                if (this.placeholder && !this._textInput.value) {\n                    this._textInput.placeholder = this.placeholder;\n                    this._textInput.setAttribute(\"aria-label\", this.placeholder);\n                }\n                this._textInput.tabIndex = this.isDesignMode() ? -1 : 0;\n                var dataList = document.createElement(\"datalist\");\n                dataList.id = Utils.generateUniqueId();\n                for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n                    var choice = _a[_i];\n                    var option = document.createElement(\"option\");\n                    // To fix https://stackoverflow.com/questions/29882361/show-datalist-labels-but-submit-the-actual-value\n                    // value is mapped to choice.title other than choice.value\n                    if (choice.title) {\n                        option.value = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n                    dataList.appendChild(option);\n                }\n                this._textInput.setAttribute(\"list\", dataList.id);\n                inputContainer.append(this._textInput, dataList);\n                return inputContainer;\n            }\n            else {\n                // Render as a combo box\n                this._selectElement = document.createElement(\"select\");\n                this._selectElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-multichoiceInput\", \"ac-choiceSetInput-compact\");\n                this._selectElement.style.width = \"100%\";\n                this._selectElement.tabIndex = this.isDesignMode() ? -1 : 0;\n                var placeholderOption = this.createPlaceholderOptionWhenValueDoesNotExist();\n                Utils.appendChild(this._selectElement, placeholderOption);\n                for (var _b = 0, _c = this.choices; _b < _c.length; _b++) {\n                    var choice = _c[_b];\n                    var option = document.createElement(\"option\");\n                    option.value = choice.value;\n                    if (choice.title) {\n                        option.text = choice.title;\n                        option.setAttribute(\"aria-label\", choice.title);\n                    }\n                    option.tabIndex = this.isDesignMode() ? -1 : 0;\n                    if (choice.value === this.defaultValue) {\n                        option.selected = true;\n                    }\n                    Utils.appendChild(this._selectElement, option);\n                }\n                this._selectElement.onchange = function () {\n                    _this.internalApplyAriaCurrent();\n                    _this.valueChanged();\n                };\n                this.internalApplyAriaCurrent();\n                return this._selectElement;\n            }\n        }\n    };\n    ChoiceSetInput.prototype.updateVisualState = function (eventType) {\n        if (!this.isMultiSelect && this.isCompact) {\n            _super.prototype.updateVisualState.call(this, eventType);\n            if (this._selectElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n                var hideDropDownPicker = shouldHideInputAdornersForRevealOnHover(this._selectElement, eventType);\n                if (hideDropDownPicker) {\n                    this._selectElement.style.appearance = \"none\";\n                    this._selectElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                }\n                else {\n                    this._selectElement.style.appearance = \"auto\";\n                    this._selectElement.classList.add(this.hostConfig.makeCssClassName(\"ac-inputStyle-revealOnHover-onfocus\"));\n                }\n            }\n        }\n    };\n    ChoiceSetInput.prototype.getJsonTypeName = function () {\n        return \"Input.ChoiceSet\";\n    };\n    ChoiceSetInput.prototype.focus = function () {\n        if (this._toggleInputs && (this.isMultiSelect || this.style === \"expanded\")) {\n            if (this._toggleInputs.length > 0) {\n                this._toggleInputs[0].focus();\n            }\n        }\n        else if (this._textInput) {\n            this._textInput.focus();\n        }\n        else {\n            _super.prototype.focus.call(this);\n        }\n    };\n    ChoiceSetInput.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (this.choices.length === 0) {\n            context.addFailure(this, Enums.ValidationEvent.CollectionCantBeEmpty, strings_1.Strings.errors.choiceSetMustHaveAtLeastOneChoice());\n        }\n        for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n            var choice = _a[_i];\n            if (!choice.title || !choice.value) {\n                context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.choiceSetChoicesMustHaveTitleAndValue());\n            }\n        }\n    };\n    ChoiceSetInput.prototype.isSet = function () {\n        return this.value ? true : false;\n    };\n    ChoiceSetInput.prototype.isValid = function () {\n        if (this._textInput) {\n            if (this.value === \"\" || this.value === this.placeholder) {\n                return true;\n            }\n            for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n                var choice = _a[_i];\n                if (this.value === choice.value) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        return _super.prototype.isValid.call(this);\n    };\n    Object.defineProperty(ChoiceSetInput.prototype, \"value\", {\n        get: function () {\n            if (!this.isMultiSelect) {\n                if (this._selectElement) {\n                    return this._selectElement.selectedIndex > 0\n                        ? this._selectElement.value\n                        : undefined;\n                }\n                else if (this._textInput) {\n                    for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n                        var choice = _a[_i];\n                        if (choice.title && this._textInput.value === choice.title) {\n                            return choice.value;\n                        }\n                    }\n                    return this._textInput.value;\n                }\n                else if (this._toggleInputs && this._toggleInputs.length > 0) {\n                    for (var _b = 0, _c = this._toggleInputs; _b < _c.length; _b++) {\n                        var toggleInput = _c[_b];\n                        if (toggleInput.checked) {\n                            return toggleInput.value;\n                        }\n                    }\n                }\n                return undefined;\n            }\n            else {\n                if (!this._toggleInputs || this._toggleInputs.length === 0) {\n                    return undefined;\n                }\n                var result = \"\";\n                for (var _d = 0, _f = this._toggleInputs; _d < _f.length; _d++) {\n                    var toggleInput = _f[_d];\n                    if (toggleInput.checked) {\n                        if (result !== \"\") {\n                            result += this.hostConfig.choiceSetInputValueSeparator;\n                        }\n                        result += toggleInput.value;\n                    }\n                }\n                return result ? result : undefined;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChoiceSetInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    ChoiceSetInput.choicesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"choices\", Choice);\n    ChoiceSetInput.styleProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_0, \"style\", [\n        { value: \"compact\" },\n        { value: \"expanded\" },\n        { value: \"filtered\", targetVersion: serialization_1.Versions.v1_5 }\n    ], \"compact\");\n    ChoiceSetInput.isMultiSelectProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"isMultiSelect\", false);\n    ChoiceSetInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n    ChoiceSetInput.wrapProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"wrap\", false);\n    //#endregion\n    ChoiceSetInput._uniqueCategoryCounter = 0;\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.valueProperty)\n    ], ChoiceSetInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.styleProperty)\n    ], ChoiceSetInput.prototype, \"style\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.isMultiSelectProperty)\n    ], ChoiceSetInput.prototype, \"isMultiSelect\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.placeholderProperty)\n    ], ChoiceSetInput.prototype, \"placeholder\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.wrapProperty)\n    ], ChoiceSetInput.prototype, \"wrap\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ChoiceSetInput.choicesProperty)\n    ], ChoiceSetInput.prototype, \"choices\", void 0);\n    return ChoiceSetInput;\n}(Input));\nexports.ChoiceSetInput = ChoiceSetInput;\nvar NumberInput = /** @class */ (function (_super) {\n    __extends(NumberInput, _super);\n    function NumberInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NumberInput.prototype.internalRender = function () {\n        var _this = this;\n        this._numberInputElement = document.createElement(\"input\");\n        this._numberInputElement.setAttribute(\"type\", \"number\");\n        if (this.min !== undefined) {\n            this._numberInputElement.setAttribute(\"min\", this.min.toString());\n        }\n        if (this.max !== undefined) {\n            this._numberInputElement.setAttribute(\"max\", this.max.toString());\n        }\n        this._numberInputElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-numberInput\");\n        this._numberInputElement.style.width = \"100%\";\n        this._numberInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n        if (this.defaultValue !== undefined) {\n            this._numberInputElement.valueAsNumber = this.defaultValue;\n        }\n        if (this.placeholder) {\n            this._numberInputElement.placeholder = this.placeholder;\n            this._numberInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n        this._numberInputElement.oninput = function () {\n            _this.valueChanged();\n        };\n        return this._numberInputElement;\n    };\n    NumberInput.prototype.getJsonTypeName = function () {\n        return \"Input.Number\";\n    };\n    NumberInput.prototype.isSet = function () {\n        return this.value !== undefined && !isNaN(this.value);\n    };\n    NumberInput.prototype.isValid = function () {\n        if (this.value === undefined) {\n            return !this.isRequired;\n        }\n        var result = true;\n        if (this.min !== undefined) {\n            result = result && this.value >= this.min;\n        }\n        if (this.max !== undefined) {\n            result = result && this.value <= this.max;\n        }\n        return result;\n    };\n    Object.defineProperty(NumberInput.prototype, \"value\", {\n        get: function () {\n            return this._numberInputElement ? this._numberInputElement.valueAsNumber : undefined;\n        },\n        set: function (value) {\n            if (value && this._numberInputElement) {\n                this._numberInputElement.value = value.toString();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    NumberInput.valueProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"value\");\n    NumberInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n    NumberInput.minProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"min\");\n    NumberInput.maxProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"max\");\n    __decorate([\n        (0, serialization_1.property)(NumberInput.valueProperty)\n    ], NumberInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(NumberInput.minProperty)\n    ], NumberInput.prototype, \"min\", void 0);\n    __decorate([\n        (0, serialization_1.property)(NumberInput.maxProperty)\n    ], NumberInput.prototype, \"max\", void 0);\n    __decorate([\n        (0, serialization_1.property)(NumberInput.placeholderProperty)\n    ], NumberInput.prototype, \"placeholder\", void 0);\n    return NumberInput;\n}(Input));\nexports.NumberInput = NumberInput;\nvar DateInput = /** @class */ (function (_super) {\n    __extends(DateInput, _super);\n    function DateInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DateInput.prototype.internalRender = function () {\n        var _this = this;\n        this._dateInputElement = document.createElement(\"input\");\n        this._dateInputElement.setAttribute(\"type\", \"date\");\n        if (this.min) {\n            this._dateInputElement.setAttribute(\"min\", this.min);\n        }\n        if (this.max) {\n            this._dateInputElement.setAttribute(\"max\", this.max);\n        }\n        if (this.placeholder) {\n            this._dateInputElement.placeholder = this.placeholder;\n            this._dateInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n        this._dateInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n        this._dateInputElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-dateInput\");\n        this._dateInputElement.style.width = \"100%\";\n        this._dateInputElement.oninput = function () {\n            _this.valueChanged();\n        };\n        if (this.defaultValue) {\n            this._dateInputElement.value = this.defaultValue;\n        }\n        return this._dateInputElement;\n    };\n    DateInput.prototype.updateVisualState = function (eventType) {\n        _super.prototype.updateVisualState.call(this, eventType);\n        if (this._dateInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            var hideDatePicker = shouldHideInputAdornersForRevealOnHover(this._dateInputElement, eventType);\n            updateInputAdornersVisibility(this._dateInputElement, hideDatePicker /*hide*/);\n        }\n    };\n    DateInput.prototype.getJsonTypeName = function () {\n        return \"Input.Date\";\n    };\n    DateInput.prototype.isSet = function () {\n        return this.value ? true : false;\n    };\n    DateInput.prototype.isValid = function () {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n        var valueAsDate = new Date(this.value);\n        var result = true;\n        if (this.min) {\n            var minDate = new Date(this.min);\n            result = result && valueAsDate >= minDate;\n        }\n        if (this.max) {\n            var maxDate = new Date(this.max);\n            result = result && valueAsDate <= maxDate;\n        }\n        return result;\n    };\n    Object.defineProperty(DateInput.prototype, \"value\", {\n        get: function () {\n            return this._dateInputElement ? this._dateInputElement.value : undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    DateInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n    DateInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n    DateInput.minProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"min\");\n    DateInput.maxProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"max\");\n    __decorate([\n        (0, serialization_1.property)(DateInput.valueProperty)\n    ], DateInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(DateInput.minProperty)\n    ], DateInput.prototype, \"min\", void 0);\n    __decorate([\n        (0, serialization_1.property)(DateInput.maxProperty)\n    ], DateInput.prototype, \"max\", void 0);\n    __decorate([\n        (0, serialization_1.property)(DateInput.placeholderProperty)\n    ], DateInput.prototype, \"placeholder\", void 0);\n    return DateInput;\n}(Input));\nexports.DateInput = DateInput;\nvar TimeProperty = /** @class */ (function (_super) {\n    __extends(TimeProperty, _super);\n    function TimeProperty(targetVersion, name) {\n        var _this = _super.call(this, targetVersion, name, function (sender, prop, source, context) {\n            var value = source[prop.name];\n            if (typeof value === \"string\" && value && /^[0-9]{2}:[0-9]{2}$/.test(value)) {\n                return value;\n            }\n            return undefined;\n        }, function (sender, prop, target, value, context) {\n            context.serializeValue(target, prop.name, value);\n        }) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        return _this;\n    }\n    return TimeProperty;\n}(serialization_1.CustomProperty));\nexports.TimeProperty = TimeProperty;\nvar TimeInput = /** @class */ (function (_super) {\n    __extends(TimeInput, _super);\n    function TimeInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeInput.convertTimeStringToDate = function (timeString) {\n        return new Date(\"1973-09-04T\" + timeString + \":00Z\");\n    };\n    TimeInput.prototype.internalRender = function () {\n        var _this = this;\n        this._timeInputElement = document.createElement(\"input\");\n        this._timeInputElement.setAttribute(\"type\", \"time\");\n        if (this.min) {\n            this._timeInputElement.setAttribute(\"min\", this.min);\n        }\n        if (this.max) {\n            this._timeInputElement.setAttribute(\"max\", this.max);\n        }\n        this._timeInputElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-timeInput\");\n        this._timeInputElement.style.width = \"100%\";\n        this._timeInputElement.oninput = function () {\n            _this.valueChanged();\n        };\n        if (this.placeholder) {\n            this._timeInputElement.placeholder = this.placeholder;\n            this._timeInputElement.setAttribute(\"aria-label\", this.placeholder);\n        }\n        this._timeInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n        if (this.defaultValue) {\n            this._timeInputElement.value = this.defaultValue;\n        }\n        return this._timeInputElement;\n    };\n    TimeInput.prototype.updateVisualState = function (eventType) {\n        _super.prototype.updateVisualState.call(this, eventType);\n        if (this._timeInputElement && this.inputStyle === Enums.InputStyle.RevealOnHover) {\n            var hideTimePicker = shouldHideInputAdornersForRevealOnHover(this._timeInputElement, eventType);\n            updateInputAdornersVisibility(this._timeInputElement, hideTimePicker /*hide*/);\n        }\n    };\n    TimeInput.prototype.getJsonTypeName = function () {\n        return \"Input.Time\";\n    };\n    TimeInput.prototype.isSet = function () {\n        return this.value ? true : false;\n    };\n    TimeInput.prototype.isValid = function () {\n        if (!this.value) {\n            return !this.isRequired;\n        }\n        var valueAsDate = TimeInput.convertTimeStringToDate(this.value);\n        var result = true;\n        if (this.min) {\n            var minDate = TimeInput.convertTimeStringToDate(this.min);\n            result = result && valueAsDate >= minDate;\n        }\n        if (this.max) {\n            var maxDate = TimeInput.convertTimeStringToDate(this.max);\n            result = result && valueAsDate <= maxDate;\n        }\n        return result;\n    };\n    Object.defineProperty(TimeInput.prototype, \"value\", {\n        get: function () {\n            return this._timeInputElement ? this._timeInputElement.value : undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    TimeInput.valueProperty = new TimeProperty(serialization_1.Versions.v1_0, \"value\");\n    TimeInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n    TimeInput.minProperty = new TimeProperty(serialization_1.Versions.v1_0, \"min\");\n    TimeInput.maxProperty = new TimeProperty(serialization_1.Versions.v1_0, \"max\");\n    __decorate([\n        (0, serialization_1.property)(TimeInput.valueProperty)\n    ], TimeInput.prototype, \"defaultValue\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TimeInput.minProperty)\n    ], TimeInput.prototype, \"min\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TimeInput.maxProperty)\n    ], TimeInput.prototype, \"max\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TimeInput.placeholderProperty)\n    ], TimeInput.prototype, \"placeholder\", void 0);\n    return TimeInput;\n}(Input));\nexports.TimeInput = TimeInput;\nvar Action = /** @class */ (function (_super) {\n    __extends(Action, _super);\n    function Action() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.style = Enums.ActionStyle.Default;\n        _this.mode = Enums.ActionMode.Primary;\n        _this._state = 0 /* Normal */;\n        _this._isFocusable = true;\n        return _this;\n    }\n    //#endregion\n    Action.prototype.renderButtonContent = function () {\n        if (this.renderedElement) {\n            // Cache hostConfig for perf\n            var hostConfig = this.hostConfig;\n            var titleElement = document.createElement(\"div\");\n            titleElement.style.overflow = \"hidden\";\n            titleElement.style.textOverflow = \"ellipsis\";\n            if (!(hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle ||\n                hostConfig.actions.allowTitleToWrap)) {\n                titleElement.style.whiteSpace = \"nowrap\";\n            }\n            if (this.title) {\n                titleElement.innerText = this.title;\n            }\n            if (!this.iconUrl) {\n                this.renderedElement.classList.add(\"noIcon\");\n                this.renderedElement.appendChild(titleElement);\n            }\n            else {\n                var iconElement = document.createElement(\"img\");\n                iconElement.src = this.iconUrl;\n                iconElement.style.width = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.height = hostConfig.actions.iconSize + \"px\";\n                iconElement.style.flex = \"0 0 auto\";\n                if (hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle) {\n                    this.renderedElement.classList.add(\"iconAbove\");\n                    this.renderedElement.style.flexDirection = \"column\";\n                    if (this.title) {\n                        iconElement.style.marginBottom = \"6px\";\n                    }\n                }\n                else {\n                    this.renderedElement.classList.add(\"iconLeft\");\n                    iconElement.style.maxHeight = \"100%\";\n                    if (this.title) {\n                        iconElement.style.marginRight = \"6px\";\n                    }\n                }\n                this.renderedElement.appendChild(iconElement);\n                this.renderedElement.appendChild(titleElement);\n            }\n        }\n    };\n    Action.prototype.getParentContainer = function () {\n        if (this.parent instanceof Container) {\n            return this.parent;\n        }\n        return this.parent ? this.parent.getParentContainer() : undefined;\n    };\n    Action.prototype.isDesignMode = function () {\n        var rootElement = this.getRootObject();\n        return rootElement instanceof CardElement && rootElement.isDesignMode();\n    };\n    Action.prototype.updateCssClasses = function () {\n        var _a, _b;\n        if (this.parent && this.renderedElement) {\n            var hostConfig = this.parent.hostConfig;\n            this.renderedElement.className = hostConfig.makeCssClassName(this.isEffectivelyEnabled() ? \"ac-pushButton\" : \"ac-pushButton-disabled\");\n            var parentContainer = this.getParentContainer();\n            if (parentContainer) {\n                var parentContainerStyle = parentContainer.getEffectiveStyle();\n                if (parentContainerStyle) {\n                    this.renderedElement.classList.add(\"style-\" + parentContainerStyle);\n                }\n            }\n            this.renderedElement.tabIndex = !this.isDesignMode() && this.isFocusable ? 0 : -1;\n            switch (this._state) {\n                case 0 /* Normal */:\n                    // No additional classes needed\n                    break;\n                case 1 /* Expanded */:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"expanded\"));\n                    break;\n                case 2 /* Subdued */:\n                    this.renderedElement.classList.add(hostConfig.makeCssClassName(\"subdued\"));\n                    break;\n            }\n            if (this.style && this.isEffectivelyEnabled()) {\n                if (this.style === Enums.ActionStyle.Positive) {\n                    (_a = this.renderedElement.classList).add.apply(_a, hostConfig.makeCssClassNames(\"primary\", \"style-positive\"));\n                }\n                else {\n                    (_b = this.renderedElement.classList).add.apply(_b, hostConfig.makeCssClassNames(\"style-\" + this.style.toLowerCase()));\n                }\n            }\n        }\n    };\n    Action.prototype.getDefaultSerializationContext = function () {\n        return new SerializationContext();\n    };\n    Action.prototype.internalGetReferencedInputs = function () {\n        return {};\n    };\n    Action.prototype.internalPrepareForExecution = function (_inputs) {\n        // Do nothing in base implementation\n    };\n    Action.prototype.internalValidateInputs = function (referencedInputs) {\n        var result = [];\n        if (referencedInputs) {\n            for (var _i = 0, _a = Object.keys(referencedInputs); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var input = referencedInputs[key];\n                if (!input.validateValue()) {\n                    result.push(input);\n                }\n            }\n        }\n        return result;\n    };\n    Action.prototype.shouldSerialize = function (context) {\n        return context.actionRegistry.findByName(this.getJsonTypeName()) !== undefined;\n    };\n    Action.prototype.raiseExecuteActionEvent = function () {\n        if (this.onExecute) {\n            this.onExecute(this);\n        }\n        raiseExecuteActionEvent(this);\n    };\n    Action.prototype.internalAfterExecute = function () {\n        var rootObject = this.getRootObject();\n        if (rootObject instanceof CardElement) {\n            rootObject.updateActionsEnabledState();\n        }\n    };\n    Action.prototype.getHref = function () {\n        return \"\";\n    };\n    Action.prototype.getAriaRole = function () {\n        return \"button\";\n    };\n    Action.prototype.setupElementForAccessibility = function (element, promoteTooltipToLabel) {\n        if (promoteTooltipToLabel === void 0) { promoteTooltipToLabel = false; }\n        element.tabIndex = this.isEffectivelyEnabled() && !this.isDesignMode() ? 0 : -1;\n        element.setAttribute(\"role\", this.getAriaRole());\n        if (element instanceof HTMLButtonElement) {\n            element.disabled = !this.isEffectivelyEnabled();\n        }\n        if (!this.isEffectivelyEnabled()) {\n            element.setAttribute(\"aria-disabled\", \"true\");\n        }\n        else {\n            element.removeAttribute(\"aria-disabled\");\n            element.classList.add(this.hostConfig.makeCssClassName(\"ac-selectable\"));\n        }\n        if (this.title) {\n            element.setAttribute(\"aria-label\", this.title);\n            element.title = this.title;\n        }\n        else {\n            element.removeAttribute(\"aria-label\");\n            element.removeAttribute(\"title\");\n        }\n        if (this.tooltip) {\n            if (promoteTooltipToLabel && !this.title) {\n                element.setAttribute(\"aria-label\", this.tooltip);\n            }\n            element.title = this.tooltip;\n        }\n    };\n    Action.prototype.parse = function (source, context) {\n        return _super.prototype.parse.call(this, source, context ? context : new SerializationContext());\n    };\n    Action.prototype.render = function () {\n        var _this = this;\n        var buttonElement = document.createElement(\"button\");\n        buttonElement.type = \"button\";\n        buttonElement.style.display = \"flex\";\n        buttonElement.style.alignItems = \"center\";\n        buttonElement.style.justifyContent = \"center\";\n        buttonElement.onclick = function (e) {\n            if (_this.isEffectivelyEnabled()) {\n                e.preventDefault();\n                e.cancelBubble = true;\n                _this.execute();\n            }\n        };\n        this._renderedElement = buttonElement;\n        this.renderButtonContent();\n        this.updateCssClasses();\n        this.setupElementForAccessibility(buttonElement);\n    };\n    Action.prototype.execute = function () {\n        if (this._actionCollection) {\n            this._actionCollection.actionExecuted(this);\n        }\n        this.raiseExecuteActionEvent();\n        this.internalAfterExecute();\n    };\n    Action.prototype.prepareForExecution = function () {\n        var referencedInputs = this.getReferencedInputs();\n        var invalidInputs = this.internalValidateInputs(referencedInputs);\n        if (invalidInputs.length > 0) {\n            invalidInputs[0].focus();\n            return false;\n        }\n        this.internalPrepareForExecution(referencedInputs);\n        return true;\n    };\n    Action.prototype.remove = function () {\n        if (this._actionCollection) {\n            return this._actionCollection.removeAction(this);\n        }\n        return false;\n    };\n    Action.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        return [];\n    };\n    Action.prototype.getAllActions = function () {\n        return [this];\n    };\n    Action.prototype.getResourceInformation = function () {\n        return this.iconUrl ? [{ url: this.iconUrl, mimeType: \"image\" }] : [];\n    };\n    Action.prototype.getActionById = function (id) {\n        return this.id === id ? this : undefined;\n    };\n    Action.prototype.getReferencedInputs = function () {\n        return this.internalGetReferencedInputs();\n    };\n    /**\n     * Validates the inputs associated with this action.\n     *\n     * @returns A list of inputs that failed validation, or an empty array if no input failed validation.\n     */\n    Action.prototype.validateInputs = function () {\n        return this.internalValidateInputs(this.getReferencedInputs());\n    };\n    Action.prototype.updateEnabledState = function () {\n        // Do nothing in base implementation\n    };\n    Action.prototype.isEffectivelyEnabled = function () {\n        return this.isEnabled;\n    };\n    Object.defineProperty(Action.prototype, \"isPrimary\", {\n        get: function () {\n            return this.style === Enums.ActionStyle.Positive;\n        },\n        set: function (value) {\n            if (value) {\n                this.style = Enums.ActionStyle.Positive;\n            }\n            else {\n                if (this.style === Enums.ActionStyle.Positive) {\n                    this.style = Enums.ActionStyle.Default;\n                }\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"hostConfig\", {\n        get: function () {\n            return this.parent ? this.parent.hostConfig : host_config_1.defaultHostConfig;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"state\", {\n        get: function () {\n            return this._state;\n        },\n        set: function (value) {\n            if (this._state !== value) {\n                this._state = value;\n                this.updateCssClasses();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"isFocusable\", {\n        get: function () {\n            return this._isFocusable;\n        },\n        set: function (value) {\n            if (this._isFocusable !== value) {\n                this._isFocusable = value;\n                this.updateCssClasses();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Action.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n    Action.iconUrlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"iconUrl\");\n    Action.styleProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_2, \"style\", [\n        { value: Enums.ActionStyle.Default },\n        { value: Enums.ActionStyle.Positive },\n        { value: Enums.ActionStyle.Destructive }\n    ], Enums.ActionStyle.Default);\n    Action.modeProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_5, \"mode\", [{ value: Enums.ActionMode.Primary }, { value: Enums.ActionMode.Secondary }], Enums.ActionMode.Primary);\n    Action.tooltipProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_5, \"tooltip\");\n    Action.isEnabledProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_5, \"isEnabled\", true);\n    __decorate([\n        (0, serialization_1.property)(Action.titleProperty)\n    ], Action.prototype, \"title\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Action.iconUrlProperty)\n    ], Action.prototype, \"iconUrl\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Action.styleProperty)\n    ], Action.prototype, \"style\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Action.modeProperty)\n    ], Action.prototype, \"mode\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Action.tooltipProperty)\n    ], Action.prototype, \"tooltip\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Action.isEnabledProperty)\n    ], Action.prototype, \"isEnabled\", void 0);\n    return Action;\n}(card_object_1.CardObject));\nexports.Action = Action;\nvar SubmitActionBase = /** @class */ (function (_super) {\n    __extends(SubmitActionBase, _super);\n    function SubmitActionBase() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.disabledUnlessAssociatedInputsChange = false;\n        //#endregion\n        _this._isPrepared = false;\n        _this._areReferencedInputsDirty = false;\n        return _this;\n    }\n    SubmitActionBase.prototype.internalGetReferencedInputs = function () {\n        var result = {};\n        if (this.associatedInputs !== \"none\") {\n            var current = this.parent;\n            var inputs = [];\n            while (current) {\n                inputs.push.apply(inputs, current.getAllInputs(false));\n                current = current.parent;\n            }\n            for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n                var input = inputs_1[_i];\n                if (input.id) {\n                    result[input.id] = input;\n                }\n            }\n        }\n        return result;\n    };\n    SubmitActionBase.prototype.internalPrepareForExecution = function (inputs) {\n        if (this._originalData) {\n            this._processedData = JSON.parse(JSON.stringify(this._originalData));\n        }\n        else {\n            this._processedData = {};\n        }\n        if (this._processedData && inputs) {\n            for (var _i = 0, _a = Object.keys(inputs); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var input = inputs[key];\n                if (input.id && input.isSet()) {\n                    this._processedData[input.id] =\n                        typeof input.value === \"string\" ? input.value : input.value.toString();\n                }\n            }\n        }\n        this._isPrepared = true;\n    };\n    SubmitActionBase.prototype.internalAfterExecute = function () {\n        if (shared_1.GlobalSettings.resetInputsDirtyStateAfterActionExecution) {\n            this.resetReferencedInputsDirtyState();\n        }\n    };\n    SubmitActionBase.prototype.resetReferencedInputsDirtyState = function () {\n        var referencedInputs = this.getReferencedInputs();\n        this._areReferencedInputsDirty = false;\n        if (referencedInputs) {\n            for (var _i = 0, _a = Object.keys(referencedInputs); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var input = referencedInputs[key];\n                input.resetDirtyState();\n            }\n        }\n    };\n    SubmitActionBase.prototype.updateEnabledState = function () {\n        this._areReferencedInputsDirty = false;\n        var referencedInputs = this.getReferencedInputs();\n        if (referencedInputs) {\n            for (var _i = 0, _a = Object.keys(referencedInputs); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var input = referencedInputs[key];\n                if (input.isDirty()) {\n                    this._areReferencedInputsDirty = true;\n                    break;\n                }\n            }\n        }\n        this.updateCssClasses();\n        if (this._renderedElement) {\n            this.setupElementForAccessibility(this._renderedElement);\n        }\n    };\n    SubmitActionBase.prototype.isEffectivelyEnabled = function () {\n        var result = _super.prototype.isEffectivelyEnabled.call(this);\n        return this.disabledUnlessAssociatedInputsChange\n            ? result && this._areReferencedInputsDirty\n            : result;\n    };\n    Object.defineProperty(SubmitActionBase.prototype, \"data\", {\n        get: function () {\n            return this._isPrepared ? this._processedData : this._originalData;\n        },\n        set: function (value) {\n            this._originalData = value;\n            this._isPrepared = false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SubmitActionBase.dataProperty = new serialization_1.PropertyDefinition(serialization_1.Versions.v1_0, \"data\");\n    SubmitActionBase.associatedInputsProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_3, \"associatedInputs\", function (sender, prop, source, context) {\n        var value = source[prop.name];\n        if (value !== undefined && typeof value === \"string\") {\n            return value.toLowerCase() === \"none\" ? \"none\" : \"auto\";\n        }\n        return undefined;\n    }, function (sender, prop, target, value, context) {\n        context.serializeValue(target, prop.name, value);\n    });\n    SubmitActionBase.disabledUnlessAssociatedInputsChangeProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_6, \"disabledUnlessAssociatedInputsChange\", false);\n    __decorate([\n        (0, serialization_1.property)(SubmitActionBase.dataProperty)\n    ], SubmitActionBase.prototype, \"_originalData\", void 0);\n    __decorate([\n        (0, serialization_1.property)(SubmitActionBase.associatedInputsProperty)\n    ], SubmitActionBase.prototype, \"associatedInputs\", void 0);\n    __decorate([\n        (0, serialization_1.property)(SubmitActionBase.disabledUnlessAssociatedInputsChangeProperty)\n    ], SubmitActionBase.prototype, \"disabledUnlessAssociatedInputsChange\", void 0);\n    return SubmitActionBase;\n}(Action));\nexports.SubmitActionBase = SubmitActionBase;\nvar SubmitAction = /** @class */ (function (_super) {\n    __extends(SubmitAction, _super);\n    function SubmitAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SubmitAction.prototype.getJsonTypeName = function () {\n        return SubmitAction.JsonTypeName;\n    };\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    SubmitAction.JsonTypeName = \"Action.Submit\";\n    return SubmitAction;\n}(SubmitActionBase));\nexports.SubmitAction = SubmitAction;\nvar ExecuteAction = /** @class */ (function (_super) {\n    __extends(ExecuteAction, _super);\n    function ExecuteAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    //#endregion\n    ExecuteAction.prototype.getJsonTypeName = function () {\n        return ExecuteAction.JsonTypeName;\n    };\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    ExecuteAction.JsonTypeName = \"Action.Execute\";\n    //#region Schema\n    ExecuteAction.verbProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"verb\");\n    __decorate([\n        (0, serialization_1.property)(ExecuteAction.verbProperty)\n    ], ExecuteAction.prototype, \"verb\", void 0);\n    return ExecuteAction;\n}(SubmitActionBase));\nexports.ExecuteAction = ExecuteAction;\nvar OpenUrlAction = /** @class */ (function (_super) {\n    __extends(OpenUrlAction, _super);\n    function OpenUrlAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OpenUrlAction.prototype.getJsonTypeName = function () {\n        return OpenUrlAction.JsonTypeName;\n    };\n    OpenUrlAction.prototype.getAriaRole = function () {\n        return \"link\";\n    };\n    OpenUrlAction.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (!this.url) {\n            context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"url\"));\n        }\n    };\n    OpenUrlAction.prototype.getHref = function () {\n        return this.url;\n    };\n    //#region Schema\n    OpenUrlAction.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"url\");\n    //#endregion\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    OpenUrlAction.JsonTypeName = \"Action.OpenUrl\";\n    __decorate([\n        (0, serialization_1.property)(OpenUrlAction.urlProperty)\n    ], OpenUrlAction.prototype, \"url\", void 0);\n    return OpenUrlAction;\n}(Action));\nexports.OpenUrlAction = OpenUrlAction;\nvar ToggleVisibilityAction = /** @class */ (function (_super) {\n    __extends(ToggleVisibilityAction, _super);\n    function ToggleVisibilityAction() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.targetElements = {};\n        return _this;\n    }\n    ToggleVisibilityAction.prototype.updateAriaControlsAttribute = function () {\n        // apply aria labels to make it clear which elements this action will toggle\n        if (this.targetElements) {\n            var elementIds = Object.keys(this.targetElements);\n            if (this._renderedElement) {\n                if (elementIds.length > 0) {\n                    this._renderedElement.setAttribute(\"aria-controls\", elementIds.join(\" \"));\n                }\n                else {\n                    this._renderedElement.removeAttribute(\"aria-controls\");\n                }\n            }\n        }\n    };\n    ToggleVisibilityAction.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (!this.targetElements) {\n            context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"targetElements\"));\n        }\n    };\n    ToggleVisibilityAction.prototype.getJsonTypeName = function () {\n        return ToggleVisibilityAction.JsonTypeName;\n    };\n    ToggleVisibilityAction.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.updateAriaControlsAttribute();\n    };\n    ToggleVisibilityAction.prototype.execute = function () {\n        _super.prototype.execute.call(this);\n        if (this.parent) {\n            for (var _i = 0, _a = Object.keys(this.targetElements); _i < _a.length; _i++) {\n                var elementId = _a[_i];\n                var targetElement = this.parent.getRootElement().getElementById(elementId);\n                if (targetElement) {\n                    if (typeof this.targetElements[elementId] === \"boolean\") {\n                        targetElement.isVisible = this.targetElements[elementId];\n                    }\n                    else {\n                        targetElement.isVisible = !targetElement.isVisible;\n                    }\n                }\n            }\n        }\n    };\n    ToggleVisibilityAction.prototype.addTargetElement = function (elementId, isVisible) {\n        if (isVisible === void 0) { isVisible = undefined; }\n        this.targetElements[elementId] = isVisible;\n        this.updateAriaControlsAttribute();\n    };\n    ToggleVisibilityAction.prototype.removeTargetElement = function (elementId) {\n        delete this.targetElements[elementId];\n        this.updateAriaControlsAttribute();\n    };\n    ToggleVisibilityAction.targetElementsProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_2, \"targetElements\", function (sender, prop, source, context) {\n        var result = {};\n        if (Array.isArray(source[prop.name])) {\n            for (var _i = 0, _a = source[prop.name]; _i < _a.length; _i++) {\n                var item = _a[_i];\n                if (typeof item === \"string\") {\n                    result[item] = undefined;\n                }\n                else if (typeof item === \"object\") {\n                    var elementId = item[\"elementId\"];\n                    if (typeof elementId === \"string\") {\n                        result[elementId] = Utils.parseBool(item[\"isVisible\"]);\n                    }\n                }\n            }\n        }\n        return result;\n    }, function (sender, prop, target, value, context) {\n        var targetElements = [];\n        for (var _i = 0, _a = Object.keys(value); _i < _a.length; _i++) {\n            var id = _a[_i];\n            if (typeof value[id] === \"boolean\") {\n                targetElements.push({\n                    elementId: id,\n                    isVisible: value[id]\n                });\n            }\n            else {\n                targetElements.push(id);\n            }\n        }\n        context.serializeArray(target, prop.name, targetElements);\n    }, {}, function (sender) {\n        return {};\n    });\n    //#endregion\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    ToggleVisibilityAction.JsonTypeName = \"Action.ToggleVisibility\";\n    __decorate([\n        (0, serialization_1.property)(ToggleVisibilityAction.targetElementsProperty)\n    ], ToggleVisibilityAction.prototype, \"targetElements\", void 0);\n    return ToggleVisibilityAction;\n}(Action));\nexports.ToggleVisibilityAction = ToggleVisibilityAction;\nvar StringWithSubstitutionProperty = /** @class */ (function (_super) {\n    __extends(StringWithSubstitutionProperty, _super);\n    function StringWithSubstitutionProperty(targetVersion, name) {\n        var _this = _super.call(this, targetVersion, name, undefined, function () {\n            return new shared_1.StringWithSubstitutions();\n        }) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        return _this;\n    }\n    StringWithSubstitutionProperty.prototype.parse = function (sender, source, context) {\n        var result = new shared_1.StringWithSubstitutions();\n        result.set(Utils.parseString(source[this.name]));\n        return result;\n    };\n    StringWithSubstitutionProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, value.getOriginal());\n    };\n    return StringWithSubstitutionProperty;\n}(serialization_1.PropertyDefinition));\nvar HttpHeader = /** @class */ (function (_super) {\n    __extends(HttpHeader, _super);\n    //#endregion\n    function HttpHeader(name, value) {\n        if (name === void 0) { name = \"\"; }\n        if (value === void 0) { value = \"\"; }\n        var _this = _super.call(this) || this;\n        _this.name = name;\n        _this.value = value;\n        return _this;\n    }\n    HttpHeader.prototype.getSchemaKey = function () {\n        return \"HttpHeader\";\n    };\n    HttpHeader.prototype.getReferencedInputs = function (inputs, referencedInputs) {\n        this._value.getReferencedInputs(inputs, referencedInputs);\n    };\n    HttpHeader.prototype.prepareForExecution = function (inputs) {\n        this._value.substituteInputValues(inputs, shared_1.ContentTypes.applicationXWwwFormUrlencoded);\n    };\n    Object.defineProperty(HttpHeader.prototype, \"value\", {\n        get: function () {\n            return this._value.get();\n        },\n        set: function (newValue) {\n            this._value.set(newValue);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    HttpHeader.nameProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"name\");\n    HttpHeader.valueProperty = new StringWithSubstitutionProperty(serialization_1.Versions.v1_0, \"value\");\n    __decorate([\n        (0, serialization_1.property)(HttpHeader.nameProperty)\n    ], HttpHeader.prototype, \"name\", void 0);\n    __decorate([\n        (0, serialization_1.property)(HttpHeader.valueProperty)\n    ], HttpHeader.prototype, \"_value\", void 0);\n    return HttpHeader;\n}(serialization_1.SerializableObject));\nexports.HttpHeader = HttpHeader;\nvar HttpAction = /** @class */ (function (_super) {\n    __extends(HttpAction, _super);\n    function HttpAction() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._ignoreInputValidation = false;\n        return _this;\n    }\n    HttpAction.prototype.internalGetReferencedInputs = function () {\n        var allInputs = this.parent ? this.parent.getRootElement().getAllInputs() : [];\n        var result = {};\n        this._url.getReferencedInputs(allInputs, result);\n        for (var _i = 0, _a = this.headers; _i < _a.length; _i++) {\n            var header = _a[_i];\n            header.getReferencedInputs(allInputs, result);\n        }\n        this._body.getReferencedInputs(allInputs, result);\n        return result;\n    };\n    HttpAction.prototype.internalPrepareForExecution = function (inputs) {\n        if (inputs) {\n            this._url.substituteInputValues(inputs, shared_1.ContentTypes.applicationXWwwFormUrlencoded);\n            var contentType = shared_1.ContentTypes.applicationJson;\n            for (var _i = 0, _a = this.headers; _i < _a.length; _i++) {\n                var header = _a[_i];\n                header.prepareForExecution(inputs);\n                if (header.name && header.name.toLowerCase() === \"content-type\") {\n                    contentType = header.value;\n                }\n            }\n            this._body.substituteInputValues(inputs, contentType);\n        }\n    };\n    HttpAction.prototype.getJsonTypeName = function () {\n        return HttpAction.JsonTypeName;\n    };\n    HttpAction.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (!this.url) {\n            context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"url\"));\n        }\n        if (this.headers.length > 0) {\n            for (var _i = 0, _a = this.headers; _i < _a.length; _i++) {\n                var header = _a[_i];\n                if (!header.name) {\n                    context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.actionHttpHeadersMustHaveNameAndValue());\n                }\n            }\n        }\n    };\n    Object.defineProperty(HttpAction.prototype, \"ignoreInputValidation\", {\n        get: function () {\n            return this._ignoreInputValidation;\n        },\n        set: function (value) {\n            this._ignoreInputValidation = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HttpAction.prototype, \"url\", {\n        get: function () {\n            return this._url.get();\n        },\n        set: function (value) {\n            this._url.set(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HttpAction.prototype, \"body\", {\n        get: function () {\n            return this._body.get();\n        },\n        set: function (value) {\n            this._body.set(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HttpAction.urlProperty = new StringWithSubstitutionProperty(serialization_1.Versions.v1_0, \"url\");\n    HttpAction.bodyProperty = new StringWithSubstitutionProperty(serialization_1.Versions.v1_0, \"body\");\n    HttpAction.methodProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"method\");\n    HttpAction.headersProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"headers\", HttpHeader);\n    HttpAction.ignoreInputValidationProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_3, \"ignoreInputValidation\", false);\n    //#endregion\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    HttpAction.JsonTypeName = \"Action.Http\";\n    __decorate([\n        (0, serialization_1.property)(HttpAction.urlProperty)\n    ], HttpAction.prototype, \"_url\", void 0);\n    __decorate([\n        (0, serialization_1.property)(HttpAction.bodyProperty)\n    ], HttpAction.prototype, \"_body\", void 0);\n    __decorate([\n        (0, serialization_1.property)(HttpAction.methodProperty)\n    ], HttpAction.prototype, \"method\", void 0);\n    __decorate([\n        (0, serialization_1.property)(HttpAction.headersProperty)\n    ], HttpAction.prototype, \"headers\", void 0);\n    __decorate([\n        (0, serialization_1.property)(HttpAction.ignoreInputValidationProperty)\n    ], HttpAction.prototype, \"_ignoreInputValidation\", void 0);\n    return HttpAction;\n}(Action));\nexports.HttpAction = HttpAction;\nvar ShowCardAction = /** @class */ (function (_super) {\n    __extends(ShowCardAction, _super);\n    function ShowCardAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.card = new InlineAdaptiveCard();\n        return _this;\n    }\n    ShowCardAction.prototype.updateCssClasses = function () {\n        _super.prototype.updateCssClasses.call(this);\n        if (this.renderedElement) {\n            var effectiveHostConfig = this.parent ? this.parent.hostConfig : host_config_1.defaultHostConfig;\n            this.renderedElement.classList.add(effectiveHostConfig.makeCssClassName(\"expandable\"));\n            this.renderedElement.setAttribute(\"aria-expanded\", (this.state === 1 /* Expanded */).toString());\n        }\n    };\n    ShowCardAction.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        var jsonCard = source[\"card\"];\n        if (jsonCard) {\n            this.card.parse(jsonCard, context);\n        }\n        else {\n            context.logParseEvent(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.showCardMustHaveCard());\n        }\n    };\n    ShowCardAction.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        if (this.card) {\n            context.serializeValue(target, \"card\", this.card.toJSON(context));\n        }\n    };\n    ShowCardAction.prototype.raiseExecuteActionEvent = function () {\n        if (this.hostConfig.actions.showCard.actionMode === Enums.ShowCardActionMode.Popup) {\n            // Only raise the event in Popup mode.\n            _super.prototype.raiseExecuteActionEvent.call(this);\n        }\n    };\n    ShowCardAction.prototype.releaseDOMResources = function () {\n        _super.prototype.releaseDOMResources.call(this);\n        this.card.releaseDOMResources();\n    };\n    ShowCardAction.prototype.getJsonTypeName = function () {\n        return ShowCardAction.JsonTypeName;\n    };\n    ShowCardAction.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        this.card.internalValidateProperties(context);\n    };\n    ShowCardAction.prototype.setParent = function (value) {\n        _super.prototype.setParent.call(this, value);\n        this.card.setParent(value);\n    };\n    ShowCardAction.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        return this.card.getAllInputs(processActions);\n    };\n    ShowCardAction.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        result.push.apply(result, this.card.getAllActions());\n        return result;\n    };\n    ShowCardAction.prototype.getResourceInformation = function () {\n        var result = _super.prototype.getResourceInformation.call(this);\n        result.push.apply(result, this.card.getResourceInformation());\n        return result;\n    };\n    ShowCardAction.prototype.getActionById = function (id) {\n        var result = _super.prototype.getActionById.call(this, id);\n        if (!result) {\n            result = this.card.getActionById(id);\n        }\n        return result;\n    };\n    // Note the \"weird\" way this field is declared is to work around a breaking\n    // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n    ShowCardAction.JsonTypeName = \"Action.ShowCard\";\n    return ShowCardAction;\n}(Action));\nexports.ShowCardAction = ShowCardAction;\nvar OverflowAction = /** @class */ (function (_super) {\n    __extends(OverflowAction, _super);\n    function OverflowAction(actions) {\n        var _this = _super.call(this) || this;\n        _this._actions = actions;\n        _this.title = strings_1.Strings.defaults.overflowButtonText();\n        _this.tooltip = strings_1.Strings.defaults.overflowButtonTooltip();\n        return _this;\n    }\n    OverflowAction.prototype.getActions = function () {\n        return this._actions;\n    };\n    OverflowAction.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        result.push.apply(result, this._actions);\n        return result;\n    };\n    OverflowAction.prototype.getJsonTypeName = function () {\n        return ShowCardAction.JsonTypeName;\n    };\n    OverflowAction.prototype.execute = function () {\n        var _this = this;\n        var _a;\n        var shouldDisplayPopupMenu = !raiseDisplayOverflowActionMenuEvent(this, this.renderedElement);\n        if (shouldDisplayPopupMenu && this.renderedElement) {\n            var contextMenu_1 = new controls_1.PopupMenu();\n            contextMenu_1.hostConfig = this.hostConfig;\n            var _loop_2 = function (i) {\n                var menuItem = new controls_1.MenuItem(i.toString(), (_a = this_1._actions[i].title) !== null && _a !== void 0 ? _a : \"\");\n                menuItem.isEnabled = this_1._actions[i].isEnabled;\n                menuItem.onClick = function () {\n                    var actionToExecute = _this._actions[i];\n                    contextMenu_1.closePopup(false);\n                    if (actionToExecute.isEnabled) {\n                        actionToExecute.execute();\n                    }\n                };\n                contextMenu_1.items.add(menuItem);\n            };\n            var this_1 = this;\n            for (var i = 0; i < this._actions.length; i++) {\n                _loop_2(i);\n            }\n            contextMenu_1.onClose = function () {\n                var _a;\n                (_a = _this.renderedElement) === null || _a === void 0 ? void 0 : _a.setAttribute(\"aria-expanded\", \"false\");\n            };\n            this.renderedElement.setAttribute(\"aria-expanded\", \"true\");\n            contextMenu_1.popup(this.renderedElement);\n        }\n    };\n    OverflowAction.prototype.setupElementForAccessibility = function (element, promoteTooltipToLabel) {\n        if (promoteTooltipToLabel === void 0) { promoteTooltipToLabel = false; }\n        _super.prototype.setupElementForAccessibility.call(this, element, promoteTooltipToLabel);\n        element.setAttribute(\"aria-label\", strings_1.Strings.defaults.overflowButtonTooltip());\n        element.setAttribute(\"aria-expanded\", \"false\");\n    };\n    OverflowAction.JsonTypeName = \"Action.Overflow\";\n    return OverflowAction;\n}(Action));\nvar ActionCollection = /** @class */ (function () {\n    function ActionCollection(owner) {\n        this._items = [];\n        this._renderedActions = [];\n        this._owner = owner;\n    }\n    ActionCollection.prototype.isActionAllowed = function (action) {\n        var forbiddenTypes = this._owner.getForbiddenActionTypes();\n        if (forbiddenTypes) {\n            for (var _i = 0, forbiddenTypes_1 = forbiddenTypes; _i < forbiddenTypes_1.length; _i++) {\n                var forbiddenType = forbiddenTypes_1[_i];\n                if (action.constructor === forbiddenType) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    ActionCollection.prototype.refreshContainer = function () {\n        clearElement(this._actionCardContainer);\n        if (!this._actionCard) {\n            this._actionCardContainer.style.marginTop = \"0px\";\n            return;\n        }\n        this._actionCardContainer.style.marginTop =\n            this.renderedActionCount > 0\n                ? this._owner.hostConfig.actions.showCard.inlineTopMargin + \"px\"\n                : \"0px\";\n        var padding = this._owner.getEffectivePadding();\n        this._owner.getImmediateSurroundingPadding(padding);\n        var physicalPadding = this._owner.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n        if (this._actionCard) {\n            this._actionCard.style.paddingLeft = physicalPadding.left + \"px\";\n            this._actionCard.style.paddingRight = physicalPadding.right + \"px\";\n            this._actionCard.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n            this._actionCard.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n            if (physicalPadding.bottom !== 0 && !this._owner.isDesignMode()) {\n                this._actionCard.style.paddingBottom = physicalPadding.bottom + \"px\";\n                this._actionCard.style.marginBottom = \"-\" + physicalPadding.bottom + \"px\";\n            }\n            Utils.appendChild(this._actionCardContainer, this._actionCard);\n        }\n    };\n    ActionCollection.prototype.layoutChanged = function () {\n        this._owner.getRootElement().updateLayout();\n    };\n    ActionCollection.prototype.showActionCard = function (action, suppressStyle, raiseEvent) {\n        if (suppressStyle === void 0) { suppressStyle = false; }\n        if (raiseEvent === void 0) { raiseEvent = true; }\n        action.card.suppressStyle = suppressStyle;\n        // Always re-render a ShowCard action in design mode; reuse already rendered ShowCard (if available) otherwise\n        var renderedCard = action.card.renderedElement && !this._owner.isDesignMode()\n            ? action.card.renderedElement\n            : action.card.render();\n        this._actionCard = renderedCard;\n        this._expandedAction = action;\n        this.refreshContainer();\n        if (raiseEvent) {\n            this.layoutChanged();\n            raiseInlineCardExpandedEvent(action, true);\n        }\n    };\n    ActionCollection.prototype.collapseExpandedAction = function () {\n        for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n            var action = _a[_i];\n            action.state = 0 /* Normal */;\n        }\n        var previouslyExpandedAction = this._expandedAction;\n        this._expandedAction = undefined;\n        this._actionCard = undefined;\n        this.refreshContainer();\n        if (previouslyExpandedAction) {\n            this.layoutChanged();\n            raiseInlineCardExpandedEvent(previouslyExpandedAction, false);\n        }\n    };\n    ActionCollection.prototype.expandShowCardAction = function (action, raiseEvent) {\n        var _this = this;\n        var afterSelectedAction = false;\n        for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n            var renderedAction = _a[_i];\n            // Remove actions after selected action from tabOrder if the actions are oriented horizontally, to skip focus directly to expanded card\n            if (this._owner.hostConfig.actions.actionsOrientation == Enums.Orientation.Horizontal &&\n                afterSelectedAction) {\n                renderedAction.isFocusable = false;\n            }\n            if (renderedAction !== action) {\n                renderedAction.state = 2 /* Subdued */;\n            }\n            else {\n                renderedAction.state = 1 /* Expanded */;\n                afterSelectedAction = true;\n                if (renderedAction.renderedElement) {\n                    renderedAction.renderedElement.onblur = function (_e) {\n                        for (var _i = 0, _a = _this._renderedActions; _i < _a.length; _i++) {\n                            var ra = _a[_i];\n                            ra.isFocusable = true;\n                        }\n                    };\n                }\n            }\n        }\n        this.showActionCard(action, !(this._owner.isAtTheVeryLeft() && this._owner.isAtTheVeryRight()), raiseEvent);\n    };\n    ActionCollection.prototype.releaseDOMResources = function () {\n        for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n            var action = _a[_i];\n            action.releaseDOMResources();\n        }\n    };\n    ActionCollection.prototype.actionExecuted = function (action) {\n        if (!(action instanceof ShowCardAction)) {\n            this.collapseExpandedAction();\n        }\n        else {\n            if (action === this._expandedAction) {\n                this.collapseExpandedAction();\n            }\n            else if (this._owner.hostConfig.actions.showCard.actionMode ===\n                Enums.ShowCardActionMode.Inline) {\n                this.expandShowCardAction(action, true);\n            }\n        }\n    };\n    ActionCollection.prototype.parse = function (source, context) {\n        this.clear();\n        if (Array.isArray(source)) {\n            for (var _i = 0, source_1 = source; _i < source_1.length; _i++) {\n                var jsonAction = source_1[_i];\n                var forbiddenActions = [];\n                // If the action owner is a ContainerWithActions, we should check for forbidden actions\n                if (this._owner instanceof ContainerWithActions) {\n                    forbiddenActions = this._owner.getForbiddenActionNames();\n                }\n                var action = context.parseAction(this._owner, jsonAction, forbiddenActions, !this._owner.isDesignMode());\n                if (action) {\n                    this.addAction(action);\n                }\n            }\n        }\n    };\n    ActionCollection.prototype.toJSON = function (target, propertyName, context) {\n        context.serializeArray(target, propertyName, this._items);\n    };\n    ActionCollection.prototype.getActionAt = function (id) {\n        return this._items[id];\n    };\n    ActionCollection.prototype.getActionCount = function () {\n        return this._items.length;\n    };\n    ActionCollection.prototype.getActionById = function (id) {\n        var result = undefined;\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            result = item.getActionById(id);\n            if (result) {\n                break;\n            }\n        }\n        return result;\n    };\n    ActionCollection.prototype.validateProperties = function (context) {\n        if (this._owner.hostConfig.actions.maxActions &&\n            this._items.length > this._owner.hostConfig.actions.maxActions) {\n            context.addFailure(this._owner, Enums.ValidationEvent.TooManyActions, strings_1.Strings.errors.tooManyActions(this._owner.hostConfig.actions.maxActions));\n        }\n        if (this._items.length > 0 && !this._owner.hostConfig.supportsInteractivity) {\n            context.addFailure(this._owner, Enums.ValidationEvent.InteractivityNotAllowed, strings_1.Strings.errors.interactivityNotAllowed());\n        }\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (!this.isActionAllowed(item)) {\n                context.addFailure(this._owner, Enums.ValidationEvent.ActionTypeNotAllowed, strings_1.Strings.errors.actionTypeNotAllowed(item.getJsonTypeName()));\n            }\n            item.internalValidateProperties(context);\n        }\n    };\n    ActionCollection.prototype.render = function (orientation) {\n        // Cache hostConfig for better perf\n        var hostConfig = this._owner.hostConfig;\n        if (!hostConfig.supportsInteractivity) {\n            return undefined;\n        }\n        var element = document.createElement(\"div\");\n        var maxActions = hostConfig.actions.maxActions\n            ? Math.min(hostConfig.actions.maxActions, this._items.length)\n            : this._items.length;\n        this._actionCardContainer = document.createElement(\"div\");\n        this._renderedActions = [];\n        if (hostConfig.actions.preExpandSingleShowCardAction &&\n            maxActions === 1 &&\n            this._items[0] instanceof ShowCardAction &&\n            this.isActionAllowed(this._items[0])) {\n            this.showActionCard(this._items[0], true);\n            this._renderedActions.push(this._items[0]);\n        }\n        else {\n            var buttonStrip = document.createElement(\"div\");\n            buttonStrip.className = hostConfig.makeCssClassName(\"ac-actionSet\");\n            buttonStrip.style.display = \"flex\";\n            if (orientation === Enums.Orientation.Horizontal) {\n                buttonStrip.style.flexDirection = \"row\";\n                if (this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                }\n                else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.justifyContent = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.justifyContent = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.justifyContent = \"flex-start\";\n                            break;\n                    }\n                }\n            }\n            else {\n                buttonStrip.style.flexDirection = \"column\";\n                if (this._owner.horizontalAlignment &&\n                    hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch) {\n                    switch (this._owner.horizontalAlignment) {\n                        case Enums.HorizontalAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.HorizontalAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                }\n                else {\n                    switch (hostConfig.actions.actionAlignment) {\n                        case Enums.ActionAlignment.Center:\n                            buttonStrip.style.alignItems = \"center\";\n                            break;\n                        case Enums.ActionAlignment.Right:\n                            buttonStrip.style.alignItems = \"flex-end\";\n                            break;\n                        case Enums.ActionAlignment.Stretch:\n                            buttonStrip.style.alignItems = \"stretch\";\n                            break;\n                        default:\n                            buttonStrip.style.alignItems = \"flex-start\";\n                            break;\n                    }\n                }\n            }\n            var allowedActions = this._items.filter(this.isActionAllowed.bind(this));\n            var primaryActions_1 = [];\n            var secondaryActions_1 = [];\n            if (!this._owner.isDesignMode()) {\n                allowedActions.forEach(function (action) {\n                    return action.mode === Enums.ActionMode.Secondary\n                        ? secondaryActions_1.push(action)\n                        : primaryActions_1.push(action);\n                });\n                // If primaryActions.length > maxActions, extra actions are moved to overflow\n                var overflowPrimaryActions = primaryActions_1.splice(hostConfig.actions.maxActions);\n                if (shared_1.GlobalSettings.allowMoreThanMaxActionsInOverflowMenu) {\n                    secondaryActions_1.push.apply(secondaryActions_1, overflowPrimaryActions);\n                }\n                var shouldRenderOverflowActionButton = true;\n                if (secondaryActions_1.length > 0) {\n                    if (!this._overflowAction) {\n                        this._overflowAction = new OverflowAction(secondaryActions_1);\n                        this._overflowAction.setParent(this._owner);\n                        this._overflowAction[\"_actionCollection\"] = this;\n                    }\n                    var isRootAction = this._owner instanceof AdaptiveCard && !this._owner.parent;\n                    shouldRenderOverflowActionButton = !raiseRenderOverflowActionsEvent(this._overflowAction, isRootAction);\n                }\n                if (this._overflowAction && shouldRenderOverflowActionButton) {\n                    primaryActions_1.push(this._overflowAction);\n                }\n            }\n            else {\n                primaryActions_1 = allowedActions;\n            }\n            for (var i = 0; i < primaryActions_1.length; i++) {\n                var action = primaryActions_1[i];\n                action.render();\n                if (action.renderedElement) {\n                    if (hostConfig.actions.actionsOrientation === Enums.Orientation.Horizontal &&\n                        hostConfig.actions.actionAlignment === Enums.ActionAlignment.Stretch) {\n                        action.renderedElement.style.flex = \"0 1 100%\";\n                    }\n                    else {\n                        action.renderedElement.style.flex = \"0 1 auto\";\n                    }\n                    buttonStrip.appendChild(action.renderedElement);\n                    this._renderedActions.push(action);\n                    if (i < primaryActions_1.length - 1 && hostConfig.actions.buttonSpacing > 0) {\n                        var spacer = document.createElement(\"div\");\n                        if (orientation === Enums.Orientation.Horizontal) {\n                            spacer.style.flex = \"0 0 auto\";\n                            spacer.style.width = hostConfig.actions.buttonSpacing + \"px\";\n                        }\n                        else {\n                            spacer.style.height = hostConfig.actions.buttonSpacing + \"px\";\n                        }\n                        Utils.appendChild(buttonStrip, spacer);\n                    }\n                }\n            }\n            var buttonStripContainer = document.createElement(\"div\");\n            buttonStripContainer.style.overflow = \"hidden\";\n            buttonStripContainer.appendChild(buttonStrip);\n            Utils.appendChild(element, buttonStripContainer);\n        }\n        Utils.appendChild(element, this._actionCardContainer);\n        for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n            var renderedAction = _a[_i];\n            if (renderedAction.state === 1 /* Expanded */) {\n                this.expandShowCardAction(renderedAction, false);\n                break;\n            }\n        }\n        return this._renderedActions.length > 0 ? element : undefined;\n    };\n    ActionCollection.prototype.addAction = function (action) {\n        if (!action) {\n            throw new Error(\"The action parameter cannot be null.\");\n        }\n        if ((!action.parent || action.parent === this._owner) && this._items.indexOf(action) < 0) {\n            this._items.push(action);\n            if (!action.parent) {\n                action.setParent(this._owner);\n            }\n            action[\"_actionCollection\"] = this;\n        }\n        else {\n            throw new Error(strings_1.Strings.errors.actionAlreadyParented());\n        }\n    };\n    ActionCollection.prototype.removeAction = function (action) {\n        if (this.expandedAction && this._expandedAction === action) {\n            this.collapseExpandedAction();\n        }\n        var actionIndex = this._items.indexOf(action);\n        if (actionIndex >= 0) {\n            this._items.splice(actionIndex, 1);\n            action.setParent(undefined);\n            action[\"_actionCollection\"] = undefined;\n            for (var i = 0; i < this._renderedActions.length; i++) {\n                if (this._renderedActions[i] === action) {\n                    this._renderedActions.splice(i, 1);\n                    break;\n                }\n            }\n            return true;\n        }\n        return false;\n    };\n    ActionCollection.prototype.clear = function () {\n        this._items = [];\n        this._renderedActions = [];\n        this._expandedAction = undefined;\n    };\n    ActionCollection.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        var result = [];\n        if (processActions) {\n            for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n                var action = _a[_i];\n                result.push.apply(result, action.getAllInputs());\n            }\n        }\n        return result;\n    };\n    ActionCollection.prototype.getResourceInformation = function () {\n        var result = [];\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var action = _a[_i];\n            result.push.apply(result, action.getResourceInformation());\n        }\n        return result;\n    };\n    Object.defineProperty(ActionCollection.prototype, \"renderedActionCount\", {\n        get: function () {\n            return this._renderedActions.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ActionCollection.prototype, \"expandedAction\", {\n        get: function () {\n            return this._expandedAction;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ActionCollection;\n}());\nvar ActionSet = /** @class */ (function (_super) {\n    __extends(ActionSet, _super);\n    function ActionSet() {\n        var _this = _super.call(this) || this;\n        _this._actionCollection = new ActionCollection(_this);\n        return _this;\n    }\n    ActionSet.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this._actionCollection.parse(source[\"actions\"], context);\n    };\n    ActionSet.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        this._actionCollection.toJSON(target, \"actions\", context);\n    };\n    ActionSet.prototype.internalRender = function () {\n        return this._actionCollection.render(this.orientation !== undefined\n            ? this.orientation\n            : this.hostConfig.actions.actionsOrientation);\n    };\n    ActionSet.prototype.releaseDOMResources = function () {\n        _super.prototype.releaseDOMResources.call(this);\n        this._actionCollection.releaseDOMResources();\n    };\n    ActionSet.prototype.isBleedingAtBottom = function () {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return _super.prototype.isBleedingAtBottom.call(this);\n        }\n        else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction);\n            }\n            else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    };\n    ActionSet.prototype.getJsonTypeName = function () {\n        return \"ActionSet\";\n    };\n    ActionSet.prototype.getActionCount = function () {\n        return this._actionCollection.getActionCount();\n    };\n    ActionSet.prototype.getActionAt = function (index) {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        }\n        else {\n            return _super.prototype.getActionAt.call(this, index);\n        }\n    };\n    ActionSet.prototype.getActionById = function (id) {\n        var result = this._actionCollection.getActionById(id);\n        return result ? result : _super.prototype.getActionById.call(this, id);\n    };\n    ActionSet.prototype.getAllActions = function () {\n        var result = _super.prototype.getAllActions.call(this);\n        for (var i = 0; i < this.getActionCount(); i++) {\n            var action = this.getActionAt(i);\n            if (action) {\n                result.push(action);\n            }\n        }\n        return result;\n    };\n    ActionSet.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        this._actionCollection.validateProperties(context);\n    };\n    ActionSet.prototype.addAction = function (action) {\n        this._actionCollection.addAction(action);\n    };\n    ActionSet.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        return processActions ? this._actionCollection.getAllInputs() : [];\n    };\n    ActionSet.prototype.getResourceInformation = function () {\n        return this._actionCollection.getResourceInformation();\n    };\n    /**\n     * @inheritdoc\n     */\n    ActionSet.prototype.findDOMNodeOwner = function (node) {\n        var target = undefined;\n        for (var i = 0; i < this.getActionCount(); i++) {\n            var action = this.getActionAt(i);\n            if (action) {\n                // recur through each Action\n                target = action.findDOMNodeOwner(node);\n                if (target) {\n                    return target;\n                }\n            }\n        }\n        // if not found in any Action, defer to parent implementation\n        return _super.prototype.findDOMNodeOwner.call(this, node);\n    };\n    ActionSet.prototype.getElementById = function (id) {\n        var result = _super.prototype.getElementById.call(this, id);\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n        return result;\n    };\n    Object.defineProperty(ActionSet.prototype, \"isInteractive\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    ActionSet.orientationProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_1, \"orientation\", Enums.Orientation);\n    __decorate([\n        (0, serialization_1.property)(ActionSet.orientationProperty)\n    ], ActionSet.prototype, \"orientation\", void 0);\n    return ActionSet;\n}(CardElement));\nexports.ActionSet = ActionSet;\nvar ContainerStyleProperty = /** @class */ (function (_super) {\n    __extends(ContainerStyleProperty, _super);\n    function ContainerStyleProperty(targetVersion, name, defaultValue, onGetInitialValue) {\n        var _this = _super.call(this, targetVersion, name, [\n            { value: Enums.ContainerStyle.Default },\n            { value: Enums.ContainerStyle.Emphasis },\n            { targetVersion: serialization_1.Versions.v1_2, value: Enums.ContainerStyle.Accent },\n            { targetVersion: serialization_1.Versions.v1_2, value: Enums.ContainerStyle.Good },\n            { targetVersion: serialization_1.Versions.v1_2, value: Enums.ContainerStyle.Attention },\n            { targetVersion: serialization_1.Versions.v1_2, value: Enums.ContainerStyle.Warning }\n        ], defaultValue, onGetInitialValue) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        _this.defaultValue = defaultValue;\n        _this.onGetInitialValue = onGetInitialValue;\n        return _this;\n    }\n    return ContainerStyleProperty;\n}(serialization_1.ValueSetProperty));\nexports.ContainerStyleProperty = ContainerStyleProperty;\nvar StylableCardElementContainer = /** @class */ (function (_super) {\n    __extends(StylableCardElementContainer, _super);\n    function StylableCardElementContainer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(StylableCardElementContainer.prototype, \"style\", {\n        get: function () {\n            if (this.allowCustomStyle) {\n                var style = this.getValue(StylableCardElementContainer.styleProperty);\n                if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n                    return style;\n                }\n            }\n            return undefined;\n        },\n        set: function (value) {\n            this.setValue(StylableCardElementContainer.styleProperty, value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StylableCardElementContainer.prototype, \"allowCustomStyle\", {\n        //#endregion\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StylableCardElementContainer.prototype, \"hasExplicitStyle\", {\n        get: function () {\n            return this.getValue(StylableCardElementContainer.styleProperty) !== undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StylableCardElementContainer.prototype.applyBorder = function () {\n        // No border in base implementation\n    };\n    StylableCardElementContainer.prototype.applyBackground = function () {\n        if (this.renderedElement) {\n            var styleDefinition = this.hostConfig.containerStyles.getStyleByName(this.style, this.hostConfig.containerStyles.getStyleByName(this.defaultStyle));\n            if (styleDefinition.backgroundColor) {\n                var bgColor = Utils.stringToCssColor(styleDefinition.backgroundColor);\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    };\n    StylableCardElementContainer.prototype.applyPadding = function () {\n        _super.prototype.applyPadding.call(this);\n        if (!this.renderedElement) {\n            return;\n        }\n        var physicalPadding = new shared_1.SpacingDefinition();\n        if (this.getEffectivePadding()) {\n            physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(this.getEffectivePadding());\n        }\n        this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n        this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n        this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n        if (this.isBleeding()) {\n            // Bleed into the first parent that does have padding\n            var padding = new shared_1.PaddingDefinition();\n            this.getImmediateSurroundingPadding(padding);\n            var surroundingPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n            this.renderedElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            this.renderedElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n            if (!this.isDesignMode()) {\n                this.renderedElement.style.marginTop = \"-\" + surroundingPadding.top + \"px\";\n                this.renderedElement.style.marginBottom = \"-\" + surroundingPadding.bottom + \"px\";\n            }\n            if (this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal) {\n                this.separatorElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n                this.separatorElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n            }\n        }\n        else {\n            this.renderedElement.style.marginRight = \"0\";\n            this.renderedElement.style.marginLeft = \"0\";\n            this.renderedElement.style.marginTop = \"0\";\n            this.renderedElement.style.marginBottom = \"0\";\n            if (this.separatorElement &&\n                this.separatorOrientation === Enums.Orientation.Horizontal) {\n                this.separatorElement.style.marginRight = \"0\";\n                this.separatorElement.style.marginLeft = \"0\";\n            }\n        }\n    };\n    StylableCardElementContainer.prototype.getHasBackground = function (ignoreBackgroundImages) {\n        if (ignoreBackgroundImages === void 0) { ignoreBackgroundImages = false; }\n        var currentElement = this.parent;\n        while (currentElement) {\n            var currentElementHasBackgroundImage = false;\n            if (ignoreBackgroundImages) {\n                currentElementHasBackgroundImage = false;\n            }\n            else {\n                currentElementHasBackgroundImage =\n                    currentElement instanceof Container\n                        ? currentElement.backgroundImage.isValid()\n                        : false;\n            }\n            if (currentElement instanceof StylableCardElementContainer) {\n                if (this.hasExplicitStyle &&\n                    (currentElement.getEffectiveStyle() !== this.getEffectiveStyle() ||\n                        currentElementHasBackgroundImage)) {\n                    return true;\n                }\n            }\n            currentElement = currentElement.parent;\n        }\n        return false;\n    };\n    StylableCardElementContainer.prototype.getDefaultPadding = function () {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new shared_1.PaddingDefinition(Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding)\n            : _super.prototype.getDefaultPadding.call(this);\n    };\n    StylableCardElementContainer.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        var explicitStyle = this.getValue(StylableCardElementContainer.styleProperty);\n        if (explicitStyle !== undefined) {\n            var styleDefinition = this.hostConfig.containerStyles.getStyleByName(explicitStyle);\n            if (!styleDefinition) {\n                context.addFailure(this, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(explicitStyle, \"style\"));\n            }\n        }\n    };\n    StylableCardElementContainer.prototype.render = function () {\n        var renderedElement = _super.prototype.render.call(this);\n        if (renderedElement && this.getHasBackground()) {\n            this.applyBackground();\n        }\n        this.applyBorder();\n        return renderedElement;\n    };\n    StylableCardElementContainer.prototype.getEffectiveStyle = function () {\n        var effectiveStyle = this.style;\n        return effectiveStyle ? effectiveStyle : _super.prototype.getEffectiveStyle.call(this);\n    };\n    //#region Schema\n    StylableCardElementContainer.styleProperty = new ContainerStyleProperty(serialization_1.Versions.v1_0, \"style\");\n    __decorate([\n        (0, serialization_1.property)(StylableCardElementContainer.styleProperty)\n    ], StylableCardElementContainer.prototype, \"style\", null);\n    return StylableCardElementContainer;\n}(CardElementContainer));\nexports.StylableCardElementContainer = StylableCardElementContainer;\nvar ContainerBase = /** @class */ (function (_super) {\n    __extends(ContainerBase, _super);\n    function ContainerBase() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._bleed = false;\n        return _this;\n    }\n    //#endregion\n    ContainerBase.prototype.adjustRenderedElementSize = function (renderedElement) {\n        _super.prototype.adjustRenderedElementSize.call(this, renderedElement);\n        if (this.minPixelHeight) {\n            renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n        }\n    };\n    ContainerBase.prototype.getHasExpandedAction = function () {\n        return false;\n    };\n    ContainerBase.prototype.getBleed = function () {\n        return this._bleed;\n    };\n    ContainerBase.prototype.setBleed = function (value) {\n        this._bleed = value;\n    };\n    Object.defineProperty(ContainerBase.prototype, \"renderedActionCount\", {\n        get: function () {\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ContainerBase.prototype.isBleeding = function () {\n        return (this.getHasBackground() || this.hostConfig.alwaysAllowBleed) && this.getBleed();\n    };\n    ContainerBase.bleedProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"bleed\", false);\n    ContainerBase.minHeightProperty = new serialization_1.PixelSizeProperty(serialization_1.Versions.v1_2, \"minHeight\");\n    __decorate([\n        (0, serialization_1.property)(ContainerBase.bleedProperty)\n    ], ContainerBase.prototype, \"_bleed\", void 0);\n    __decorate([\n        (0, serialization_1.property)(ContainerBase.minHeightProperty)\n    ], ContainerBase.prototype, \"minPixelHeight\", void 0);\n    return ContainerBase;\n}(StylableCardElementContainer));\nexports.ContainerBase = ContainerBase;\nvar BackgroundImage = /** @class */ (function (_super) {\n    __extends(BackgroundImage, _super);\n    function BackgroundImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    //#endregion\n    BackgroundImage.prototype.getSchemaKey = function () {\n        return \"BackgroundImage\";\n    };\n    BackgroundImage.prototype.internalParse = function (source, context) {\n        if (typeof source === \"string\") {\n            this.resetDefaultValues();\n            this.url = source;\n        }\n        else {\n            return _super.prototype.internalParse.call(this, source, context);\n        }\n    };\n    BackgroundImage.prototype.apply = function (element) {\n        if (this.url && element.renderedElement) {\n            element.renderedElement.style.backgroundImage =\n                \"url('\" +\n                    element.preProcessPropertyValue(BackgroundImage.urlProperty, this.url) +\n                    \"')\";\n            switch (this.fillMode) {\n                case Enums.FillMode.Repeat:\n                    element.renderedElement.style.backgroundRepeat = \"repeat\";\n                    break;\n                case Enums.FillMode.RepeatHorizontally:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-x\";\n                    break;\n                case Enums.FillMode.RepeatVertically:\n                    element.renderedElement.style.backgroundRepeat = \"repeat-y\";\n                    break;\n                case Enums.FillMode.Cover:\n                default:\n                    element.renderedElement.style.backgroundRepeat = \"no-repeat\";\n                    element.renderedElement.style.backgroundSize = \"cover\";\n                    break;\n            }\n            switch (this.horizontalAlignment) {\n                case Enums.HorizontalAlignment.Left:\n                    break;\n                case Enums.HorizontalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionX = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.renderedElement.style.backgroundPositionX = \"right\";\n                    break;\n            }\n            switch (this.verticalAlignment) {\n                case Enums.VerticalAlignment.Top:\n                    break;\n                case Enums.VerticalAlignment.Center:\n                    element.renderedElement.style.backgroundPositionY = \"center\";\n                    break;\n                case Enums.VerticalAlignment.Bottom:\n                    element.renderedElement.style.backgroundPositionY = \"bottom\";\n                    break;\n            }\n        }\n    };\n    BackgroundImage.prototype.isValid = function () {\n        return this.url ? true : false;\n    };\n    //#region Schema\n    BackgroundImage.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"url\");\n    BackgroundImage.fillModeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"fillMode\", Enums.FillMode, Enums.FillMode.Cover);\n    BackgroundImage.horizontalAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"horizontalAlignment\", Enums.HorizontalAlignment, Enums.HorizontalAlignment.Left);\n    BackgroundImage.verticalAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"verticalAlignment\", Enums.VerticalAlignment, Enums.VerticalAlignment.Top);\n    __decorate([\n        (0, serialization_1.property)(BackgroundImage.urlProperty)\n    ], BackgroundImage.prototype, \"url\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BackgroundImage.fillModeProperty)\n    ], BackgroundImage.prototype, \"fillMode\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BackgroundImage.horizontalAlignmentProperty)\n    ], BackgroundImage.prototype, \"horizontalAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(BackgroundImage.verticalAlignmentProperty)\n    ], BackgroundImage.prototype, \"verticalAlignment\", void 0);\n    return BackgroundImage;\n}(serialization_1.SerializableObject));\nexports.BackgroundImage = BackgroundImage;\nvar Container = /** @class */ (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        //#endregion\n        _this._items = [];\n        _this._renderedItems = [];\n        return _this;\n    }\n    Object.defineProperty(Container.prototype, \"backgroundImage\", {\n        get: function () {\n            return this.getValue(Container.backgroundImageProperty);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Container.prototype.insertItemAt = function (item, index, forceInsert) {\n        if (!item.parent || forceInsert) {\n            if (item.isStandalone) {\n                if (index < 0 || index >= this._items.length) {\n                    this._items.push(item);\n                }\n                else {\n                    this._items.splice(index, 0, item);\n                }\n                item.setParent(this);\n            }\n            else {\n                throw new Error(strings_1.Strings.errors.elementTypeNotStandalone(item.getJsonTypeName()));\n            }\n        }\n        else {\n            throw new Error(strings_1.Strings.errors.elementAlreadyParented());\n        }\n    };\n    Container.prototype.getItemsCollectionPropertyName = function () {\n        return \"items\";\n    };\n    Container.prototype.applyBackground = function () {\n        if (this.backgroundImage.isValid() && this.renderedElement) {\n            this.backgroundImage.apply(this);\n        }\n        _super.prototype.applyBackground.call(this);\n    };\n    Container.prototype.applyRTL = function (element) {\n        if (this.rtl !== undefined) {\n            element.dir = this.rtl ? \"rtl\" : \"ltr\";\n        }\n    };\n    Container.prototype.internalRender = function () {\n        this._renderedItems = [];\n        // Cache hostConfig to avoid walking the parent hierarchy several times\n        var hostConfig = this.hostConfig;\n        var element = document.createElement(\"div\");\n        this.applyRTL(element);\n        element.classList.add(hostConfig.makeCssClassName(\"ac-container\"));\n        element.style.display = \"flex\";\n        element.style.flexDirection = \"column\";\n        if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            element.style.minHeight = \"-webkit-min-content\";\n        }\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Center:\n                element.style.justifyContent = \"center\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                element.style.justifyContent = \"flex-end\";\n                break;\n            default:\n                element.style.justifyContent = \"flex-start\";\n                break;\n        }\n        if (this._items.length > 0) {\n            for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var renderedItem = this.isElementAllowed(item) ? item.render() : undefined;\n                if (renderedItem) {\n                    if (this._renderedItems.length > 0 && item.separatorElement) {\n                        item.separatorElement.style.flex = \"0 0 auto\";\n                        Utils.appendChild(element, item.separatorElement);\n                    }\n                    Utils.appendChild(element, renderedItem);\n                    this._renderedItems.push(item);\n                }\n            }\n        }\n        else {\n            if (this.isDesignMode()) {\n                var placeholderElement = this.createPlaceholderElement();\n                placeholderElement.style.width = \"100%\";\n                placeholderElement.style.height = \"100%\";\n                element.appendChild(placeholderElement);\n            }\n        }\n        return element;\n    };\n    Container.prototype.truncateOverflow = function (maxHeight) {\n        if (this.renderedElement) {\n            // Add 1 to account for rounding differences between browsers\n            var boundary_1 = this.renderedElement.offsetTop + maxHeight + 1;\n            var handleElement_1 = function (cardElement) {\n                var elt = cardElement.renderedElement;\n                if (elt) {\n                    switch (Utils.getFitStatus(elt, boundary_1)) {\n                        case Enums.ContainerFitStatus.FullyInContainer:\n                            var sizeChanged = cardElement[\"resetOverflow\"]();\n                            // If the element's size changed after resetting content,\n                            // we have to check if it still fits fully in the card\n                            if (sizeChanged) {\n                                handleElement_1(cardElement);\n                            }\n                            break;\n                        case Enums.ContainerFitStatus.Overflowing:\n                            var containerMaxHeight = boundary_1 - elt.offsetTop;\n                            cardElement[\"handleOverflow\"](containerMaxHeight);\n                            break;\n                        case Enums.ContainerFitStatus.FullyOutOfContainer:\n                            cardElement[\"handleOverflow\"](0);\n                            break;\n                    }\n                }\n            };\n            for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                handleElement_1(item);\n            }\n            return true;\n        }\n        return false;\n    };\n    Container.prototype.undoOverflowTruncation = function () {\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            item[\"resetOverflow\"]();\n        }\n    };\n    Container.prototype.getHasBackground = function (ignoreBackgroundImages) {\n        if (ignoreBackgroundImages === void 0) { ignoreBackgroundImages = false; }\n        var result = ignoreBackgroundImages ? false : this.backgroundImage.isValid();\n        return result || _super.prototype.getHasBackground.call(this, ignoreBackgroundImages);\n    };\n    Container.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this.clear();\n        this.setShouldFallback(false);\n        var jsonItems = source[this.getItemsCollectionPropertyName()];\n        if (Array.isArray(jsonItems)) {\n            for (var _i = 0, jsonItems_1 = jsonItems; _i < jsonItems_1.length; _i++) {\n                var item = jsonItems_1[_i];\n                var element = context.parseElement(this, item, this.forbiddenChildElements(), !this.isDesignMode());\n                if (element) {\n                    this.insertItemAt(element, -1, true);\n                }\n            }\n        }\n    };\n    Container.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        var collectionPropertyName = this.getItemsCollectionPropertyName();\n        context.serializeArray(target, collectionPropertyName, this._items);\n    };\n    Object.defineProperty(Container.prototype, \"isSelectable\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Container.prototype.getEffectivePadding = function () {\n        if (shared_1.GlobalSettings.removePaddingFromContainersWithBackgroundImage &&\n            !this.getHasBackground(true)) {\n            return new shared_1.PaddingDefinition();\n        }\n        return _super.prototype.getEffectivePadding.call(this);\n    };\n    Container.prototype.getEffectiveVerticalContentAlignment = function () {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n        var parentContainer = this.getParentContainer();\n        return parentContainer\n            ? parentContainer.getEffectiveVerticalContentAlignment()\n            : Enums.VerticalAlignment.Top;\n    };\n    Container.prototype.getItemCount = function () {\n        return this._items.length;\n    };\n    Container.prototype.getItemAt = function (index) {\n        return this._items[index];\n    };\n    Container.prototype.getFirstVisibleRenderedItem = function () {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (var _i = 0, _a = this._renderedItems; _i < _a.length; _i++) {\n                var item = _a[_i];\n                if (item.isVisible) {\n                    return item;\n                }\n            }\n        }\n        return undefined;\n    };\n    Container.prototype.getLastVisibleRenderedItem = function () {\n        if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n            for (var i = this._renderedItems.length - 1; i >= 0; i--) {\n                if (this._renderedItems[i].isVisible) {\n                    return this._renderedItems[i];\n                }\n            }\n        }\n        return undefined;\n    };\n    Container.prototype.getJsonTypeName = function () {\n        return \"Container\";\n    };\n    Container.prototype.isFirstElement = function (element) {\n        var designMode = this.isDesignMode();\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (item.isVisible || designMode) {\n                return item === element;\n            }\n        }\n        return false;\n    };\n    Container.prototype.isLastElement = function (element) {\n        var designMode = this.isDesignMode();\n        for (var i = this._items.length - 1; i >= 0; i--) {\n            if (this._items[i].isVisible || designMode) {\n                return this._items[i] === element;\n            }\n        }\n        return false;\n    };\n    Container.prototype.isRtl = function () {\n        if (this.rtl !== undefined) {\n            return this.rtl;\n        }\n        else {\n            var parentContainer = this.getParentContainer();\n            return parentContainer ? parentContainer.isRtl() : false;\n        }\n    };\n    Container.prototype.isBleedingAtTop = function () {\n        var firstRenderedItem = this.getFirstVisibleRenderedItem();\n        return (this.isBleeding() || (firstRenderedItem ? firstRenderedItem.isBleedingAtTop() : false));\n    };\n    Container.prototype.isBleedingAtBottom = function () {\n        var lastRenderedItem = this.getLastVisibleRenderedItem();\n        return (this.isBleeding() ||\n            (lastRenderedItem\n                ? lastRenderedItem.isBleedingAtBottom() &&\n                    lastRenderedItem.getEffectiveStyle() === this.getEffectiveStyle()\n                : false));\n    };\n    Container.prototype.indexOf = function (cardElement) {\n        return this._items.indexOf(cardElement);\n    };\n    Container.prototype.addItem = function (item) {\n        this.insertItemAt(item, -1, false);\n    };\n    Container.prototype.insertItemBefore = function (item, insertBefore) {\n        this.insertItemAt(item, this._items.indexOf(insertBefore), false);\n    };\n    Container.prototype.insertItemAfter = function (item, insertAfter) {\n        this.insertItemAt(item, this._items.indexOf(insertAfter) + 1, false);\n    };\n    Container.prototype.removeItem = function (item) {\n        var itemIndex = this._items.indexOf(item);\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n            item.setParent(undefined);\n            this.updateLayout();\n            return true;\n        }\n        return false;\n    };\n    Container.prototype.clear = function () {\n        this._items = [];\n        this._renderedItems = [];\n    };\n    Container.prototype.getResourceInformation = function () {\n        var result = _super.prototype.getResourceInformation.call(this);\n        if (this.backgroundImage.isValid()) {\n            result.push({\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion -- validated by `isValid()`\n                url: this.backgroundImage.url,\n                mimeType: \"image\"\n            });\n        }\n        return result;\n    };\n    Container.prototype.getActionById = function (id) {\n        var result = _super.prototype.getActionById.call(this, id);\n        if (!result) {\n            if (this.selectAction) {\n                result = this.selectAction.getActionById(id);\n            }\n            if (!result) {\n                for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    result = item.getActionById(id);\n                    if (result) {\n                        break;\n                    }\n                }\n            }\n        }\n        return result;\n    };\n    Object.defineProperty(Container.prototype, \"padding\", {\n        get: function () {\n            return this.getPadding();\n        },\n        set: function (value) {\n            this.setPadding(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Container.prototype, \"selectAction\", {\n        get: function () {\n            return this._selectAction;\n        },\n        set: function (value) {\n            this._selectAction = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Container.prototype, \"bleed\", {\n        get: function () {\n            return this.getBleed();\n        },\n        set: function (value) {\n            this.setBleed(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    Container.backgroundImageProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_0, \"backgroundImage\", BackgroundImage);\n    Container.verticalContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_1, \"verticalContentAlignment\", Enums.VerticalAlignment);\n    Container.rtlProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"rtl\");\n    __decorate([\n        (0, serialization_1.property)(Container.backgroundImageProperty)\n    ], Container.prototype, \"backgroundImage\", null);\n    __decorate([\n        (0, serialization_1.property)(Container.verticalContentAlignmentProperty)\n    ], Container.prototype, \"verticalContentAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Container.rtlProperty)\n    ], Container.prototype, \"rtl\", void 0);\n    return Container;\n}(ContainerBase));\nexports.Container = Container;\nvar Column = /** @class */ (function (_super) {\n    __extends(Column, _super);\n    function Column(width) {\n        if (width === void 0) { width = \"stretch\"; }\n        var _this = _super.call(this) || this;\n        _this.width = \"stretch\";\n        //#endregion\n        _this._computedWeight = 0;\n        _this.width = width;\n        return _this;\n    }\n    Column.prototype.adjustRenderedElementSize = function (renderedElement) {\n        var minDesignTimeColumnHeight = 20;\n        if (this.isDesignMode()) {\n            renderedElement.style.minWidth = \"20px\";\n            renderedElement.style.minHeight =\n                (!this.minPixelHeight\n                    ? minDesignTimeColumnHeight\n                    : Math.max(this.minPixelHeight, minDesignTimeColumnHeight)) + \"px\";\n        }\n        else {\n            renderedElement.style.minWidth = \"0\";\n            if (this.minPixelHeight) {\n                renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n            }\n        }\n        if (this.width === \"auto\") {\n            renderedElement.style.flex = \"0 1 auto\";\n        }\n        else if (this.width === \"stretch\") {\n            renderedElement.style.flex = \"1 1 50px\";\n        }\n        else if (this.width instanceof shared_1.SizeAndUnit) {\n            if (this.width.unit === Enums.SizeUnit.Pixel) {\n                renderedElement.style.flex = \"0 0 auto\";\n                renderedElement.style.width = this.width.physicalSize + \"px\";\n            }\n            else {\n                renderedElement.style.flex =\n                    \"1 1 \" +\n                        (this._computedWeight > 0 ? this._computedWeight : this.width.physicalSize) +\n                        \"%\";\n            }\n        }\n    };\n    Column.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    Object.defineProperty(Column.prototype, \"separatorOrientation\", {\n        get: function () {\n            return Enums.Orientation.Vertical;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Column.prototype.getJsonTypeName = function () {\n        return \"Column\";\n    };\n    Object.defineProperty(Column.prototype, \"hasVisibleSeparator\", {\n        get: function () {\n            if (this.parent && this.parent instanceof ColumnSet) {\n                return this.separatorElement !== undefined && !this.parent.isLeftMostElement(this);\n            }\n            else {\n                return false;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Column.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    Column.widthProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_0, \"width\", function (sender, prop, source, context) {\n        var result = prop.defaultValue;\n        var value = source[prop.name];\n        var invalidWidth = false;\n        if (typeof value === \"number\" && !isNaN(value)) {\n            result = new shared_1.SizeAndUnit(value, Enums.SizeUnit.Weight);\n        }\n        else if (value === \"auto\" || value === \"stretch\") {\n            result = value;\n        }\n        else if (typeof value === \"string\") {\n            try {\n                result = shared_1.SizeAndUnit.parse(value);\n                if (result.unit === Enums.SizeUnit.Pixel &&\n                    prop.targetVersion.compareTo(context.targetVersion) > 0) {\n                    invalidWidth = true;\n                }\n            }\n            catch (e) {\n                invalidWidth = true;\n            }\n        }\n        else {\n            invalidWidth = true;\n        }\n        if (invalidWidth) {\n            context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidColumnWidth(value));\n            result = \"auto\";\n        }\n        return result;\n    }, function (sender, property, target, value, context) {\n        if (value instanceof shared_1.SizeAndUnit) {\n            if (value.unit === Enums.SizeUnit.Pixel) {\n                context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n            }\n            else {\n                context.serializeNumber(target, \"width\", value.physicalSize);\n            }\n        }\n        else {\n            context.serializeValue(target, \"width\", value);\n        }\n    }, \"stretch\");\n    __decorate([\n        (0, serialization_1.property)(Column.widthProperty)\n    ], Column.prototype, \"width\", void 0);\n    return Column;\n}(Container));\nexports.Column = Column;\nvar ColumnSet = /** @class */ (function (_super) {\n    __extends(ColumnSet, _super);\n    function ColumnSet() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._columns = [];\n        return _this;\n    }\n    ColumnSet.prototype.createColumnInstance = function (source, context) {\n        return context.parseCardObject(this, source, [], !this.isDesignMode(), function (typeName) {\n            return !typeName || typeName === \"Column\" ? new Column() : undefined;\n        }, function (typeName, _errorType) {\n            context.logParseEvent(undefined, Enums.ValidationEvent.ElementTypeNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(typeName));\n        });\n    };\n    ColumnSet.prototype.internalRender = function () {\n        this._renderedColumns = [];\n        if (this._columns.length > 0) {\n            // Cache hostConfig to avoid walking the parent hierarchy several times\n            var hostConfig = this.hostConfig;\n            var element = document.createElement(\"div\");\n            element.className = hostConfig.makeCssClassName(\"ac-columnSet\");\n            element.style.display = \"flex\";\n            if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n                // See comment in Container.internalRender()\n                element.style.minHeight = \"-webkit-min-content\";\n            }\n            switch (this.getEffectiveHorizontalAlignment()) {\n                case Enums.HorizontalAlignment.Center:\n                    element.style.justifyContent = \"center\";\n                    break;\n                case Enums.HorizontalAlignment.Right:\n                    element.style.justifyContent = \"flex-end\";\n                    break;\n                default:\n                    element.style.justifyContent = \"flex-start\";\n                    break;\n            }\n            var totalWeight = 0;\n            for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column.width instanceof shared_1.SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight) {\n                    totalWeight += column.width.physicalSize;\n                }\n            }\n            for (var _b = 0, _c = this._columns; _b < _c.length; _b++) {\n                var column = _c[_b];\n                if (column.width instanceof shared_1.SizeAndUnit &&\n                    column.width.unit === Enums.SizeUnit.Weight &&\n                    totalWeight > 0) {\n                    var computedWeight = (100 / totalWeight) * column.width.physicalSize;\n                    // Best way to emulate \"internal\" access I know of\n                    column[\"_computedWeight\"] = computedWeight;\n                }\n                var renderedColumn = column.render();\n                if (renderedColumn) {\n                    if (this._renderedColumns.length > 0 && column.separatorElement) {\n                        column.separatorElement.style.flex = \"0 0 auto\";\n                        Utils.appendChild(element, column.separatorElement);\n                    }\n                    Utils.appendChild(element, renderedColumn);\n                    this._renderedColumns.push(column);\n                }\n            }\n            return this._renderedColumns.length > 0 ? element : undefined;\n        }\n        else {\n            return undefined;\n        }\n    };\n    ColumnSet.prototype.truncateOverflow = function (maxHeight) {\n        for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            column[\"handleOverflow\"](maxHeight);\n        }\n        return true;\n    };\n    ColumnSet.prototype.undoOverflowTruncation = function () {\n        for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            column[\"resetOverflow\"]();\n        }\n    };\n    Object.defineProperty(ColumnSet.prototype, \"isSelectable\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ColumnSet.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this._columns = [];\n        this._renderedColumns = [];\n        var jsonColumns = source[\"columns\"];\n        if (Array.isArray(jsonColumns)) {\n            for (var _i = 0, jsonColumns_1 = jsonColumns; _i < jsonColumns_1.length; _i++) {\n                var item = jsonColumns_1[_i];\n                var column = this.createColumnInstance(item, context);\n                if (column) {\n                    this._columns.push(column);\n                }\n            }\n        }\n    };\n    ColumnSet.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        context.serializeArray(target, \"columns\", this._columns);\n    };\n    ColumnSet.prototype.isFirstElement = function (element) {\n        for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            if (column.isVisible) {\n                return column === element;\n            }\n        }\n        return false;\n    };\n    ColumnSet.prototype.isBleedingAtTop = function () {\n        if (this.isBleeding()) {\n            return true;\n        }\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column.isBleedingAtTop()) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    ColumnSet.prototype.isBleedingAtBottom = function () {\n        if (this.isBleeding()) {\n            return true;\n        }\n        if (this._renderedColumns && this._renderedColumns.length > 0) {\n            for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column.isBleedingAtBottom()) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    ColumnSet.prototype.getItemCount = function () {\n        return this._columns.length;\n    };\n    ColumnSet.prototype.getFirstVisibleRenderedItem = function () {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[0];\n        }\n        else {\n            return undefined;\n        }\n    };\n    ColumnSet.prototype.getLastVisibleRenderedItem = function () {\n        if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n            return this._renderedColumns[this._renderedColumns.length - 1];\n        }\n        else {\n            return undefined;\n        }\n    };\n    ColumnSet.prototype.getColumnAt = function (index) {\n        return this._columns[index];\n    };\n    ColumnSet.prototype.getItemAt = function (index) {\n        return this.getColumnAt(index);\n    };\n    ColumnSet.prototype.getJsonTypeName = function () {\n        return \"ColumnSet\";\n    };\n    ColumnSet.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        var weightedColumns = 0;\n        var stretchedColumns = 0;\n        for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            if (typeof column.width === \"number\") {\n                weightedColumns++;\n            }\n            else if (column.width === \"stretch\") {\n                stretchedColumns++;\n            }\n        }\n        if (weightedColumns > 0 && stretchedColumns > 0) {\n            context.addFailure(this, Enums.ValidationEvent.Hint, strings_1.Strings.hints.dontUseWeightedAndStrecthedColumnsInSameSet());\n        }\n    };\n    ColumnSet.prototype.addColumn = function (column) {\n        if (!column.parent) {\n            this._columns.push(column);\n            column.setParent(this);\n        }\n        else {\n            throw new Error(strings_1.Strings.errors.columnAlreadyBelongsToAnotherSet());\n        }\n    };\n    ColumnSet.prototype.removeItem = function (item) {\n        if (item instanceof Column) {\n            var itemIndex = this._columns.indexOf(item);\n            if (itemIndex >= 0) {\n                this._columns.splice(itemIndex, 1);\n                item.setParent(undefined);\n                this.updateLayout();\n                return true;\n            }\n        }\n        return false;\n    };\n    ColumnSet.prototype.indexOf = function (cardElement) {\n        return cardElement instanceof Column ? this._columns.indexOf(cardElement) : -1;\n    };\n    ColumnSet.prototype.isLeftMostElement = function (element) {\n        return this._columns.indexOf(element) === 0;\n    };\n    ColumnSet.prototype.isRightMostElement = function (element) {\n        return this._columns.indexOf(element) === this._columns.length - 1;\n    };\n    ColumnSet.prototype.isTopElement = function (element) {\n        return this._columns.indexOf(element) >= 0;\n    };\n    ColumnSet.prototype.isBottomElement = function (element) {\n        return this._columns.indexOf(element) >= 0;\n    };\n    ColumnSet.prototype.getActionById = function (id) {\n        var result = undefined;\n        for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            result = column.getActionById(id);\n            if (result) {\n                break;\n            }\n        }\n        return result;\n    };\n    Object.defineProperty(ColumnSet.prototype, \"bleed\", {\n        get: function () {\n            return this.getBleed();\n        },\n        set: function (value) {\n            this.setBleed(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ColumnSet.prototype, \"padding\", {\n        get: function () {\n            return this.getPadding();\n        },\n        set: function (value) {\n            this.setPadding(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ColumnSet.prototype, \"selectAction\", {\n        get: function () {\n            return this._selectAction;\n        },\n        set: function (value) {\n            this._selectAction = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ColumnSet;\n}(ContainerBase));\nexports.ColumnSet = ColumnSet;\nfunction raiseImageLoadedEvent(image) {\n    var card = image.getRootElement();\n    var onImageLoadedHandler = card && card.onImageLoaded ? card.onImageLoaded : AdaptiveCard.onImageLoaded;\n    if (onImageLoadedHandler) {\n        onImageLoadedHandler(image);\n    }\n}\nfunction raiseAnchorClickedEvent(element, anchor, ev) {\n    var card = element.getRootElement();\n    var onAnchorClickedHandler = card && card.onAnchorClicked ? card.onAnchorClicked : AdaptiveCard.onAnchorClicked;\n    return onAnchorClickedHandler !== undefined\n        ? onAnchorClickedHandler(element, anchor, ev)\n        : false;\n}\nfunction raiseExecuteActionEvent(action) {\n    var card = action.parent ? action.parent.getRootElement() : undefined;\n    var onExecuteActionHandler = card && card.onExecuteAction ? card.onExecuteAction : AdaptiveCard.onExecuteAction;\n    if (action.prepareForExecution() && onExecuteActionHandler) {\n        onExecuteActionHandler(action);\n    }\n}\nfunction raiseInlineCardExpandedEvent(action, isExpanded) {\n    var card = action.parent ? action.parent.getRootElement() : undefined;\n    var onInlineCardExpandedHandler = card && card.onInlineCardExpanded\n        ? card.onInlineCardExpanded\n        : AdaptiveCard.onInlineCardExpanded;\n    if (onInlineCardExpandedHandler) {\n        onInlineCardExpandedHandler(action, isExpanded);\n    }\n}\nfunction raiseInputValueChangedEvent(input) {\n    var card = input.getRootElement();\n    var onInputValueChangedHandler = card && card.onInputValueChanged\n        ? card.onInputValueChanged\n        : AdaptiveCard.onInputValueChanged;\n    if (onInputValueChangedHandler) {\n        onInputValueChangedHandler(input);\n    }\n}\nfunction raiseElementVisibilityChangedEvent(element, shouldUpdateLayout) {\n    if (shouldUpdateLayout === void 0) { shouldUpdateLayout = true; }\n    var rootElement = element.getRootElement();\n    if (shouldUpdateLayout) {\n        rootElement.updateLayout();\n    }\n    var card = rootElement;\n    var onElementVisibilityChangedHandler = card && card.onElementVisibilityChanged\n        ? card.onElementVisibilityChanged\n        : AdaptiveCard.onElementVisibilityChanged;\n    if (onElementVisibilityChangedHandler !== undefined) {\n        onElementVisibilityChangedHandler(element);\n    }\n}\nfunction updateInputAdornersVisibility(input, hide) {\n    if (!!hide) {\n        // hides the time/date picker icon\n        input.readOnly = true;\n        // hides the cross button icon\n        input.required = true;\n    }\n    else {\n        // shows the time/date picker icon\n        input.readOnly = false;\n        // shows the cross button icon\n        input.required = false;\n    }\n}\nfunction shouldHideInputAdornersForRevealOnHover(input, eventType) {\n    // show/hide input adorners (date picker, time picker, select dropdown picker) with inputStyle RevealOnHover\n    // 1. intial render of card: hide input adorners\n    // 2. mouse hover on the card: show input adorners\n    // 3. mouse hover outside the card: hide input adorners unless input is still in focus state\n    // 4. input loses focus: hide the input adorners unless mouse is still hovering on the card\n    // check if input still has the focus\n    var isInputInFocus = input === document.activeElement;\n    // check if mouse is still on the card\n    var isMouseOverCard = input.classList.contains(\"ac-inputStyle-revealOnHover-onhover\");\n    var hideInputAdorners = (eventType === InputEventType.InitialRender) ||\n        (eventType === InputEventType.FocusLeave && !isMouseOverCard) ||\n        (eventType === InputEventType.MouseLeaveOnCard && !isInputInFocus);\n    return hideInputAdorners;\n}\n/**\n * @returns return false to continue with default context menu; return true to skip SDK default context menu\n */\nfunction raiseDisplayOverflowActionMenuEvent(action, target) {\n    var card = action.parent ? action.parent.getRootElement() : undefined;\n    var onDisplayOverflowActionMenuHandler = card && card.onDisplayOverflowActionMenu\n        ? card.onDisplayOverflowActionMenu\n        : AdaptiveCard.onDisplayOverflowActionMenu;\n    return onDisplayOverflowActionMenuHandler !== undefined\n        ? onDisplayOverflowActionMenuHandler(action.getActions(), target)\n        : false;\n}\n/**\n * @returns return false to continue with default action button; return true to skip SDK default action button\n */\nfunction raiseRenderOverflowActionsEvent(action, isAtRootLevelActions) {\n    var card = action.parent ? action.parent.getRootElement() : undefined;\n    var onRenderOverflowActionsHandler = card && card.onRenderOverflowActions\n        ? card.onRenderOverflowActions\n        : AdaptiveCard.onRenderOverflowActions;\n    return onRenderOverflowActionsHandler !== undefined\n        ? onRenderOverflowActionsHandler(action.getActions(), isAtRootLevelActions)\n        : false;\n}\nvar ContainerWithActions = /** @class */ (function (_super) {\n    __extends(ContainerWithActions, _super);\n    function ContainerWithActions() {\n        var _this = _super.call(this) || this;\n        _this._actionCollection = new ActionCollection(_this);\n        return _this;\n    }\n    ContainerWithActions.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this.parseActions(source, context);\n    };\n    ContainerWithActions.prototype.parseActions = function (source, context) {\n        this._actionCollection.parse(source[\"actions\"], context);\n    };\n    ContainerWithActions.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        this._actionCollection.toJSON(target, \"actions\", context);\n    };\n    ContainerWithActions.prototype.internalRender = function () {\n        var element = _super.prototype.internalRender.call(this);\n        if (element) {\n            var renderedActions = this._actionCollection.render(this.hostConfig.actions.actionsOrientation);\n            if (renderedActions) {\n                Utils.appendChild(element, renderSeparation(this.hostConfig, {\n                    spacing: this.hostConfig.getEffectiveSpacing(this.hostConfig.actions.spacing)\n                }, Enums.Orientation.Horizontal));\n                Utils.appendChild(element, renderedActions);\n            }\n            if (this.renderIfEmpty) {\n                return element;\n            }\n            else {\n                return element.children.length > 0 ? element : undefined;\n            }\n        }\n        else {\n            return undefined;\n        }\n    };\n    ContainerWithActions.prototype.getHasExpandedAction = function () {\n        if (this.renderedActionCount === 0) {\n            return false;\n        }\n        else if (this.renderedActionCount === 1) {\n            return (this._actionCollection.expandedAction !== undefined &&\n                !this.hostConfig.actions.preExpandSingleShowCardAction);\n        }\n        else {\n            return this._actionCollection.expandedAction !== undefined;\n        }\n    };\n    Object.defineProperty(ContainerWithActions.prototype, \"renderedActionCount\", {\n        get: function () {\n            return this._actionCollection.renderedActionCount;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContainerWithActions.prototype, \"renderIfEmpty\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ContainerWithActions.prototype.releaseDOMResources = function () {\n        _super.prototype.releaseDOMResources.call(this);\n        this._actionCollection.releaseDOMResources();\n    };\n    ContainerWithActions.prototype.getActionCount = function () {\n        return this._actionCollection.getActionCount();\n    };\n    ContainerWithActions.prototype.getActionAt = function (index) {\n        if (index >= 0 && index < this.getActionCount()) {\n            return this._actionCollection.getActionAt(index);\n        }\n        else {\n            return _super.prototype.getActionAt.call(this, index);\n        }\n    };\n    ContainerWithActions.prototype.getActionById = function (id) {\n        var result = this._actionCollection.getActionById(id);\n        return result ? result : _super.prototype.getActionById.call(this, id);\n    };\n    ContainerWithActions.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (this._actionCollection) {\n            this._actionCollection.validateProperties(context);\n        }\n    };\n    ContainerWithActions.prototype.isLastElement = function (element) {\n        return _super.prototype.isLastElement.call(this, element) && this._actionCollection.getActionCount() === 0;\n    };\n    ContainerWithActions.prototype.addAction = function (action) {\n        this._actionCollection.addAction(action);\n    };\n    ContainerWithActions.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this._actionCollection.clear();\n    };\n    ContainerWithActions.prototype.getAllInputs = function (processActions) {\n        if (processActions === void 0) { processActions = true; }\n        var result = _super.prototype.getAllInputs.call(this, processActions);\n        if (processActions) {\n            result.push.apply(result, this._actionCollection.getAllInputs(processActions));\n        }\n        return result;\n    };\n    ContainerWithActions.prototype.getResourceInformation = function () {\n        var result = _super.prototype.getResourceInformation.call(this);\n        result.push.apply(result, this._actionCollection.getResourceInformation());\n        return result;\n    };\n    ContainerWithActions.prototype.isBleedingAtBottom = function () {\n        if (this._actionCollection.renderedActionCount === 0) {\n            return _super.prototype.isBleedingAtBottom.call(this);\n        }\n        else {\n            if (this._actionCollection.getActionCount() === 1) {\n                return (this._actionCollection.expandedAction !== undefined &&\n                    !this.hostConfig.actions.preExpandSingleShowCardAction);\n            }\n            else {\n                return this._actionCollection.expandedAction !== undefined;\n            }\n        }\n    };\n    ContainerWithActions.prototype.getForbiddenActionNames = function () {\n        return [];\n    };\n    ContainerWithActions.prototype.getElementById = function (id) {\n        var result = _super.prototype.getElementById.call(this, id);\n        if (!result) {\n            result = this.getElementByIdFromAction(id);\n        }\n        return result;\n    };\n    Object.defineProperty(ContainerWithActions.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ContainerWithActions;\n}(Container));\nexports.ContainerWithActions = ContainerWithActions;\nvar RefreshActionProperty = /** @class */ (function (_super) {\n    __extends(RefreshActionProperty, _super);\n    function RefreshActionProperty(targetVersion, name) {\n        var _this = _super.call(this, targetVersion, name, undefined) || this;\n        _this.targetVersion = targetVersion;\n        _this.name = name;\n        return _this;\n    }\n    RefreshActionProperty.prototype.parse = function (sender, source, context) {\n        var action = context.parseAction(sender.parent, source[this.name], [], false);\n        if (action !== undefined) {\n            if (action instanceof ExecuteAction) {\n                return action;\n            }\n            context.logParseEvent(sender, Enums.ValidationEvent.ActionTypeNotAllowed, strings_1.Strings.errors.actionTypeNotAllowed(action.getJsonTypeName()));\n        }\n        context.logParseEvent(sender, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"action\"));\n        return undefined;\n    };\n    RefreshActionProperty.prototype.toJSON = function (sender, target, value, context) {\n        context.serializeValue(target, this.name, value ? value.toJSON(context) : undefined, undefined, true);\n    };\n    return RefreshActionProperty;\n}(serialization_1.PropertyDefinition));\nexports.RefreshActionProperty = RefreshActionProperty;\nvar RefreshDefinition = /** @class */ (function (_super) {\n    __extends(RefreshDefinition, _super);\n    function RefreshDefinition() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(RefreshDefinition.prototype, \"action\", {\n        get: function () {\n            return this.getValue(RefreshDefinition.actionProperty);\n        },\n        set: function (value) {\n            this.setValue(RefreshDefinition.actionProperty, value);\n            if (value) {\n                value.setParent(this.parent);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RefreshDefinition.prototype.getSchemaKey = function () {\n        return \"RefreshDefinition\";\n    };\n    //#region Schema\n    RefreshDefinition.actionProperty = new RefreshActionProperty(serialization_1.Versions.v1_4, \"action\");\n    RefreshDefinition.userIdsProperty = new serialization_1.StringArrayProperty(serialization_1.Versions.v1_4, \"userIds\");\n    __decorate([\n        (0, serialization_1.property)(RefreshDefinition.actionProperty)\n    ], RefreshDefinition.prototype, \"action\", null);\n    __decorate([\n        (0, serialization_1.property)(RefreshDefinition.userIdsProperty)\n    ], RefreshDefinition.prototype, \"userIds\", void 0);\n    return RefreshDefinition;\n}(serialization_1.SerializableObject));\nexports.RefreshDefinition = RefreshDefinition;\nvar AuthCardButton = /** @class */ (function (_super) {\n    __extends(AuthCardButton, _super);\n    function AuthCardButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AuthCardButton.prototype.getSchemaKey = function () {\n        return \"AuthCardButton\";\n    };\n    //#region Schema\n    AuthCardButton.typeProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"type\");\n    AuthCardButton.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"title\");\n    AuthCardButton.imageProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"image\");\n    AuthCardButton.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"value\");\n    __decorate([\n        (0, serialization_1.property)(AuthCardButton.typeProperty)\n    ], AuthCardButton.prototype, \"type\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AuthCardButton.titleProperty)\n    ], AuthCardButton.prototype, \"title\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AuthCardButton.imageProperty)\n    ], AuthCardButton.prototype, \"image\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AuthCardButton.valueProperty)\n    ], AuthCardButton.prototype, \"value\", void 0);\n    return AuthCardButton;\n}(serialization_1.SerializableObject));\nexports.AuthCardButton = AuthCardButton;\nvar TokenExchangeResource = /** @class */ (function (_super) {\n    __extends(TokenExchangeResource, _super);\n    function TokenExchangeResource() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TokenExchangeResource.prototype.getSchemaKey = function () {\n        return \"TokenExchangeResource\";\n    };\n    //#region Schema\n    TokenExchangeResource.idProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"id\");\n    TokenExchangeResource.uriProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"uri\");\n    TokenExchangeResource.providerIdProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"providerId\");\n    __decorate([\n        (0, serialization_1.property)(TokenExchangeResource.idProperty)\n    ], TokenExchangeResource.prototype, \"id\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TokenExchangeResource.uriProperty)\n    ], TokenExchangeResource.prototype, \"uri\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TokenExchangeResource.providerIdProperty)\n    ], TokenExchangeResource.prototype, \"providerId\", void 0);\n    return TokenExchangeResource;\n}(serialization_1.SerializableObject));\nexports.TokenExchangeResource = TokenExchangeResource;\nvar Authentication = /** @class */ (function (_super) {\n    __extends(Authentication, _super);\n    function Authentication() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Authentication.prototype.getSchemaKey = function () {\n        return \"Authentication\";\n    };\n    //#region Schema\n    Authentication.textProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"text\");\n    Authentication.connectionNameProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"connectionName\");\n    Authentication.buttonsProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_4, \"buttons\", AuthCardButton);\n    Authentication.tokenExchangeResourceProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_4, \"tokenExchangeResource\", TokenExchangeResource, true);\n    __decorate([\n        (0, serialization_1.property)(Authentication.textProperty)\n    ], Authentication.prototype, \"text\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Authentication.connectionNameProperty)\n    ], Authentication.prototype, \"connectionName\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Authentication.buttonsProperty)\n    ], Authentication.prototype, \"buttons\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Authentication.tokenExchangeResourceProperty)\n    ], Authentication.prototype, \"tokenExchangeResource\", void 0);\n    return Authentication;\n}(serialization_1.SerializableObject));\nexports.Authentication = Authentication;\n// @dynamic\nvar AdaptiveCard = /** @class */ (function (_super) {\n    __extends(AdaptiveCard, _super);\n    function AdaptiveCard() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.designMode = false;\n        return _this;\n    }\n    Object.defineProperty(AdaptiveCard.prototype, \"refresh\", {\n        get: function () {\n            return this.getValue(AdaptiveCard.refreshProperty);\n        },\n        set: function (value) {\n            this.setValue(AdaptiveCard.refreshProperty, value);\n            if (value) {\n                value.parent = this;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AdaptiveCard, \"processMarkdown\", {\n        get: function () {\n            throw new Error(strings_1.Strings.errors.processMarkdownEventRemoved());\n        },\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        set: function (_value) {\n            throw new Error(strings_1.Strings.errors.processMarkdownEventRemoved());\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AdaptiveCard.applyMarkdown = function (text) {\n        var result = {\n            didProcess: false\n        };\n        if (AdaptiveCard.onProcessMarkdown) {\n            AdaptiveCard.onProcessMarkdown(text, result);\n        }\n        else if (window.markdownit) {\n            // Check for markdownit\n            var markdownIt = window.markdownit;\n            result.outputHtml = markdownIt().render(text);\n            result.didProcess = true;\n        }\n        else if (!AdaptiveCard._haveWarnedAboutNoMarkdownProcessing) {\n            // eslint-disable-next-line no-console\n            console.warn(strings_1.Strings.errors.markdownProcessingNotEnabled);\n            AdaptiveCard._haveWarnedAboutNoMarkdownProcessing = true;\n        }\n        return result;\n    };\n    AdaptiveCard.prototype.isVersionSupported = function () {\n        if (this.bypassVersionCheck) {\n            return true;\n        }\n        else {\n            var unsupportedVersion = !this.version ||\n                !this.version.isValid ||\n                this.maxVersion.major < this.version.major ||\n                (this.maxVersion.major === this.version.major &&\n                    this.maxVersion.minor < this.version.minor);\n            return !unsupportedVersion;\n        }\n    };\n    AdaptiveCard.prototype.getDefaultSerializationContext = function () {\n        return new SerializationContext(this.version);\n    };\n    AdaptiveCard.prototype.getItemsCollectionPropertyName = function () {\n        return \"body\";\n    };\n    AdaptiveCard.prototype.internalParse = function (source, context) {\n        this._fallbackCard = undefined;\n        var fallbackElement = context.parseElement(undefined, source[\"fallback\"], this.forbiddenChildElements(), !this.isDesignMode());\n        if (fallbackElement) {\n            this._fallbackCard = new AdaptiveCard();\n            this._fallbackCard.addItem(fallbackElement);\n        }\n        _super.prototype.internalParse.call(this, source, context);\n    };\n    AdaptiveCard.prototype.internalToJSON = function (target, context) {\n        this.setValue(AdaptiveCard.versionProperty, context.targetVersion);\n        _super.prototype.internalToJSON.call(this, target, context);\n    };\n    AdaptiveCard.prototype.internalRender = function () {\n        var renderedElement = _super.prototype.internalRender.call(this);\n        if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation && renderedElement) {\n            // Unlike containers, the root card element should be allowed to\n            // be shorter than its content (otherwise the overflow truncation\n            // logic would never get triggered)\n            renderedElement.style.removeProperty(\"minHeight\");\n        }\n        return renderedElement;\n    };\n    AdaptiveCard.prototype.getHasBackground = function (ignoreBackgroundImages) {\n        if (ignoreBackgroundImages === void 0) { ignoreBackgroundImages = false; }\n        return true;\n    };\n    AdaptiveCard.prototype.getDefaultPadding = function () {\n        return new shared_1.PaddingDefinition(Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding);\n    };\n    AdaptiveCard.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    Object.defineProperty(AdaptiveCard.prototype, \"renderIfEmpty\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AdaptiveCard.prototype, \"bypassVersionCheck\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AdaptiveCard.prototype, \"allowCustomStyle\", {\n        get: function () {\n            return this.hostConfig.adaptiveCard && this.hostConfig.adaptiveCard.allowCustomStyle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AdaptiveCard.prototype, \"hasBackground\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AdaptiveCard.prototype.getJsonTypeName = function () {\n        return \"AdaptiveCard\";\n    };\n    AdaptiveCard.prototype.internalValidateProperties = function (context) {\n        _super.prototype.internalValidateProperties.call(this, context);\n        if (this.getValue(CardElement.typeNameProperty) !== \"AdaptiveCard\") {\n            context.addFailure(this, Enums.ValidationEvent.MissingCardType, strings_1.Strings.errors.invalidCardType());\n        }\n        if (!this.bypassVersionCheck && !this.version) {\n            context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"version\"));\n        }\n        else if (!this.isVersionSupported()) {\n            context.addFailure(this, Enums.ValidationEvent.UnsupportedCardVersion, strings_1.Strings.errors.unsupportedCardVersion(this.version.toString(), this.maxVersion.toString()));\n        }\n    };\n    AdaptiveCard.prototype.render = function (target) {\n        var _this = this;\n        var renderedCard;\n        if (this.shouldFallback() && this._fallbackCard) {\n            this._fallbackCard.hostConfig = this.hostConfig;\n            renderedCard = this._fallbackCard.render();\n        }\n        else {\n            renderedCard = _super.prototype.render.call(this);\n            if (renderedCard) {\n                renderedCard.classList.add(this.hostConfig.makeCssClassName(\"ac-adaptiveCard\"));\n                // Having a tabIndex on the root container for a card can mess up accessibility in some scenarios.\n                // However, we've shipped this behavior before, and so can't just turn it off in a point release. For\n                // now, to unblock accessibility scenarios for our customers, we've got an option to turn it off. In a\n                // future release, we should strongly consider flipping the default such that we *don't* emit a tabIndex\n                // by default.\n                if (shared_1.GlobalSettings.setTabIndexAtCardRoot) {\n                    renderedCard.tabIndex = 0;\n                }\n                if (this.speak) {\n                    renderedCard.setAttribute(\"aria-label\", this.speak);\n                }\n                renderedCard.onmouseenter = function (ev) {\n                    _this.updateInputsVisualState(true /* hover */);\n                };\n                renderedCard.onmouseleave = function (ev) {\n                    _this.updateInputsVisualState(false /* hover */);\n                };\n                this.getRootElement().updateActionsEnabledState();\n            }\n        }\n        if (target) {\n            Utils.appendChild(target, renderedCard);\n            this.updateLayout();\n        }\n        return renderedCard;\n    };\n    AdaptiveCard.prototype.updateLayout = function (processChildren) {\n        if (processChildren === void 0) { processChildren = true; }\n        _super.prototype.updateLayout.call(this, processChildren);\n        if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation && this.isDisplayed()) {\n            var padding = this.hostConfig.getEffectiveSpacing(Enums.Spacing.Default);\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            this[\"handleOverflow\"](this.renderedElement.offsetHeight - padding);\n        }\n    };\n    AdaptiveCard.prototype.shouldFallback = function () {\n        return _super.prototype.shouldFallback.call(this) || !this.isVersionSupported();\n    };\n    Object.defineProperty(AdaptiveCard.prototype, \"hasVisibleSeparator\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AdaptiveCard.schemaUrl = \"http://adaptivecards.io/schemas/adaptive-card.json\";\n    //#region Schema\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    AdaptiveCard.$schemaProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_0, \"$schema\", function (sender, property, source, context) {\n        return AdaptiveCard.schemaUrl;\n    }, function (sender, prop, target, value, context) {\n        context.serializeValue(target, prop.name, AdaptiveCard.schemaUrl);\n    });\n    AdaptiveCard.versionProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_0, \"version\", function (sender, prop, source, context) {\n        var version = serialization_1.Version.parse(source[prop.name], context);\n        if (version === undefined) {\n            version = serialization_1.Versions.latest;\n            context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidCardVersion(version.toString()));\n        }\n        return version;\n    }, function (sender, prop, target, value, context) {\n        if (value !== undefined) {\n            context.serializeValue(target, prop.name, value.toString());\n        }\n    }, serialization_1.Versions.v1_0);\n    AdaptiveCard.fallbackTextProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"fallbackText\");\n    AdaptiveCard.speakProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"speak\");\n    AdaptiveCard.refreshProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_4, \"refresh\", RefreshDefinition, true);\n    AdaptiveCard.authenticationProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_4, \"authentication\", Authentication, true);\n    //#endregion\n    AdaptiveCard._haveWarnedAboutNoMarkdownProcessing = false;\n    __decorate([\n        (0, serialization_1.property)(AdaptiveCard.versionProperty)\n    ], AdaptiveCard.prototype, \"version\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AdaptiveCard.fallbackTextProperty)\n    ], AdaptiveCard.prototype, \"fallbackText\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AdaptiveCard.speakProperty)\n    ], AdaptiveCard.prototype, \"speak\", void 0);\n    __decorate([\n        (0, serialization_1.property)(AdaptiveCard.refreshProperty)\n    ], AdaptiveCard.prototype, \"refresh\", null);\n    __decorate([\n        (0, serialization_1.property)(AdaptiveCard.authenticationProperty)\n    ], AdaptiveCard.prototype, \"authentication\", void 0);\n    return AdaptiveCard;\n}(ContainerWithActions));\nexports.AdaptiveCard = AdaptiveCard;\nvar InlineAdaptiveCard = /** @class */ (function (_super) {\n    __extends(InlineAdaptiveCard, _super);\n    function InlineAdaptiveCard() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.suppressStyle = false;\n        return _this;\n    }\n    InlineAdaptiveCard.prototype.getSchemaKey = function () {\n        return \"InlineAdaptiveCard\";\n    };\n    InlineAdaptiveCard.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        schema.remove(AdaptiveCard.$schemaProperty, AdaptiveCard.versionProperty);\n    };\n    //#endregion\n    InlineAdaptiveCard.prototype.getDefaultPadding = function () {\n        return new shared_1.PaddingDefinition(this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding, Enums.Spacing.Padding, this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding, Enums.Spacing.Padding);\n    };\n    Object.defineProperty(InlineAdaptiveCard.prototype, \"bypassVersionCheck\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(InlineAdaptiveCard.prototype, \"defaultStyle\", {\n        get: function () {\n            if (this.suppressStyle) {\n                return Enums.ContainerStyle.Default;\n            }\n            else {\n                return this.hostConfig.actions.showCard.style\n                    ? this.hostConfig.actions.showCard.style\n                    : Enums.ContainerStyle.Emphasis;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    InlineAdaptiveCard.prototype.render = function (target) {\n        var renderedCard = _super.prototype.render.call(this, target);\n        if (renderedCard) {\n            renderedCard.setAttribute(\"aria-live\", \"polite\");\n            renderedCard.removeAttribute(\"tabindex\");\n        }\n        return renderedCard;\n    };\n    return InlineAdaptiveCard;\n}(AdaptiveCard));\nvar SerializationContext = /** @class */ (function (_super) {\n    __extends(SerializationContext, _super);\n    function SerializationContext() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._forbiddenTypes = new Set();\n        return _this;\n    }\n    SerializationContext.prototype.internalParseCardObject = function (parent, source, forbiddenTypes, allowFallback, createInstanceCallback, logParseEvent) {\n        var _this = this;\n        var result = undefined;\n        if (source && typeof source === \"object\") {\n            var oldForbiddenTypes_1 = new Set();\n            this._forbiddenTypes.forEach(function (type) {\n                oldForbiddenTypes_1.add(type);\n            });\n            forbiddenTypes.forEach(function (type) {\n                _this._forbiddenTypes.add(type);\n            });\n            var typeName = Utils.parseString(source[\"type\"]);\n            if (typeName && this._forbiddenTypes.has(typeName)) {\n                logParseEvent(typeName, Enums.TypeErrorType.ForbiddenType);\n            }\n            else {\n                var tryToFallback = false;\n                result = createInstanceCallback(typeName);\n                if (!result) {\n                    tryToFallback = shared_1.GlobalSettings.enableFallback && allowFallback;\n                    logParseEvent(typeName, Enums.TypeErrorType.UnknownType);\n                }\n                else {\n                    result.setParent(parent);\n                    result.parse(source, this);\n                    tryToFallback =\n                        shared_1.GlobalSettings.enableFallback && allowFallback && result.shouldFallback();\n                }\n                if (tryToFallback) {\n                    var fallback = source[\"fallback\"];\n                    if (!fallback && parent) {\n                        parent.setShouldFallback(true);\n                    }\n                    if (typeof fallback === \"string\" && fallback.toLowerCase() === \"drop\") {\n                        result = undefined;\n                    }\n                    else if (typeof fallback === \"object\") {\n                        result = this.internalParseCardObject(parent, fallback, forbiddenTypes, true, createInstanceCallback, logParseEvent);\n                    }\n                }\n            }\n            this._forbiddenTypes = oldForbiddenTypes_1;\n        }\n        return result;\n    };\n    SerializationContext.prototype.cardObjectParsed = function (o, source) {\n        if (o instanceof Action && this.onParseAction) {\n            this.onParseAction(o, source, this);\n        }\n        else if (o instanceof CardElement && this.onParseElement) {\n            this.onParseElement(o, source, this);\n        }\n    };\n    SerializationContext.prototype.shouldSerialize = function (o) {\n        if (o instanceof Action) {\n            return this.actionRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        }\n        else if (o instanceof CardElement) {\n            return this.elementRegistry.findByName(o.getJsonTypeName()) !== undefined;\n        }\n        else {\n            return true;\n        }\n    };\n    SerializationContext.prototype.parseCardObject = function (parent, source, forbiddenTypeNames, allowFallback, createInstanceCallback, logParseEvent) {\n        var forbiddenTypes = new Set(forbiddenTypeNames);\n        var result = this.internalParseCardObject(parent, source, forbiddenTypes, allowFallback, createInstanceCallback, logParseEvent);\n        if (result !== undefined) {\n            this.cardObjectParsed(result, source);\n        }\n        return result;\n    };\n    SerializationContext.prototype.parseElement = function (parent, source, forbiddenTypes, allowFallback) {\n        var _this = this;\n        return this.parseCardObject(parent, source, forbiddenTypes, allowFallback, function (typeName) {\n            return _this.elementRegistry.createInstance(typeName, _this.targetVersion);\n        }, function (typeName, errorType) {\n            if (errorType === Enums.TypeErrorType.UnknownType) {\n                _this.logParseEvent(undefined, Enums.ValidationEvent.UnknownElementType, strings_1.Strings.errors.unknownElementType(typeName));\n            }\n            else {\n                _this.logParseEvent(undefined, Enums.ValidationEvent.ElementTypeNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(typeName));\n            }\n        });\n    };\n    SerializationContext.prototype.parseAction = function (parent, source, forbiddenActionTypes, allowFallback) {\n        var _this = this;\n        return this.parseCardObject(parent, source, forbiddenActionTypes, allowFallback, function (typeName) {\n            return _this.actionRegistry.createInstance(typeName, _this.targetVersion);\n        }, function (typeName, errorType) {\n            if (errorType === Enums.TypeErrorType.UnknownType) {\n                _this.logParseEvent(undefined, Enums.ValidationEvent.UnknownActionType, strings_1.Strings.errors.unknownActionType(typeName));\n            }\n            else {\n                _this.logParseEvent(undefined, Enums.ValidationEvent.ActionTypeNotAllowed, strings_1.Strings.errors.actionTypeNotAllowed(typeName));\n            }\n        });\n    };\n    Object.defineProperty(SerializationContext.prototype, \"elementRegistry\", {\n        get: function () {\n            var _a;\n            return (_a = this._elementRegistry) !== null && _a !== void 0 ? _a : registry_1.GlobalRegistry.elements;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    SerializationContext.prototype.setElementRegistry = function (value) {\n        this._elementRegistry = value;\n    };\n    Object.defineProperty(SerializationContext.prototype, \"actionRegistry\", {\n        get: function () {\n            var _a;\n            return (_a = this._actionRegistry) !== null && _a !== void 0 ? _a : registry_1.GlobalRegistry.actions;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Not using a property setter here because the setter should accept \"undefined\"\n    // whereas the getter should never return undefined.\n    SerializationContext.prototype.setActionRegistry = function (value) {\n        this._actionRegistry = value;\n    };\n    return SerializationContext;\n}(serialization_1.BaseSerializationContext));\nexports.SerializationContext = SerializationContext;\nregistry_1.GlobalRegistry.defaultElements.register(\"Container\", Container);\nregistry_1.GlobalRegistry.defaultElements.register(\"TextBlock\", TextBlock);\nregistry_1.GlobalRegistry.defaultElements.register(\"RichTextBlock\", RichTextBlock, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultElements.register(\"TextRun\", TextRun, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultElements.register(\"Image\", Image);\nregistry_1.GlobalRegistry.defaultElements.register(\"ImageSet\", ImageSet);\nregistry_1.GlobalRegistry.defaultElements.register(\"Media\", Media, serialization_1.Versions.v1_1);\nregistry_1.GlobalRegistry.defaultElements.register(\"FactSet\", FactSet);\nregistry_1.GlobalRegistry.defaultElements.register(\"ColumnSet\", ColumnSet);\nregistry_1.GlobalRegistry.defaultElements.register(\"ActionSet\", ActionSet, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Text\", TextInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Date\", DateInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Time\", TimeInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Number\", NumberInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.ChoiceSet\", ChoiceSetInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Toggle\", ToggleInput);\nregistry_1.GlobalRegistry.defaultActions.register(OpenUrlAction.JsonTypeName, OpenUrlAction);\nregistry_1.GlobalRegistry.defaultActions.register(SubmitAction.JsonTypeName, SubmitAction);\nregistry_1.GlobalRegistry.defaultActions.register(ShowCardAction.JsonTypeName, ShowCardAction);\nregistry_1.GlobalRegistry.defaultActions.register(ToggleVisibilityAction.JsonTypeName, ToggleVisibilityAction, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultActions.register(ExecuteAction.JsonTypeName, ExecuteAction, serialization_1.Versions.v1_4);\n//# sourceMappingURL=card-elements.js.map","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.6\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2023, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: February 2, 2023\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionStart(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionstart', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionstart', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, transitionStart, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay = 0) {\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis = 'x') {\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend(...args) {\n  const to = Object(args[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll({\n  swiper,\n  targetPosition,\n  side\n}) {\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice({\n  userAgent\n} = {}) {\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides = {}) {\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","import { getWindow } from 'ssr-window';\nexport default function Resize({\n  swiper,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(({\n          contentBoxSize,\n          contentRect,\n          target\n        }) => {\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Observer({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const observers = [];\n  const window = getWindow();\n\n  const attach = (target, options = {}) => {\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler(...args) {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || $([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate = this && this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","export default function transitionEmit({\n  swiper,\n  runCallbacks,\n  direction,\n  step\n}) {\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  const translate = -snapGrid[snapIndex]; // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  if (slideIndex !== (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  } // Update progress\n\n\n  swiper.updateProgress(translate);\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}","export default function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length && swiper.params.loopedSlidesLimit) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = $(el);\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < swiper.loopedSlides; i += 1) {\n    const index = i - Math.floor(i / slides.length) * slides.length;\n    appendSlides.push(slides.eq(index)[0]);\n    prependSlides.unshift(slides.eq(slides.length - index - 1)[0]);\n  }\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base = this) {\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== ''; // eslint-disable-next-line\n\n  const eventPath = event.composedPath ? event.composedPath() : event.path;\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && eventPath) {\n    $targetEl = $(eventPath[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!$(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base = 'window', containerEl) {\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopedSlidesLimit: true,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj = {}) {\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor(...args) {\n    let el;\n    let params;\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      }); // eslint-disable-next-line no-constructor-return\n\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n    // eslint-disable-next-line no-constructor-return\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view = 'current', exact = false) {\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate = true) {\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return $($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance = true, cleanStyles = true) {\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import $ from '../../shared/dom.js';\nimport { setCSSProperty } from '../../shared/utils.js';\nexport default function Virtual({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  }\n\n  function update(force) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides\n    } = swiper.params;\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = swiper.activeIndex || 0;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset}px`);\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort((a, b) => b - a).forEach(index => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const $cachedEl = cache[cachedIndex];\n        const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    swiper.virtual.slides = swiper.params.virtual.slides;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n\n    if (!swiper.params.initialSlide) {\n      update();\n    }\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}","/* eslint-disable consistent-return */\nimport { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now, nextTick } from '../../shared/utils.js';\nexport default function Mousewheel({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = now();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  }\n\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  }\n\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n    const params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = nextTick(() => {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = nextTick(() => {\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n\n  function events(method) {\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target[method]('mouseenter', handleMouseEnter);\n    target[method]('mouseleave', handleMouseLeave);\n    target[method]('wheel', handle);\n  }\n\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n\n    if (swiper.mousewheel.enabled) return false;\n    events('on');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n\n    if (!swiper.mousewheel.enabled) return false;\n    events('off');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}","export default function classesToSelector(classes = '') {\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}","import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const $el = swiper.scrollbar.$el;\n\n    if ($el) {\n      $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nexport default function Parallax({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    parallax: {\n      enabled: false\n    }\n  });\n\n  const setTransform = (el, progress) => {\n    const {\n      rtl\n    } = swiper;\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      slides,\n      progress,\n      snapGrid\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n      setTransform(el, progress);\n    });\n    slides.each((slideEl, slideIndex) => {\n      let slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, slideProgress);\n      });\n    });\n  };\n\n  const setTransition = (duration = swiper.params.speed) => {\n    const {\n      $el\n    } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n      const $parallaxEl = $(parallaxEl);\n      let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  };\n\n  on('beforeInit', () => {\n    if (!swiper.params.parallax.enabled) return;\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n  });\n  on('init', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTransition', (_swiper, duration) => {\n    if (!swiper.params.parallax.enabled) return;\n    setTransition(duration);\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate = true) {\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = Math.ceil(slidesPerView);\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + spv; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  on('destroy', () => {\n    if (!swiper.$el) return;\n    swiper.$el.find(`.${swiper.params.lazy.loadingClass}`).removeClass(swiper.params.lazy.loadingClass);\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}","/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick } from '../../shared/utils.js';\nexport default function Controller({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  });\n  swiper.controller = {\n    control: undefined\n  };\n\n  function LinearSpline(x, y) {\n    const binarySearch = function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  } // xxx: for now i will just save one spline function to to\n\n\n  function getInterpolateFunction(c) {\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  }\n\n  function setTranslate(_t, byController) {\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    const Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  }\n\n  function setTransition(duration, byController) {\n    const Swiper = swiper.constructor;\n    const controlled = swiper.controller.control;\n    let i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(() => {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n\n  function removeSpline() {\n    if (!swiper.controller.control) return;\n\n    if (swiper.controller.spline) {\n      swiper.controller.spline = undefined;\n      delete swiper.controller.spline;\n    }\n  }\n\n  on('beforeInit', () => {\n    swiper.controller.control = swiper.params.controller.control;\n  });\n  on('update', () => {\n    removeSpline();\n  });\n  on('resize', () => {\n    removeSpline();\n  });\n  on('observerUpdate', () => {\n    removeSpline();\n  });\n  on('setTranslate', (_s, translate, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTranslate(translate, byController);\n  });\n  on('setTransition', (_s, duration, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTransition(duration, byController);\n  });\n  Object.assign(swiper.controller, {\n    setTranslate,\n    setTransition\n  });\n}","import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  swiper.a11y = {\n    clicked: false\n  };\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size = 16) {\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.each(bulletEl => {\n      const $bulletEl = $(bulletEl);\n\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      }\n\n      if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n        $bulletEl.attr('aria-current', 'true');\n      } else {\n        $bulletEl.removeAttr('aria-current');\n      }\n    });\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  const handlePointerDown = () => {\n    swiper.a11y.clicked = true;\n  };\n\n  const handlePointerUp = () => {\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        if (!swiper.destroyed) {\n          swiper.a11y.clicked = false;\n        }\n      });\n    });\n  };\n\n  const handleFocus = e => {\n    if (swiper.a11y.clicked) return;\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n    if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;\n\n    if (swiper.isHorizontal()) {\n      swiper.el.scrollLeft = 0;\n    } else {\n      swiper.el.scrollTop = 0;\n    }\n\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    if (params.slideRole) {\n      addElRole($(swiper.slides), params.slideRole);\n    }\n\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n\n    if (params.slideLabelMessage) {\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      });\n    }\n  };\n\n  const init = () => {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = params.id || $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    initSlides(); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.on('focus', handleFocus, true);\n    swiper.$el.on('pointerdown', handlePointerDown, true);\n    swiper.$el.on('pointerup', handlePointerUp, true);\n  };\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.off('focus', handleFocus, true);\n    swiper.$el.off('pointerdown', handlePointerDown, true);\n    swiper.$el.off('pointerup', handlePointerUp, true);\n  }\n\n  on('beforeInit', () => {\n    liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function History({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides',\n      keepQuery: false\n    }\n  });\n  let initialized = false;\n  let paths = {};\n\n  const slugify = text => {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  };\n\n  const getPathValues = urlOverride => {\n    const window = getWindow();\n    let location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return {\n      key,\n      value\n    };\n  };\n\n  const setHistory = (key, index) => {\n    const window = getWindow();\n    if (!initialized || !swiper.params.history.enabled) return;\n    let location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    const slide = swiper.slides.eq(index);\n    let value = slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      let root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = `${root}/${key}/${value}`;\n    } else if (!location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n\n    if (swiper.params.history.keepQuery) {\n      value += location.search;\n    }\n\n    const currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value\n      }, null, value);\n    }\n  };\n\n  const scrollToSlide = (speed, value, runCallbacks) => {\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  };\n\n  const setHistoryPopState = () => {\n    paths = getPathValues(swiper.params.url);\n    scrollToSlide(swiper.params.speed, paths.value, false);\n  };\n\n  const init = () => {\n    const window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    initialized = true;\n    paths = getPathValues(swiper.params.url);\n    if (!paths.key && !paths.value) return;\n    scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  const destroy = () => {\n    const window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.history.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.history.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function HashNavigation({\n  swiper,\n  extendParams,\n  emit,\n  on\n}) {\n  let initialized = false;\n  const document = getDocument();\n  const window = getWindow();\n  extendParams({\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  });\n\n  const onHashChange = () => {\n    emit('hashChange');\n    const newHash = document.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  };\n\n  const setHash = () => {\n    if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n      emit('hashSet');\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      emit('hashSet');\n    }\n  };\n\n  const init = () => {\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    initialized = true;\n    const hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      const speed = 0;\n\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', onHashChange);\n    }\n  };\n\n  const destroy = () => {\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', onHashChange);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHash();\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHash();\n    }\n  });\n}","/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    if (!swiper.size) {\n      swiper.autoplay.running = false;\n      swiper.autoplay.paused = false;\n      return;\n    }\n\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}","import { isObject } from '../../shared/utils.js';\nimport $ from '../../shared/dom.js';\nexport default function Thumb({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      let currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  }\n\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView; // Activate thumbs\n\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n      }\n    }\n\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      let currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n        const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    init();\n    update(true);\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}","import { now } from '../../shared/utils.js';\nexport default function freeMode({\n  swiper,\n  extendParams,\n  emit,\n  once\n}) {\n  extendParams({\n    freeMode: {\n      enabled: false,\n      momentum: true,\n      momentumRatio: 1,\n      momentumBounce: true,\n      momentumBounceRatio: 1,\n      momentumVelocityRatio: 1,\n      sticky: false,\n      minimumVelocity: 0.02\n    }\n  });\n\n  function onTouchStart() {\n    const translate = swiper.getTranslate();\n    swiper.setTranslate(translate);\n    swiper.setTransition(0);\n    swiper.touchEventsData.velocities.length = 0;\n    swiper.freeMode.onTouchEnd({\n      currentPos: swiper.rtl ? swiper.translate : -swiper.translate\n    });\n  }\n\n  function onTouchMove() {\n    const {\n      touchEventsData: data,\n      touches\n    } = swiper; // Velocity\n\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  }\n\n  function onTouchEnd({\n    currentPos\n  }) {\n    const {\n      params,\n      $wrapperEl,\n      rtlTranslate: rtl,\n      snapGrid,\n      touchEventsData: data\n    } = swiper; // Time diff\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime;\n\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeMode.momentum) {\n      if (data.velocities.length > 1) {\n        const lastMoveEvent = data.velocities.pop();\n        const velocityEvent = data.velocities.pop();\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeMode.momentumVelocityRatio;\n      data.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeMode.momentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n      let needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeMode.sticky) {\n        let nextSlide;\n\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        once('transitionEnd', () => {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeMode.sticky) {\n          // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeMode.momentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(() => {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeMode.sticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n  }\n\n  Object.assign(swiper, {\n    freeMode: {\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd\n    }\n  });\n}","export default function Grid({\n  swiper,\n  extendParams\n}) {\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n\n  const initSlides = slidesLength => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    slidesPerRow = slidesNumberEvenToRows / rows;\n    numFullColumns = Math.floor(slidesLength / rows);\n\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n  };\n\n  const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n    const {\n      slidesPerGroup,\n      spaceBetween\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid; // Set slides order\n\n    let newSlideOrderIndex;\n    let column;\n    let row;\n\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.css({\n        '-webkit-order': newSlideOrderIndex,\n        order: newSlideOrderIndex\n      });\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n\n    slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n  };\n\n  const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n    const {\n      spaceBetween,\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    swiper.$wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n    });\n\n    if (centeredSlides) {\n      snapGrid.splice(0, snapGrid.length);\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n\n  swiper.grid = {\n    initSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}","export default function appendSlide(slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  let newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  const baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  const slidesBuffer = [];\n\n  for (let i = baseLength - 1; i >= index; i -= 1) {\n    const currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (let i = 0; i < slidesBuffer.length; i += 1) {\n    $wrapperEl.append(slidesBuffer[i]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  let newActiveIndex = activeIndexBuffer;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  const swiper = this;\n  const slidesIndexes = [];\n\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","import appendSlide from './methods/appendSlide.js';\nimport prependSlide from './methods/prependSlide.js';\nimport addSlide from './methods/addSlide.js';\nimport removeSlide from './methods/removeSlide.js';\nimport removeAllSlides from './methods/removeAllSlides.js';\nexport default function Manipulation({\n  swiper\n}) {\n  Object.assign(swiper, {\n    appendSlide: appendSlide.bind(swiper),\n    prependSlide: prependSlide.bind(swiper),\n    addSlide: addSlide.bind(swiper),\n    removeSlide: removeSlide.bind(swiper),\n    removeAllSlides: removeAllSlides.bind(swiper)\n  });\n}","export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}","export default function effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}","export default function effectVirtualTransitionEnd({\n  swiper,\n  duration,\n  transformEl,\n  allSlides\n}) {\n  const {\n    slides,\n    activeIndex,\n    $wrapperEl\n  } = swiper;\n\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let $transitionEndTarget;\n\n    if (allSlides) {\n      $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n    } else {\n      $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n    }\n\n    $transitionEndTarget.transitionEnd(() => {\n      if (eventTriggered) return;\n      if (!swiper || swiper.destroyed) return;\n      eventTriggered = true;\n      swiper.animating = false;\n      const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n      for (let i = 0; i < triggerEvents.length; i += 1) {\n        $wrapperEl.trigger(triggerEvents[i]);\n      }\n    });\n  }\n}","import effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFade({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    fadeEffect: {\n      crossFade: false,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset = $slideEl[0].swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.css({\n        opacity: slideOpacity\n      }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.fadeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import $ from '../../shared/dom.js';\nimport effectInit from '../../shared/effect-init.js';\nexport default function EffectCube({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, isHorizontal) => {\n    let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n      $slideEl.append(shadowBefore);\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n      $slideEl.append(shadowAfter);\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // create new ones\n    const isHorizontal = swiper.isHorizontal();\n    swiper.slides.each(slideEl => {\n      const progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      createSlideShadows($(slideEl), progress, isHorizontal);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      $wrapperEl,\n      slides,\n      width: swiperWidth,\n      height: swiperHeight,\n      rtlTranslate: rtl,\n      size: swiperSize,\n      browser\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: `${swiperWidth}px`\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, isHorizontal);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n\n    const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    $wrapperEl[0].style.setProperty('--swiper-cube-translate-z', `${zFactor}px`);\n  };\n\n  const setTransition = duration => {\n    const {\n      $el,\n      slides\n    } = swiper;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  };\n\n  effectInit({\n    effect: 'cube',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.cubeEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      resistanceRatio: 0,\n      spaceBetween: 0,\n      centeredSlides: false,\n      virtualTranslate: true\n    })\n  });\n}","import $ from './dom.js';\nexport default function createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}","import $ from '../../shared/dom.js';\nimport createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFlip({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n      transformEl: null\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, params) => {\n    let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // Set shadows\n    const params = swiper.params.flipEffect;\n    swiper.slides.each(slideEl => {\n      const $slideEl = $(slideEl);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      }\n\n      createSlideShadows($slideEl, progress, params);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      rtlTranslate: rtl\n    } = swiper;\n    const params = swiper.params.flipEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, params);\n      }\n\n      const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.flipEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'flip',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.flipEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nexport default function EffectCoverflow({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  effectInit({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCreative({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    creativeEffect: {\n      transformEl: null,\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      $wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      } // set translate\n\n\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      }); // set rotates\n\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n      if (custom && data.shadow || !custom) {\n        let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0 && data.shadow) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform).css({\n        opacity: opacityString\n      });\n\n      if (data.origin) {\n        $targetEl.css('transform-origin', data.origin);\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.creativeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCards({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cardsEffect: {\n      slideShadows: true,\n      transformEl: null,\n      rotate: true,\n      perSlideRotate: 2,\n      perSlideOffset: 8\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides,\n      activeIndex\n    } = swiper;\n    const params = swiper.params.cardsEffect;\n    const {\n      startTranslate,\n      isTouched\n    } = swiper.touchEventsData;\n    const currentTranslate = swiper.translate;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max(slideProgress, -4), 4);\n      let offset = $slideEl[0].swiperSlideOffset;\n\n      if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n        swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n      }\n\n      if (swiper.params.centeredSlides && swiper.params.cssMode) {\n        offset -= slides[0].swiperSlideOffset;\n      }\n\n      let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let tY = 0;\n      const tZ = -100 * Math.abs(progress);\n      let scale = 1;\n      let rotate = -params.perSlideRotate * progress;\n      let tXAdd = params.perSlideOffset - Math.abs(progress) * 0.75;\n      const slideIndex = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.from + i : i;\n      const isSwipeToNext = (slideIndex === activeIndex || slideIndex === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n      const isSwipeToPrev = (slideIndex === activeIndex || slideIndex === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n      if (isSwipeToNext || isSwipeToPrev) {\n        const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n        rotate += -28 * progress * subProgress;\n        scale += -0.5 * subProgress;\n        tXAdd += 96 * subProgress;\n        tY = `${-25 * subProgress * Math.abs(progress)}%`;\n      }\n\n      if (progress < 0) {\n        // next\n        tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n      } else if (progress > 0) {\n        // prev\n        tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n      } else {\n        tX = `${tX}px`;\n      }\n\n      if (!swiper.isHorizontal()) {\n        const prevY = tY;\n        tY = tX;\n        tX = prevY;\n      }\n\n      const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n      const transform = `\n        translate3d(${tX}, ${tY}, ${tZ}px)\n        rotateZ(${params.rotate ? rotate : 0}deg)\n        scale(${scaleString})\n      `;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.cardsEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'cards',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CarouselEvent = exports.Carousel = exports.CarouselPage = void 0;\n// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar card_elements_1 = require(\"./card-elements\");\nvar Enums = require(\"./enums\");\nvar serialization_1 = require(\"./serialization\");\nvar registry_1 = require(\"./registry\");\nvar enums_1 = require(\"./enums\");\nvar strings_1 = require(\"./strings\");\nvar swiper_1 = require(\"swiper\");\nvar Utils = require(\"./utils\");\nvar shared_1 = require(\"./shared\");\n// Note: to function correctly, consumers need to have CSS from swiper/css, swiper/css/pagination, and\n// swiper/css/navigation\nvar CarouselPage = /** @class */ (function (_super) {\n    __extends(CarouselPage, _super);\n    function CarouselPage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    //#region Schema\n    CarouselPage.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        // `style`, `bleed`, `isVisible` are not supported in CarouselPage\n        schema.remove(card_elements_1.Container.styleProperty);\n        schema.remove(card_elements_1.Container.bleedProperty);\n        schema.remove(card_elements_1.Container.isVisibleProperty);\n    };\n    //#endregion\n    CarouselPage.prototype.internalRender = function () {\n        var carouselSlide = document.createElement(\"div\");\n        carouselSlide.className = this.hostConfig.makeCssClassName(\"swiper-slide\");\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        var renderedElement = _super.prototype.internalRender.call(this);\n        Utils.appendChild(carouselSlide, renderedElement);\n        return carouselSlide;\n    };\n    CarouselPage.prototype.getForbiddenActionTypes = function () {\n        return [card_elements_1.ShowCardAction, card_elements_1.ToggleVisibilityAction];\n    };\n    CarouselPage.prototype.getForbiddenChildElements = function () {\n        return this.forbiddenChildElements();\n    };\n    CarouselPage.prototype.forbiddenChildElements = function () {\n        return __spreadArray([\n            card_elements_1.ToggleVisibilityAction.JsonTypeName,\n            card_elements_1.ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\",\n            \"Carousel\"\n        ], _super.prototype.forbiddenChildElements.call(this), true);\n    };\n    CarouselPage.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this.setShouldFallback(false);\n    };\n    CarouselPage.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    CarouselPage.prototype.getJsonTypeName = function () {\n        return \"CarouselPage\";\n    };\n    Object.defineProperty(CarouselPage.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CarouselPage.prototype, \"hasVisibleSeparator\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CarouselPage;\n}(card_elements_1.Container));\nexports.CarouselPage = CarouselPage;\nvar Carousel = /** @class */ (function (_super) {\n    __extends(Carousel, _super);\n    function Carousel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.carouselLoop = true;\n        _this.carouselOrientation = Enums.Orientation.Horizontal;\n        _this._pages = [];\n        _this._currentIndex = 0;\n        _this._previousEventType = Enums.CarouselInteractionEvent.Pagination;\n        return _this;\n    }\n    //#region Schema\n    Carousel.prototype.populateSchema = function (schema) {\n        _super.prototype.populateSchema.call(this, schema);\n        // `style`, `bleed`, `isVisible` are not supported in Carousel\n        schema.remove(card_elements_1.Container.styleProperty);\n        schema.remove(card_elements_1.Container.bleedProperty);\n        schema.remove(card_elements_1.Container.isVisibleProperty);\n    };\n    Object.defineProperty(Carousel.prototype, \"timer\", {\n        get: function () {\n            var timer = this.getValue(Carousel.timerProperty);\n            if (timer && timer < this.hostConfig.carousel.minAutoplayDelay) {\n                console.warn(strings_1.Strings.errors.tooLittleTimeDelay);\n                timer = this.hostConfig.carousel.minAutoplayDelay;\n            }\n            return timer;\n        },\n        set: function (value) {\n            if (value && value < this.hostConfig.carousel.minAutoplayDelay) {\n                console.warn(strings_1.Strings.errors.tooLittleTimeDelay);\n                this.setValue(Carousel.timerProperty, this.hostConfig.carousel.minAutoplayDelay);\n            }\n            else {\n                this.setValue(Carousel.timerProperty, value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Carousel.prototype, \"initialPageIndex\", {\n        get: function () {\n            return this.getValue(Carousel.initialPageProperty);\n        },\n        set: function (value) {\n            if (this.isValidParsedPageIndex(value)) {\n                this.setValue(Carousel.initialPageProperty, value);\n            }\n            else {\n                console.warn(strings_1.Strings.errors.invalidInitialPageIndex(value));\n                this.setValue(Carousel.initialPageProperty, 0);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Carousel.prototype.isValidParsedPageIndex = function (index) {\n        return this._pages ? this.isValidPageIndex(index, this._pages.length) : false;\n    };\n    Carousel.prototype.isValidRenderedPageIndex = function (index) {\n        return this._renderedPages ? this.isValidPageIndex(index, this._renderedPages.length) : false;\n    };\n    Carousel.prototype.isValidPageIndex = function (index, collectionSize) {\n        return (collectionSize > 0 && 0 <= index && index < collectionSize);\n    };\n    Object.defineProperty(Carousel.prototype, \"previousEventType\", {\n        //#endregion\n        get: function () {\n            return this._previousEventType;\n        },\n        set: function (eventType) {\n            this._previousEventType = eventType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Question: Why do we place this on the Carousel instead of the CarouselPage?\n    Carousel.prototype.forbiddenChildElements = function () {\n        return __spreadArray([\n            card_elements_1.ToggleVisibilityAction.JsonTypeName,\n            card_elements_1.ShowCardAction.JsonTypeName,\n            \"Media\",\n            \"ActionSet\",\n            \"Input.Text\",\n            \"Input.Date\",\n            \"Input.Time\",\n            \"Input.Number\",\n            \"Input.ChoiceSet\",\n            \"Input.Toggle\"\n        ], _super.prototype.forbiddenChildElements.call(this), true);\n    };\n    Carousel.prototype.adjustRenderedElementSize = function (renderedElement) {\n        _super.prototype.adjustRenderedElementSize.call(this, renderedElement);\n        if (this.height == \"stretch\" && this._containerForAdorners !== undefined) {\n            this._containerForAdorners.style.height = \"100%\";\n        }\n        // Assign the explicit height to carouselPageContainer if given\n        if (this.carouselHeight) {\n            this._carouselPageContainer.style.height = this.carouselHeight + \"px\";\n        }\n    };\n    Carousel.prototype.getJsonTypeName = function () {\n        return \"Carousel\";\n    };\n    Carousel.prototype.getItemCount = function () {\n        return this._pages.length;\n    };\n    Carousel.prototype.getItemAt = function (index) {\n        return this._pages[index];\n    };\n    Carousel.prototype.addPage = function (page) {\n        this._pages.push(page);\n        page.setParent(this);\n    };\n    Carousel.prototype.removeItem = function (item) {\n        if (item instanceof CarouselPage) {\n            var itemIndex = this._pages.indexOf(item);\n            if (itemIndex >= 0) {\n                this._pages.splice(itemIndex, 1);\n                item.setParent(undefined);\n                this.updateLayout();\n                return true;\n            }\n        }\n        return false;\n    };\n    Carousel.prototype.getFirstVisibleRenderedItem = function () {\n        var _a;\n        if (this.renderedElement && ((_a = this._renderedPages) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            return this._renderedPages[0];\n        }\n        else {\n            return undefined;\n        }\n    };\n    Carousel.prototype.getLastVisibleRenderedItem = function () {\n        var _a;\n        if (this.renderedElement && ((_a = this._renderedPages) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            return this._renderedPages[this._renderedPages.length - 1];\n        }\n        else {\n            return undefined;\n        }\n    };\n    Object.defineProperty(Carousel.prototype, \"currentPageId\", {\n        get: function () {\n            var _a, _b;\n            if ((_b = (_a = this._carousel) === null || _a === void 0 ? void 0 : _a.slides) === null || _b === void 0 ? void 0 : _b.length) {\n                var activeSlide = this._carousel.slides[this._carousel.activeIndex];\n                return activeSlide.id;\n            }\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Carousel.prototype, \"currentPageIndex\", {\n        get: function () {\n            var _a;\n            return (_a = this._carousel) === null || _a === void 0 ? void 0 : _a.realIndex;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Carousel.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this._pages = [];\n        var jsonPages = source[\"pages\"];\n        if (Array.isArray(jsonPages)) {\n            for (var _i = 0, jsonPages_1 = jsonPages; _i < jsonPages_1.length; _i++) {\n                var item = jsonPages_1[_i];\n                var page = this.createCarouselPageInstance(item, context);\n                if (page) {\n                    this._pages.push(page);\n                }\n            }\n        }\n        // everything is parsed do validate on initial page index\n        this.validateParsing(context);\n    };\n    Carousel.prototype.validateParsing = function (context) {\n        if (!this.isValidParsedPageIndex(this.initialPageIndex)) {\n            context.logParseEvent(this, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidInitialPageIndex(this.initialPageIndex));\n        }\n    };\n    Carousel.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        context.serializeArray(target, \"pages\", this._pages);\n    };\n    Carousel.prototype.internalRender = function () {\n        var _a;\n        this._renderedPages = [];\n        if (this._pages.length <= 0) {\n            return undefined;\n        }\n        this.validateOrientationProperties();\n        var cardLevelContainer = document.createElement(\"div\");\n        cardLevelContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-card-level-container\");\n        var carouselContainer = document.createElement(\"div\");\n        carouselContainer.className = this.hostConfig.makeCssClassName(\"swiper\", \"ac-carousel\");\n        this._carouselPageContainer = carouselContainer;\n        var containerForAdorners = document.createElement(\"div\");\n        containerForAdorners.className = this.hostConfig.makeCssClassName(\"ac-carousel-container\");\n        this._containerForAdorners = containerForAdorners;\n        cardLevelContainer.appendChild(containerForAdorners);\n        var navigationContainer = document.createElement(\"div\");\n        navigationContainer.className = this.hostConfig.makeCssClassName(\"ac-carousel-navigation\");\n        containerForAdorners.appendChild(navigationContainer);\n        var carouselWrapper = document.createElement(\"div\");\n        carouselWrapper.className = this.hostConfig.makeCssClassName(\"swiper-wrapper\", \"ac-carousel-card-container\");\n        carouselWrapper.style.display = \"flex\";\n        switch (this.getEffectiveVerticalContentAlignment()) {\n            case Enums.VerticalAlignment.Top:\n                carouselWrapper.style.alignItems = \"flex-start\";\n                break;\n            case Enums.VerticalAlignment.Bottom:\n                carouselWrapper.style.alignItems = \"flex-end\";\n                break;\n            default:\n                carouselWrapper.style.alignItems = \"center\";\n                break;\n        }\n        if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n            // Forces the container to be at least as tall as its content.\n            //\n            // Fixes a quirk in Chrome where, for nested flex elements, the\n            // inner element's height would never exceed the outer element's\n            // height. This caused overflow truncation to break -- containers\n            // would always be measured as not overflowing, since their heights\n            // were constrained by their parents as opposed to truly reflecting\n            // the height of their content.\n            //\n            // See the \"Browser Rendering Notes\" section of this answer:\n            // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n            carouselWrapper.style.minHeight = \"-webkit-min-content\";\n        }\n        var prevElementDiv = document.createElement(\"div\");\n        prevElementDiv.className = this.hostConfig.makeCssClassName(\"swiper-button-prev\");\n        var nextElementDiv = document.createElement(\"div\");\n        nextElementDiv.className = this.hostConfig.makeCssClassName(\"swiper-button-next\");\n        if (this.carouselOrientation === Enums.Orientation.Horizontal) {\n            this.updateCssForHorizontalCarousel(prevElementDiv, nextElementDiv);\n        }\n        else {\n            this.updateCssForVerticalCarousel(navigationContainer, prevElementDiv, nextElementDiv);\n        }\n        var pagination = document.createElement(\"div\");\n        pagination.className = this.hostConfig.makeCssClassName(\"swiper-pagination\", \"ac-carousel-pagination\");\n        navigationContainer.appendChild(prevElementDiv);\n        Utils.addCancelSelectActionEventHandler(prevElementDiv);\n        navigationContainer.appendChild(pagination);\n        Utils.addCancelSelectActionEventHandler(pagination);\n        navigationContainer.appendChild(nextElementDiv);\n        Utils.addCancelSelectActionEventHandler(nextElementDiv);\n        if (this.isDesignMode()) {\n            // If we are in design mode, we need to ensure these elements are in front of the peers\n            prevElementDiv.style.zIndex = \"20\";\n            nextElementDiv.style.zIndex = \"20\";\n            pagination.style.zIndex = \"20\";\n        }\n        var requestedNumberOfPages = Math.min(this._pages.length, this.hostConfig.carousel.maxCarouselPages);\n        if (this._pages.length > this.hostConfig.carousel.maxCarouselPages) {\n            console.warn(strings_1.Strings.errors.tooManyCarouselPages);\n        }\n        if (this._pages.length > 0) {\n            for (var i = 0; i < requestedNumberOfPages; i++) {\n                var page = this._pages[i];\n                var renderedItem = this.isElementAllowed(page) ? page.render() : undefined;\n                renderedItem === null || renderedItem === void 0 ? void 0 : renderedItem.classList.add(\"ac-carousel-page\");\n                (_a = renderedItem === null || renderedItem === void 0 ? void 0 : renderedItem.children[0]) === null || _a === void 0 ? void 0 : _a.classList.add(\"ac-carousel-page-container\");\n                if (renderedItem) {\n                    Utils.appendChild(carouselWrapper, renderedItem);\n                    this._renderedPages.push(page);\n                }\n            }\n        }\n        carouselContainer.appendChild(carouselWrapper);\n        carouselContainer.tabIndex = this.isDesignMode() ? -1 : 0;\n        containerForAdorners.appendChild(carouselContainer);\n        // `isRtl()` will set the correct value of rtl by reading the value from the parents\n        this.rtl = this.isRtl();\n        this.applyRTL(pagination);\n        if (!this.isDesignMode()) {\n            if (this.isValidRenderedPageIndex(this.initialPageIndex)) {\n                this._currentIndex = this.initialPageIndex;\n            }\n            else {\n                console.warn(strings_1.Strings.errors.invalidInitialPageIndex(this.initialPageIndex));\n                this._currentIndex = 0;\n            }\n        }\n        this.initializeCarouselControl(carouselContainer, nextElementDiv, prevElementDiv, pagination, this.rtl);\n        return this._renderedPages.length > 0 ? cardLevelContainer : undefined;\n    };\n    Carousel.prototype.applyRTL = function (pagination) {\n        _super.prototype.applyRTL.call(this, this._carouselPageContainer);\n        if (this.rtl) {\n            pagination.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-pagination-rtl\"));\n        }\n    };\n    Carousel.prototype.validateOrientationProperties = function () {\n        if (!this.carouselHeight) {\n            this.carouselOrientation = Enums.Orientation.Horizontal;\n        }\n    };\n    Carousel.prototype.updateCssForHorizontalCarousel = function (prevElementDiv, nextElementDiv) {\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-left\"));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-right\"));\n    };\n    Carousel.prototype.updateCssForVerticalCarousel = function (navigationContainer, prevElementDiv, nextElementDiv) {\n        this._containerForAdorners.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-container-vertical\"));\n        navigationContainer.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-navigation-vertical\"));\n        prevElementDiv.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-up\"));\n        nextElementDiv.classList.add(this.hostConfig.makeCssClassName(\"ac-carousel-down\"));\n    };\n    Carousel.prototype.initializeCarouselControl = function (carouselContainer, nextElement, prevElement, paginationElement, rtl) {\n        var _this = this;\n        var _a, _b, _c;\n        var nextElementAdjustedForRtl = (rtl === undefined || !rtl ? nextElement : prevElement);\n        var prevElementAdjustedForRtl = (rtl === undefined || !rtl ? prevElement : nextElement);\n        var prevElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? prevElementAdjustedForRtl : prevElement;\n        var nextElementAdjustedForOrientation = (Enums.Orientation.Horizontal === this.carouselOrientation) ? nextElementAdjustedForRtl : nextElement;\n        var swiperOptions = {\n            loop: !this.isDesignMode() && this.carouselLoop,\n            modules: [swiper_1.Navigation, swiper_1.Pagination, swiper_1.Scrollbar, swiper_1.A11y, swiper_1.History, swiper_1.Keyboard],\n            pagination: {\n                el: paginationElement,\n                clickable: true\n            },\n            navigation: {\n                prevEl: prevElementAdjustedForOrientation,\n                nextEl: nextElementAdjustedForOrientation\n            },\n            a11y: {\n                enabled: true\n            },\n            keyboard: {\n                enabled: false,\n                onlyInViewport: true\n            },\n            direction: this.carouselOrientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\",\n            resizeObserver: false,\n            initialSlide: this._currentIndex\n        };\n        if (this.timer && !this.isDesignMode()) {\n            (_a = swiperOptions.modules) === null || _a === void 0 ? void 0 : _a.push(swiper_1.Autoplay);\n            swiperOptions.autoplay = { delay: this.timer, pauseOnMouseEnter: true };\n        }\n        var carousel = new swiper_1.Swiper(carouselContainer, swiperOptions);\n        // While the 'pauseOnMouseEnter' option should resume autoplay on\n        // mouse exit it doesn't do it, so adding custom events to handle it\n        carouselContainer.addEventListener(\"mouseenter\", function (_event) {\n            var _a;\n            (_a = carousel.autoplay) === null || _a === void 0 ? void 0 : _a.stop();\n        });\n        carouselContainer.addEventListener(\"mouseleave\", function (_event) {\n            var _a;\n            (_a = carousel.autoplay) === null || _a === void 0 ? void 0 : _a.start();\n        });\n        carousel.on('navigationNext', function (swiper) {\n            _this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationNext);\n        });\n        carousel.on('navigationPrev', function (swiper) {\n            _this.raiseCarouselEvent(Enums.CarouselInteractionEvent.NavigationPrevious);\n        });\n        carousel.on('slideChangeTransitionEnd', function (swiper) {\n            _this.currentIndex = swiper.realIndex;\n            _this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Pagination);\n        });\n        carousel.on('autoplay', function () {\n            _this.raiseCarouselEvent(Enums.CarouselInteractionEvent.Autoplay);\n        });\n        carousel.on('paginationRender', function (swiper, paginationEl) {\n            swiper.pagination.bullets.forEach(function (bullet, index) {\n                bullet.addEventListener(\"keypress\", function (event) {\n                    if (event.key == \"Enter\") {\n                        event.preventDefault();\n                        swiper.slideTo(index + 1);\n                    }\n                });\n            });\n        });\n        carousel.on('destroy', function () {\n            _this.destroyResizeObserver();\n        });\n        prevElement.title = (_b = prevElement.ariaLabel) !== null && _b !== void 0 ? _b : strings_1.Strings.defaults.carouselNavigationPreviousTooltip();\n        nextElement.title = (_c = nextElement.ariaLabel) !== null && _c !== void 0 ? _c : strings_1.Strings.defaults.carouselNavigationNextTooltip();\n        this._carousel = carousel;\n        this.createResizeObserver();\n    };\n    Carousel.prototype.createCarouselPageInstance = function (source, context) {\n        return context.parseCardObject(this, source, this.forbiddenChildElements(), !this.isDesignMode(), function (typeName) {\n            return !typeName || typeName === \"CarouselPage\" ? new CarouselPage() : undefined;\n        }, function (typeName, _errorType) {\n            context.logParseEvent(undefined, enums_1.ValidationEvent.ElementTypeNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(typeName));\n        });\n    };\n    Carousel.prototype.slideTo = function (index) {\n        var _a;\n        (_a = this._carousel) === null || _a === void 0 ? void 0 : _a.slideTo(index);\n    };\n    Object.defineProperty(Carousel.prototype, \"carouselPageContainer\", {\n        get: function () {\n            return this._carouselPageContainer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Carousel.prototype, \"currentIndex\", {\n        get: function () {\n            return this._currentIndex;\n        },\n        set: function (currentIndex) {\n            this._currentIndex = currentIndex;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Carousel.prototype.createCarouselEvent = function (type) {\n        var currentPageId;\n        if (this.currentPageIndex != undefined) {\n            currentPageId = this.getItemAt(this.currentPageIndex).id;\n        }\n        return new CarouselEvent(type, this.id, currentPageId, this.currentPageIndex);\n    };\n    Carousel.prototype.raiseCarouselEvent = function (eventType) {\n        var card = this.parent ? this.parent.getRootElement() : undefined;\n        var onCarouselEventHandler = card && card.onCarouselEvent\n            ? card.onCarouselEvent\n            : card_elements_1.AdaptiveCard.onCarouselEvent;\n        // pagination event is triggered on slide transition end event \n        if (onCarouselEventHandler && eventType == Enums.CarouselInteractionEvent.Pagination) {\n            // returns the event type that causes slide transition\n            onCarouselEventHandler(this.createCarouselEvent(this.previousEventType));\n        }\n        this.previousEventType = eventType;\n    };\n    /// Swiper version 8 added requestAnimationFrame() call in its resize observer code\n    /// The new call causes flickering issue,\n    /// We've copied resize observer code from Swiper version 7 with some modifications\n    Carousel.prototype.createResizeObserver = function () {\n        var _this = this;\n        var _a;\n        if (!this.checkIfCarouselInValidStateForResizeEvent()) {\n            return;\n        }\n        this._observer = new ResizeObserver(function (entries) {\n            var _a, _b, _c, _d;\n            var width = (_a = _this._carousel) === null || _a === void 0 ? void 0 : _a.width;\n            var height = (_b = _this._carousel) === null || _b === void 0 ? void 0 : _b.height;\n            var newWidth = width;\n            var newHeight = height;\n            entries.forEach(function (_a) {\n                var _b;\n                var contentBoxSize = _a.contentBoxSize, contentRect = _a.contentRect, target = _a.target;\n                if (target && target !== ((_b = _this._carousel) === null || _b === void 0 ? void 0 : _b.el)) {\n                    return;\n                }\n                newWidth = contentRect\n                    ? contentRect.width\n                    : (contentBoxSize[0] || contentBoxSize).inlineSize;\n                newHeight = contentRect\n                    ? contentRect.height\n                    : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n            if (newWidth !== width || newHeight !== height) {\n                if (_this.checkIfCarouselInValidStateForResizeEvent()) {\n                    (_c = _this._carousel) === null || _c === void 0 ? void 0 : _c.emit('beforeResize');\n                    (_d = _this._carousel) === null || _d === void 0 ? void 0 : _d.emit('resize');\n                }\n            }\n        });\n        this._observer.observe((_a = this._carousel) === null || _a === void 0 ? void 0 : _a.el);\n    };\n    Carousel.prototype.destroyResizeObserver = function () {\n        var _a;\n        if (this._observer && this._observer.unobserve && ((_a = this._carousel) === null || _a === void 0 ? void 0 : _a.el)) {\n            this._observer.unobserve(this._carousel.el);\n            this._observer = null;\n        }\n    };\n    ;\n    Carousel.prototype.checkIfCarouselInValidStateForResizeEvent = function () {\n        return this._carousel && !this._carousel.destroyed;\n    };\n    Carousel.timerProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_6, \"timer\", undefined);\n    Carousel.initialPageProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_6, \"initialPage\", 0);\n    Carousel.loopProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_6, \"loop\", true);\n    Carousel.orientationProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_6, \"orientation\", Enums.Orientation, Enums.Orientation.Horizontal);\n    Carousel.carouselHeightProperty = new serialization_1.PixelSizeProperty(serialization_1.Versions.v1_6, \"heightInPixels\");\n    __decorate([\n        (0, serialization_1.property)(Carousel.timerProperty)\n    ], Carousel.prototype, \"timer\", null);\n    __decorate([\n        (0, serialization_1.property)(Carousel.initialPageProperty)\n    ], Carousel.prototype, \"initialPageIndex\", null);\n    __decorate([\n        (0, serialization_1.property)(Carousel.loopProperty)\n    ], Carousel.prototype, \"carouselLoop\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Carousel.orientationProperty)\n    ], Carousel.prototype, \"carouselOrientation\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Carousel.carouselHeightProperty)\n    ], Carousel.prototype, \"carouselHeight\", void 0);\n    return Carousel;\n}(card_elements_1.Container));\nexports.Carousel = Carousel;\nvar CarouselEvent = /** @class */ (function () {\n    function CarouselEvent(type, carouselId, activeCarouselPageId, activeCarouselPageIndex) {\n        this.type = type;\n        this.carouselId = carouselId;\n        this.activeCarouselPageId = activeCarouselPageId;\n        this.activeCarouselPageIndex = activeCarouselPageIndex;\n    }\n    return CarouselEvent;\n}());\nexports.CarouselEvent = CarouselEvent;\nregistry_1.GlobalRegistry.defaultElements.register(\"Carousel\", Carousel, serialization_1.Versions.v1_6);\n//# sourceMappingURL=carousel.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Table = exports.TableRow = exports.TableCell = exports.StylableContainer = exports.TableColumnDefinition = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar card_elements_1 = require(\"./card-elements\");\nvar enums_1 = require(\"./enums\");\nvar registry_1 = require(\"./registry\");\nvar serialization_1 = require(\"./serialization\");\nvar shared_1 = require(\"./shared\");\nvar strings_1 = require(\"./strings\");\nvar utils_1 = require(\"./utils\");\nvar TableColumnDefinition = /** @class */ (function (_super) {\n    __extends(TableColumnDefinition, _super);\n    function TableColumnDefinition() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.width = new shared_1.SizeAndUnit(1, enums_1.SizeUnit.Weight);\n        return _this;\n    }\n    TableColumnDefinition.prototype.getSchemaKey = function () {\n        return \"ColumnDefinition\";\n    };\n    TableColumnDefinition.horizontalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"horizontalCellContentAlignment\", enums_1.HorizontalAlignment);\n    TableColumnDefinition.verticalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"verticalCellContentAlignment\", enums_1.VerticalAlignment);\n    TableColumnDefinition.widthProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_5, \"width\", function (sender, prop, source, context) {\n        var result = prop.defaultValue;\n        var value = source[prop.name];\n        var invalidWidth = false;\n        if (typeof value === \"number\" && !isNaN(value)) {\n            result = new shared_1.SizeAndUnit(value, enums_1.SizeUnit.Weight);\n        }\n        else if (typeof value === \"string\") {\n            try {\n                result = shared_1.SizeAndUnit.parse(value);\n            }\n            catch (e) {\n                invalidWidth = true;\n            }\n        }\n        else {\n            invalidWidth = true;\n        }\n        if (invalidWidth) {\n            context.logParseEvent(sender, enums_1.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidColumnWidth(value));\n        }\n        return result;\n    }, function (sender, property, target, value, context) {\n        if (value.unit === enums_1.SizeUnit.Pixel) {\n            context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n        }\n        else {\n            context.serializeNumber(target, \"width\", value.physicalSize);\n        }\n    }, new shared_1.SizeAndUnit(1, enums_1.SizeUnit.Weight));\n    __decorate([\n        (0, serialization_1.property)(TableColumnDefinition.horizontalCellContentAlignmentProperty)\n    ], TableColumnDefinition.prototype, \"horizontalCellContentAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TableColumnDefinition.verticalCellContentAlignmentProperty)\n    ], TableColumnDefinition.prototype, \"verticalCellContentAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TableColumnDefinition.widthProperty)\n    ], TableColumnDefinition.prototype, \"width\", void 0);\n    return TableColumnDefinition;\n}(serialization_1.SerializableObject));\nexports.TableColumnDefinition = TableColumnDefinition;\nvar StylableContainer = /** @class */ (function (_super) {\n    __extends(StylableContainer, _super);\n    function StylableContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._items = [];\n        return _this;\n    }\n    StylableContainer.prototype.parseItem = function (source, context) {\n        var _this = this;\n        return context.parseCardObject(this, source, [], // Forbidden types not supported for elements for now\n        !this.isDesignMode(), function (typeName) {\n            return _this.createItemInstance(typeName);\n        }, function (typeName, _errorType) {\n            context.logParseEvent(undefined, enums_1.ValidationEvent.ElementTypeNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(typeName));\n        });\n    };\n    StylableContainer.prototype.internalAddItem = function (item) {\n        if (!item.parent) {\n            this._items.push(item);\n            item.setParent(this);\n        }\n        else {\n            throw new Error(strings_1.Strings.errors.elementAlreadyParented());\n        }\n    };\n    StylableContainer.prototype.internalRemoveItem = function (item) {\n        var itemIndex = this._items.indexOf(item);\n        if (itemIndex >= 0) {\n            this._items.splice(itemIndex, 1);\n            item.setParent(undefined);\n            this.updateLayout();\n            return true;\n        }\n        return false;\n    };\n    StylableContainer.prototype.internalIndexOf = function (item) {\n        return this._items.indexOf(item);\n    };\n    StylableContainer.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this._items = [];\n        var items = source[this.getCollectionPropertyName()];\n        if (Array.isArray(items)) {\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n                var item = items_1[_i];\n                var instance = this.parseItem(item, context);\n                if (instance) {\n                    this._items.push(instance);\n                }\n            }\n        }\n    };\n    StylableContainer.prototype.internalToJSON = function (target, context) {\n        _super.prototype.internalToJSON.call(this, target, context);\n        context.serializeArray(target, this.getCollectionPropertyName(), this._items);\n    };\n    StylableContainer.prototype.removeItem = function (item) {\n        return this.internalRemoveItem(item);\n    };\n    StylableContainer.prototype.getItemCount = function () {\n        return this._items.length;\n    };\n    StylableContainer.prototype.getItemAt = function (index) {\n        return this._items[index];\n    };\n    StylableContainer.prototype.getFirstVisibleRenderedItem = function () {\n        return this.getItemCount() > 0 ? this.getItemAt(0) : undefined;\n    };\n    StylableContainer.prototype.getLastVisibleRenderedItem = function () {\n        return this.getItemCount() > 0 ? this.getItemAt(this.getItemCount() - 1) : undefined;\n    };\n    return StylableContainer;\n}(card_elements_1.StylableCardElementContainer));\nexports.StylableContainer = StylableContainer;\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._columnIndex = -1;\n        _this._cellType = \"data\";\n        return _this;\n    }\n    TableCell.prototype.getHasBorder = function () {\n        return this.parentRow.parentTable.showGridLines;\n    };\n    TableCell.prototype.applyBorder = function () {\n        if (this.renderedElement && this.getHasBorder()) {\n            var styleDefinition = this.hostConfig.containerStyles.getStyleByName(this.parentRow.parentTable.gridStyle);\n            if (styleDefinition.borderColor) {\n                var borderColor = (0, utils_1.stringToCssColor)(styleDefinition.borderColor);\n                if (borderColor) {\n                    this.renderedElement.style.borderRight = \"1px solid \" + borderColor;\n                    this.renderedElement.style.borderBottom = \"1px solid \" + borderColor;\n                }\n            }\n        }\n    };\n    TableCell.prototype.getDefaultPadding = function () {\n        return this.getHasBackground() || this.getHasBorder()\n            ? new shared_1.PaddingDefinition(enums_1.Spacing.Small, enums_1.Spacing.Small, enums_1.Spacing.Small, enums_1.Spacing.Small)\n            : _super.prototype.getDefaultPadding.call(this);\n    };\n    TableCell.prototype.internalRender = function () {\n        var cellElement = _super.prototype.internalRender.call(this);\n        if (cellElement) {\n            cellElement.setAttribute(\"role\", this.cellType === \"data\" ? \"cell\" : \"columnheader\");\n            cellElement.style.minWidth = \"0\";\n            if (this.cellType === \"header\") {\n                cellElement.setAttribute(\"scope\", \"col\");\n            }\n        }\n        return cellElement;\n    };\n    TableCell.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    TableCell.prototype.getJsonTypeName = function () {\n        return \"TableCell\";\n    };\n    TableCell.prototype.getEffectiveTextStyleDefinition = function () {\n        if (this.cellType === \"header\") {\n            return this.hostConfig.textStyles.columnHeader;\n        }\n        return _super.prototype.getEffectiveTextStyleDefinition.call(this);\n    };\n    TableCell.prototype.getEffectiveHorizontalAlignment = function () {\n        if (this.horizontalAlignment !== undefined) {\n            return this.horizontalAlignment;\n        }\n        if (this.parentRow.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.horizontalCellContentAlignment;\n        }\n        if (this.columnIndex >= 0) {\n            var horizontalAlignment = this.parentRow.parentTable.getColumnAt(this.columnIndex).horizontalCellContentAlignment;\n            if (horizontalAlignment !== undefined) {\n                return horizontalAlignment;\n            }\n        }\n        if (this.parentRow.parentTable.horizontalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.horizontalCellContentAlignment;\n        }\n        return _super.prototype.getEffectiveHorizontalAlignment.call(this);\n    };\n    TableCell.prototype.getEffectiveVerticalContentAlignment = function () {\n        if (this.verticalContentAlignment !== undefined) {\n            return this.verticalContentAlignment;\n        }\n        if (this.parentRow.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.verticalCellContentAlignment;\n        }\n        if (this.columnIndex >= 0) {\n            var verticalAlignment = this.parentRow.parentTable.getColumnAt(this.columnIndex).verticalCellContentAlignment;\n            if (verticalAlignment !== undefined) {\n                return verticalAlignment;\n            }\n        }\n        if (this.parentRow.parentTable.verticalCellContentAlignment !== undefined) {\n            return this.parentRow.parentTable.verticalCellContentAlignment;\n        }\n        return _super.prototype.getEffectiveVerticalContentAlignment.call(this);\n    };\n    Object.defineProperty(TableCell.prototype, \"columnIndex\", {\n        get: function () {\n            return this._columnIndex;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TableCell.prototype, \"cellType\", {\n        get: function () {\n            return this._cellType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TableCell.prototype, \"parentRow\", {\n        get: function () {\n            return this.parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TableCell.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return TableCell;\n}(card_elements_1.Container));\nexports.TableCell = TableCell;\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    //#endregion\n    TableRow.prototype.getDefaultPadding = function () {\n        return new shared_1.PaddingDefinition(enums_1.Spacing.None, enums_1.Spacing.None, enums_1.Spacing.None, enums_1.Spacing.None);\n    };\n    TableRow.prototype.applyBackground = function () {\n        if (this.renderedElement) {\n            var styleDefinition = this.hostConfig.containerStyles.getStyleByName(this.style, this.hostConfig.containerStyles.getStyleByName(this.defaultStyle));\n            if (styleDefinition.backgroundColor) {\n                var bgColor = (0, utils_1.stringToCssColor)(styleDefinition.backgroundColor);\n                if (bgColor) {\n                    this.renderedElement.style.backgroundColor = bgColor;\n                }\n            }\n        }\n    };\n    TableRow.prototype.getCollectionPropertyName = function () {\n        return \"cells\";\n    };\n    TableRow.prototype.createItemInstance = function (typeName) {\n        return !typeName || typeName === \"TableCell\" ? new TableCell() : undefined;\n    };\n    TableRow.prototype.internalRender = function () {\n        var isFirstRow = this.getIsFirstRow();\n        var cellSpacing = this.hostConfig.table.cellSpacing;\n        var rowElement = document.createElement(\"div\");\n        rowElement.setAttribute(\"role\", \"row\");\n        rowElement.style.display = \"flex\";\n        rowElement.style.flexDirection = \"row\";\n        for (var i = 0; i < Math.min(this.getItemCount(), this.parentTable.getColumnCount()); i++) {\n            var cell = this.getItemAt(i);\n            // Cheating a bit in order to keep cellType read-only\n            cell[\"_columnIndex\"] = i;\n            cell[\"_cellType\"] =\n                this.parentTable.firstRowAsHeaders && isFirstRow ? \"header\" : \"data\";\n            var renderedCell = cell.render();\n            if (renderedCell) {\n                var column = this.parentTable.getColumnAt(i);\n                if (column.computedWidth.unit === enums_1.SizeUnit.Pixel) {\n                    renderedCell.style.flex = \"0 0 \" + column.computedWidth.physicalSize + \"px\";\n                }\n                else {\n                    renderedCell.style.flex = \"1 1 \" + column.computedWidth.physicalSize + \"%\";\n                }\n                if (i > 0 && !this.parentTable.showGridLines && cellSpacing > 0) {\n                    renderedCell.style.marginLeft = cellSpacing + \"px\";\n                }\n                rowElement.appendChild(renderedCell);\n            }\n        }\n        return rowElement.children.length > 0 ? rowElement : undefined;\n    };\n    TableRow.prototype.shouldSerialize = function (_context) {\n        return true;\n    };\n    TableRow.prototype.addCell = function (cell) {\n        this.internalAddItem(cell);\n    };\n    TableRow.prototype.removeCellAt = function (columnIndex) {\n        if (columnIndex >= 0 && columnIndex < this.getItemCount()) {\n            return this.removeItem(this.getItemAt(columnIndex));\n        }\n        return false;\n    };\n    TableRow.prototype.indexOf = function (cardElement) {\n        return cardElement instanceof TableCell ? this.internalIndexOf(cardElement) : -1;\n    };\n    TableRow.prototype.ensureHasEnoughCells = function (cellCount) {\n        while (this.getItemCount() < cellCount) {\n            this.addCell(new TableCell());\n        }\n    };\n    TableRow.prototype.getJsonTypeName = function () {\n        return \"TableRow\";\n    };\n    TableRow.prototype.getIsFirstRow = function () {\n        return this.parentTable.getItemAt(0) === this;\n    };\n    Object.defineProperty(TableRow.prototype, \"parentTable\", {\n        get: function () {\n            return this.parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TableRow.prototype, \"isStandalone\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#region Schema\n    TableRow.styleProperty = new card_elements_1.ContainerStyleProperty(serialization_1.Versions.v1_5, \"style\");\n    TableRow.horizontalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"horizontalCellContentAlignment\", enums_1.HorizontalAlignment);\n    TableRow.verticalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"verticalCellContentAlignment\", enums_1.VerticalAlignment);\n    __decorate([\n        (0, serialization_1.property)(TableRow.horizontalCellContentAlignmentProperty)\n    ], TableRow.prototype, \"horizontalCellContentAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(TableRow.verticalCellContentAlignmentProperty)\n    ], TableRow.prototype, \"verticalCellContentAlignment\", void 0);\n    return TableRow;\n}(StylableContainer));\nexports.TableRow = TableRow;\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        //#region Schema\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._columns = [];\n        _this.firstRowAsHeaders = true;\n        _this.showGridLines = true;\n        return _this;\n    }\n    Object.defineProperty(Table.prototype, \"gridStyle\", {\n        get: function () {\n            var style = this.getValue(Table.gridStyleProperty);\n            if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n                return style;\n            }\n            return undefined;\n        },\n        set: function (value) {\n            this.setValue(Table.gridStyleProperty, value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    //#endregion\n    Table.prototype.ensureRowsHaveEnoughCells = function () {\n        for (var i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).ensureHasEnoughCells(this.getColumnCount());\n        }\n    };\n    Table.prototype.removeCellsFromColumn = function (columnIndex) {\n        for (var i = 0; i < this.getItemCount(); i++) {\n            this.getItemAt(i).removeCellAt(columnIndex);\n        }\n    };\n    Table.prototype.getCollectionPropertyName = function () {\n        return \"rows\";\n    };\n    Table.prototype.createItemInstance = function (typeName) {\n        return !typeName || typeName === \"TableRow\" ? new TableRow() : undefined;\n    };\n    Table.prototype.internalParse = function (source, context) {\n        _super.prototype.internalParse.call(this, source, context);\n        this.ensureRowsHaveEnoughCells();\n    };\n    Table.prototype.internalRender = function () {\n        if (this.getItemCount() > 0) {\n            var totalWeights = 0;\n            for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column.width.unit === enums_1.SizeUnit.Weight) {\n                    totalWeights += column.width.physicalSize;\n                }\n            }\n            for (var _b = 0, _c = this._columns; _b < _c.length; _b++) {\n                var column = _c[_b];\n                if (column.width.unit === enums_1.SizeUnit.Pixel) {\n                    column.computedWidth = new shared_1.SizeAndUnit(column.width.physicalSize, enums_1.SizeUnit.Pixel);\n                }\n                else {\n                    column.computedWidth = new shared_1.SizeAndUnit((100 / totalWeights) * column.width.physicalSize, enums_1.SizeUnit.Weight);\n                }\n            }\n            var tableElement = document.createElement(\"div\");\n            tableElement.setAttribute(\"role\", \"table\");\n            tableElement.style.display = \"flex\";\n            tableElement.style.flexDirection = \"column\";\n            if (this.showGridLines) {\n                var styleDefinition = this.hostConfig.containerStyles.getStyleByName(this.gridStyle);\n                if (styleDefinition.borderColor) {\n                    var borderColor = (0, utils_1.stringToCssColor)(styleDefinition.borderColor);\n                    if (borderColor) {\n                        tableElement.style.borderTop = \"1px solid \" + borderColor;\n                        tableElement.style.borderLeft = \"1px solid \" + borderColor;\n                    }\n                }\n            }\n            var cellSpacing = this.hostConfig.table.cellSpacing;\n            for (var i = 0; i < this.getItemCount(); i++) {\n                var renderedRow = this.getItemAt(i).render();\n                if (renderedRow) {\n                    if (i > 0 && !this.showGridLines && cellSpacing > 0) {\n                        var separatorRow = document.createElement(\"div\");\n                        separatorRow.setAttribute(\"aria-hidden\", \"true\");\n                        separatorRow.style.height = cellSpacing + \"px\";\n                        tableElement.appendChild(separatorRow);\n                    }\n                    tableElement.appendChild(renderedRow);\n                }\n            }\n            return tableElement;\n        }\n        return undefined;\n    };\n    Table.prototype.addColumn = function (column) {\n        this._columns.push(column);\n        this.ensureRowsHaveEnoughCells();\n    };\n    Table.prototype.removeColumn = function (column) {\n        var index = this._columns.indexOf(column);\n        if (index >= 0) {\n            this.removeCellsFromColumn(index);\n            this._columns.splice(index, 1);\n        }\n    };\n    Table.prototype.getColumnCount = function () {\n        return this._columns.length;\n    };\n    Table.prototype.getColumnAt = function (index) {\n        return this._columns[index];\n    };\n    Table.prototype.addRow = function (row) {\n        this.internalAddItem(row);\n        row.ensureHasEnoughCells(this.getColumnCount());\n    };\n    Table.prototype.indexOf = function (cardElement) {\n        return cardElement instanceof TableRow ? this.internalIndexOf(cardElement) : -1;\n    };\n    Table.prototype.getJsonTypeName = function () {\n        return \"Table\";\n    };\n    Table._columnsProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_5, \"columns\", TableColumnDefinition);\n    Table.firstRowAsHeadersProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_5, \"firstRowAsHeaders\", true);\n    Table.showGridLinesProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_5, \"showGridLines\", true);\n    Table.gridStyleProperty = new card_elements_1.ContainerStyleProperty(serialization_1.Versions.v1_5, \"gridStyle\");\n    Table.horizontalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"horizontalCellContentAlignment\", enums_1.HorizontalAlignment);\n    Table.verticalCellContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_5, \"verticalCellContentAlignment\", enums_1.VerticalAlignment);\n    __decorate([\n        (0, serialization_1.property)(Table._columnsProperty)\n    ], Table.prototype, \"_columns\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Table.firstRowAsHeadersProperty)\n    ], Table.prototype, \"firstRowAsHeaders\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Table.showGridLinesProperty)\n    ], Table.prototype, \"showGridLines\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Table.gridStyleProperty)\n    ], Table.prototype, \"gridStyle\", null);\n    __decorate([\n        (0, serialization_1.property)(Table.horizontalCellContentAlignmentProperty)\n    ], Table.prototype, \"horizontalCellContentAlignment\", void 0);\n    __decorate([\n        (0, serialization_1.property)(Table.verticalCellContentAlignmentProperty)\n    ], Table.prototype, \"verticalCellContentAlignment\", void 0);\n    return Table;\n}(StylableContainer));\nexports.Table = Table;\nregistry_1.GlobalRegistry.defaultElements.register(\"Table\", Table, serialization_1.Versions.v1_5);\n//# sourceMappingURL=table.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChannelAdapter = void 0;\nvar ChannelAdapter = /** @class */ (function () {\n    function ChannelAdapter() {\n    }\n    return ChannelAdapter;\n}());\nexports.ChannelAdapter = ChannelAdapter;\n//# sourceMappingURL=channel-adapter.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LoginRequestResponse = exports.ErrorResponse = exports.SuccessResponse = exports.ActivityResponse = exports.ActivityRequestError = exports.ActivityRequestTrigger = void 0;\nvar ActivityRequestTrigger;\n(function (ActivityRequestTrigger) {\n    ActivityRequestTrigger[\"Automatic\"] = \"automatic\";\n    ActivityRequestTrigger[\"Manual\"] = \"manual\";\n})(ActivityRequestTrigger = exports.ActivityRequestTrigger || (exports.ActivityRequestTrigger = {}));\nvar ActivityRequestError = /** @class */ (function () {\n    function ActivityRequestError(code, message) {\n        this.code = code;\n        this.message = message;\n    }\n    return ActivityRequestError;\n}());\nexports.ActivityRequestError = ActivityRequestError;\nvar ActivityResponse = /** @class */ (function () {\n    function ActivityResponse(request) {\n        this.request = request;\n    }\n    return ActivityResponse;\n}());\nexports.ActivityResponse = ActivityResponse;\nvar SuccessResponse = /** @class */ (function (_super) {\n    __extends(SuccessResponse, _super);\n    function SuccessResponse(request, rawContent) {\n        var _this = _super.call(this, request) || this;\n        _this.request = request;\n        _this.rawContent = rawContent;\n        return _this;\n    }\n    return SuccessResponse;\n}(ActivityResponse));\nexports.SuccessResponse = SuccessResponse;\nvar ErrorResponse = /** @class */ (function (_super) {\n    __extends(ErrorResponse, _super);\n    function ErrorResponse(request, error) {\n        var _this = _super.call(this, request) || this;\n        _this.request = request;\n        _this.error = error;\n        return _this;\n    }\n    return ErrorResponse;\n}(ActivityResponse));\nexports.ErrorResponse = ErrorResponse;\nvar LoginRequestResponse = /** @class */ (function (_super) {\n    __extends(LoginRequestResponse, _super);\n    function LoginRequestResponse(request, auth) {\n        var _this = _super.call(this, request) || this;\n        _this.request = request;\n        _this._auth = auth;\n        for (var _i = 0, _a = _this._auth.buttons; _i < _a.length; _i++) {\n            var button = _a[_i];\n            if (button.type === \"signin\" && button.value !== undefined) {\n                try {\n                    new URL(button.value);\n                    _this.signinButton = button;\n                    break;\n                }\n                catch (e) {\n                    // Ignore parsing error\n                }\n            }\n        }\n        return _this;\n    }\n    Object.defineProperty(LoginRequestResponse.prototype, \"tokenExchangeResource\", {\n        get: function () {\n            return this._auth.tokenExchangeResource;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return LoginRequestResponse;\n}(ActivityResponse));\nexports.LoginRequestResponse = LoginRequestResponse;\n//# sourceMappingURL=activity-request.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AdaptiveApplet = void 0;\n// Copyright (C) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar Utils = require(\"./utils\");\nvar shared_1 = require(\"./shared\");\nvar activity_request_1 = require(\"./activity-request\");\nvar strings_1 = require(\"./strings\");\nvar card_elements_1 = require(\"./card-elements\");\nvar serialization_1 = require(\"./serialization\");\nfunction logEvent(level, message) {\n    var optionalParams = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        optionalParams[_i - 2] = arguments[_i];\n    }\n    if (shared_1.GlobalSettings.applets.logEnabled) {\n        if (shared_1.GlobalSettings.applets.onLogEvent) {\n            shared_1.GlobalSettings.applets.onLogEvent(level, message, optionalParams);\n        }\n        else {\n            /* eslint-disable no-console */\n            switch (level) {\n                case Enums.LogLevel.Warning:\n                    console.warn(message, optionalParams);\n                    break;\n                case Enums.LogLevel.Error:\n                    console.error(message, optionalParams);\n                    break;\n                default:\n                    console.log(message, optionalParams);\n                    break;\n            }\n            /* eslint-enable no-console */\n        }\n    }\n}\nvar ActivityRequest = /** @class */ (function () {\n    function ActivityRequest(action, trigger, consecutiveRefreshes) {\n        this.action = action;\n        this.trigger = trigger;\n        this.consecutiveRefreshes = consecutiveRefreshes;\n        this.attemptNumber = 0;\n    }\n    // eslint-disable-next-line @typescript-eslint/require-await\n    ActivityRequest.prototype.retryAsync = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (this.onSend) {\n                    this.onSend(this);\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    return ActivityRequest;\n}());\nvar AdaptiveApplet = /** @class */ (function () {\n    function AdaptiveApplet() {\n        this._allowAutomaticCardUpdate = false;\n        this.renderedElement = document.createElement(\"div\");\n        this.renderedElement.className = \"aaf-cardHost\";\n        this.renderedElement.style.position = \"relative\";\n        this.renderedElement.style.display = \"flex\";\n        this.renderedElement.style.flexDirection = \"column\";\n        this._cardHostElement = document.createElement(\"div\");\n        this._refreshButtonHostElement = document.createElement(\"div\");\n        this._refreshButtonHostElement.className = \"aaf-refreshButtonHost\";\n        this._refreshButtonHostElement.style.display = \"none\";\n        this.renderedElement.appendChild(this._cardHostElement);\n        this.renderedElement.appendChild(this._refreshButtonHostElement);\n    }\n    AdaptiveApplet.prototype.displayCard = function (card) {\n        if (card.renderedElement) {\n            Utils.clearElementChildren(this._cardHostElement);\n            this._refreshButtonHostElement.style.display = \"none\";\n            this._cardHostElement.appendChild(card.renderedElement);\n        }\n        else {\n            throw new Error(\"displayCard: undefined card.\");\n        }\n    };\n    AdaptiveApplet.prototype.showManualRefreshButton = function (refreshAction) {\n        var _this = this;\n        var displayBuiltInManualRefreshButton = this.onShowManualRefreshButton\n            ? this.onShowManualRefreshButton(this)\n            : true;\n        if (displayBuiltInManualRefreshButton) {\n            this._refreshButtonHostElement.style.display = \"none\";\n            var renderedRefreshButton = undefined;\n            if (this.onRenderManualRefreshButton) {\n                renderedRefreshButton = this.onRenderManualRefreshButton(this);\n            }\n            else {\n                var message = strings_1.Strings.runtime.refreshThisCard();\n                if (shared_1.GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Automatic) {\n                    var autoRefreshPausedMessage = strings_1.Strings.runtime.automaticRefreshPaused();\n                    if (autoRefreshPausedMessage[autoRefreshPausedMessage.length - 1] !== \" \") {\n                        autoRefreshPausedMessage += \" \";\n                    }\n                    message = strings_1.Strings.runtime.clckToRestartAutomaticRefresh();\n                }\n                var cardPayload = {\n                    type: \"AdaptiveCard\",\n                    version: \"1.2\",\n                    body: [\n                        {\n                            type: \"RichTextBlock\",\n                            horizontalAlignment: \"right\",\n                            inlines: [\n                                {\n                                    type: \"TextRun\",\n                                    text: message,\n                                    selectAction: {\n                                        type: \"Action.Submit\",\n                                        id: \"refreshCard\"\n                                    }\n                                }\n                            ]\n                        }\n                    ]\n                };\n                var card = new card_elements_1.AdaptiveCard();\n                card.parse(cardPayload, new card_elements_1.SerializationContext(serialization_1.Versions.v1_2));\n                card.onExecuteAction = function (action) {\n                    if (action.id === \"refreshCard\") {\n                        Utils.clearElementChildren(_this._refreshButtonHostElement);\n                        _this.internalExecuteAction(refreshAction, activity_request_1.ActivityRequestTrigger.Automatic, 0);\n                    }\n                };\n                renderedRefreshButton = card.render();\n            }\n            if (renderedRefreshButton) {\n                Utils.clearElementChildren(this._refreshButtonHostElement);\n                this._refreshButtonHostElement.appendChild(renderedRefreshButton);\n                this._refreshButtonHostElement.style.removeProperty(\"display\");\n            }\n        }\n    };\n    AdaptiveApplet.prototype.createActivityRequest = function (action, trigger, consecutiveRefreshes) {\n        var _this = this;\n        if (this.card) {\n            var request_1 = new ActivityRequest(action, trigger, consecutiveRefreshes);\n            request_1.onSend = function (sender) {\n                sender.attemptNumber++;\n                void _this.internalSendActivityRequestAsync(request_1);\n            };\n            var cancel = this.onPrepareActivityRequest\n                ? !this.onPrepareActivityRequest(this, request_1, action)\n                : false;\n            return cancel ? undefined : request_1;\n        }\n        else {\n            throw new Error(\"createActivityRequest: no card has been set.\");\n        }\n    };\n    AdaptiveApplet.prototype.createMagicCodeInputCard = function (attemptNumber) {\n        var payload = {\n            type: \"AdaptiveCard\",\n            version: \"1.0\",\n            body: [\n                {\n                    type: \"TextBlock\",\n                    color: \"attention\",\n                    text: attemptNumber === 1 ? undefined : \"That didn't work... let's try again.\",\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"TextBlock\",\n                    text: 'Please login in the popup. You will obtain a magic code. Paste that code below and select \"Submit\"',\n                    wrap: true,\n                    horizontalAlignment: \"center\"\n                },\n                {\n                    type: \"Input.Text\",\n                    id: \"magicCode\",\n                    placeholder: \"Enter magic code\"\n                },\n                {\n                    type: \"ActionSet\",\n                    horizontalAlignment: \"center\",\n                    actions: [\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._submitMagicCodeActionId,\n                            title: \"Submit\"\n                        },\n                        {\n                            type: \"Action.Submit\",\n                            id: AdaptiveApplet._cancelMagicCodeAuthActionId,\n                            title: \"Cancel\"\n                        }\n                    ]\n                }\n            ]\n        };\n        var card = new card_elements_1.AdaptiveCard();\n        card.parse(payload);\n        return card;\n    };\n    AdaptiveApplet.prototype.cancelAutomaticRefresh = function () {\n        if (this._allowAutomaticCardUpdate) {\n            logEvent(Enums.LogLevel.Warning, \"Automatic card refresh has been cancelled as a result of the user interacting with the card.\");\n        }\n        this._allowAutomaticCardUpdate = false;\n    };\n    AdaptiveApplet.prototype.createSerializationContext = function () {\n        return this.onCreateSerializationContext\n            ? this.onCreateSerializationContext(this)\n            : new card_elements_1.SerializationContext();\n    };\n    AdaptiveApplet.prototype.internalSetCard = function (payload, consecutiveRefreshes) {\n        var _this = this;\n        if (typeof payload === \"object\" && payload[\"type\"] === \"AdaptiveCard\") {\n            this._cardPayload = payload;\n        }\n        if (this._cardPayload) {\n            try {\n                var card = new card_elements_1.AdaptiveCard();\n                if (this.hostConfig) {\n                    card.hostConfig = this.hostConfig;\n                }\n                var serializationContext = this.createSerializationContext();\n                card.parse(this._cardPayload, serializationContext);\n                var doChangeCard = this.onCardChanging\n                    ? this.onCardChanging(this, this._cardPayload)\n                    : true;\n                if (doChangeCard) {\n                    this._card = card;\n                    if (this._card.authentication &&\n                        this._card.authentication.tokenExchangeResource &&\n                        this.onPrefetchSSOToken) {\n                        this.onPrefetchSSOToken(this, this._card.authentication.tokenExchangeResource);\n                    }\n                    this._card.onExecuteAction = function (action) {\n                        // If the user takes an action, cancel any pending automatic refresh\n                        _this.cancelAutomaticRefresh();\n                        _this.internalExecuteAction(action, activity_request_1.ActivityRequestTrigger.Manual, 0);\n                    };\n                    this._card.onInputValueChanged = function (_input) {\n                        // If the user modifies an input, cancel any pending automatic refresh\n                        _this.cancelAutomaticRefresh();\n                    };\n                    this._card.render();\n                    if (this._card.renderedElement) {\n                        this.displayCard(this._card);\n                        if (this.onCardChanged) {\n                            this.onCardChanged(this);\n                        }\n                        if (this._card.refresh) {\n                            if (shared_1.GlobalSettings.applets.refresh.mode ===\n                                Enums.RefreshMode.Automatic &&\n                                consecutiveRefreshes <\n                                    shared_1.GlobalSettings.applets.refresh\n                                        .maximumConsecutiveAutomaticRefreshes) {\n                                if (shared_1.GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes <=\n                                    0) {\n                                    logEvent(Enums.LogLevel.Info, \"Triggering automatic card refresh number \" +\n                                        (consecutiveRefreshes + 1));\n                                    this.internalExecuteAction(this._card.refresh.action, activity_request_1.ActivityRequestTrigger.Automatic, consecutiveRefreshes + 1);\n                                }\n                                else {\n                                    logEvent(Enums.LogLevel.Info, \"Scheduling automatic card refresh number \" +\n                                        (consecutiveRefreshes + 1) +\n                                        \" in \" +\n                                        shared_1.GlobalSettings.applets.refresh\n                                            .timeBetweenAutomaticRefreshes +\n                                        \"ms\");\n                                    var action_1 = this._card.refresh.action;\n                                    this._allowAutomaticCardUpdate = true;\n                                    window.setTimeout(function () {\n                                        if (_this._allowAutomaticCardUpdate) {\n                                            _this.internalExecuteAction(action_1, activity_request_1.ActivityRequestTrigger.Automatic, consecutiveRefreshes + 1);\n                                        }\n                                    }, shared_1.GlobalSettings.applets.refresh.timeBetweenAutomaticRefreshes);\n                                }\n                            }\n                            else if (shared_1.GlobalSettings.applets.refresh.mode !== Enums.RefreshMode.Disabled) {\n                                if (consecutiveRefreshes > 0) {\n                                    logEvent(Enums.LogLevel.Warning, \"Stopping automatic refreshes after \" +\n                                        consecutiveRefreshes +\n                                        \" consecutive refreshes.\");\n                                }\n                                else {\n                                    logEvent(Enums.LogLevel.Warning, \"The card has a refresh section, but automatic refreshes are disabled.\");\n                                }\n                                if (shared_1.GlobalSettings.applets.refresh\n                                    .allowManualRefreshesAfterAutomaticRefreshes ||\n                                    shared_1.GlobalSettings.applets.refresh.mode === Enums.RefreshMode.Manual) {\n                                    logEvent(Enums.LogLevel.Info, \"Showing manual refresh button.\");\n                                    this.showManualRefreshButton(this._card.refresh.action);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            catch (error) {\n                // Ignore all errors\n                logEvent(Enums.LogLevel.Error, \"setCard: \" + error);\n            }\n        }\n    };\n    AdaptiveApplet.prototype.internalExecuteAction = function (action, trigger, consecutiveRefreshes) {\n        if (action instanceof card_elements_1.ExecuteAction) {\n            if (this.channelAdapter) {\n                var request = this.createActivityRequest(action, trigger, consecutiveRefreshes);\n                if (request) {\n                    void request.retryAsync();\n                }\n            }\n            else {\n                throw new Error(\"internalExecuteAction: No channel adapter set.\");\n            }\n        }\n        if (this.onAction) {\n            this.onAction(this, action);\n        }\n    };\n    AdaptiveApplet.prototype.createProgressOverlay = function (request) {\n        if (!this._progressOverlay) {\n            if (this.onCreateProgressOverlay) {\n                this._progressOverlay = this.onCreateProgressOverlay(this, request);\n            }\n            else {\n                this._progressOverlay = document.createElement(\"div\");\n                this._progressOverlay.className = \"aaf-progress-overlay\";\n                var spinner = document.createElement(\"div\");\n                spinner.className = \"aaf-spinner\";\n                spinner.style.width = \"28px\";\n                spinner.style.height = \"28px\";\n                this._progressOverlay.appendChild(spinner);\n            }\n        }\n        return this._progressOverlay;\n    };\n    AdaptiveApplet.prototype.removeProgressOverlay = function (request) {\n        if (this.onRemoveProgressOverlay) {\n            this.onRemoveProgressOverlay(this, request);\n        }\n        if (this._progressOverlay !== undefined) {\n            this.renderedElement.removeChild(this._progressOverlay);\n            this._progressOverlay = undefined;\n        }\n    };\n    AdaptiveApplet.prototype.activityRequestSucceeded = function (response, parsedContent) {\n        if (this.onActivityRequestSucceeded) {\n            this.onActivityRequestSucceeded(this, response, parsedContent);\n        }\n    };\n    AdaptiveApplet.prototype.activityRequestFailed = function (response) {\n        return this.onActivityRequestFailed\n            ? this.onActivityRequestFailed(this, response)\n            : shared_1.GlobalSettings.applets.defaultTimeBetweenRetryAttempts;\n    };\n    AdaptiveApplet.prototype.showAuthCodeInputDialog = function (request) {\n        var _this = this;\n        var showBuiltInAuthCodeInputCard = this.onShowAuthCodeInputDialog\n            ? this.onShowAuthCodeInputDialog(this, request)\n            : true;\n        if (showBuiltInAuthCodeInputCard) {\n            var authCodeInputCard = this.createMagicCodeInputCard(request.attemptNumber);\n            authCodeInputCard.render();\n            authCodeInputCard.onExecuteAction = function (submitMagicCodeAction) {\n                if (_this.card && submitMagicCodeAction instanceof card_elements_1.SubmitAction) {\n                    switch (submitMagicCodeAction.id) {\n                        case AdaptiveApplet._submitMagicCodeActionId:\n                            var authCode = undefined;\n                            if (submitMagicCodeAction.data &&\n                                typeof submitMagicCodeAction.data[\"magicCode\"] === \"string\") {\n                                authCode = submitMagicCodeAction.data[\"magicCode\"];\n                            }\n                            if (authCode) {\n                                _this.displayCard(_this.card);\n                                request.authCode = authCode;\n                                void request.retryAsync();\n                            }\n                            else {\n                                alert(\"Please enter the magic code you received.\");\n                            }\n                            break;\n                        case AdaptiveApplet._cancelMagicCodeAuthActionId:\n                            logEvent(Enums.LogLevel.Warning, \"Authentication cancelled by user.\");\n                            _this.displayCard(_this.card);\n                            break;\n                        default:\n                            logEvent(Enums.LogLevel.Error, \"Unexpected action taken from magic code input card (id = \" +\n                                submitMagicCodeAction.id +\n                                \")\");\n                            alert(strings_1.Strings.magicCodeInputCard.somethingWentWrong());\n                            break;\n                    }\n                }\n            };\n            this.displayCard(authCodeInputCard);\n        }\n    };\n    AdaptiveApplet.prototype.internalSendActivityRequestAsync = function (request) {\n        return __awaiter(this, void 0, void 0, function () {\n            var overlay, done, _loop_1, this_1, state_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.channelAdapter) {\n                            throw new Error(\"internalSendActivityRequestAsync: channelAdapter is not set.\");\n                        }\n                        overlay = this.createProgressOverlay(request);\n                        if (overlay !== undefined) {\n                            this.renderedElement.appendChild(overlay);\n                        }\n                        done = false;\n                        _loop_1 = function () {\n                            var response, error_1, parsedContent, retryIn_1, attemptOAuth, left, top_1;\n                            return __generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0:\n                                        response = undefined;\n                                        if (request.attemptNumber === 1) {\n                                            logEvent(Enums.LogLevel.Info, \"Sending activity request to channel (attempt \" + request.attemptNumber + \")\");\n                                        }\n                                        else {\n                                            logEvent(Enums.LogLevel.Info, \"Re-sending activity request to channel (attempt \" + request.attemptNumber + \")\");\n                                        }\n                                        _b.label = 1;\n                                    case 1:\n                                        _b.trys.push([1, 3, , 4]);\n                                        return [4 /*yield*/, this_1.channelAdapter.sendRequestAsync(request)];\n                                    case 2:\n                                        response = _b.sent();\n                                        return [3 /*break*/, 4];\n                                    case 3:\n                                        error_1 = _b.sent();\n                                        logEvent(Enums.LogLevel.Error, \"Activity request failed: \" + error_1);\n                                        this_1.removeProgressOverlay(request);\n                                        done = true;\n                                        return [3 /*break*/, 4];\n                                    case 4:\n                                        if (!response) return [3 /*break*/, 10];\n                                        if (!(response instanceof activity_request_1.SuccessResponse)) return [3 /*break*/, 5];\n                                        this_1.removeProgressOverlay(request);\n                                        if (response.rawContent === undefined) {\n                                            throw new Error(\"internalSendActivityRequestAsync: Action.Execute result is undefined\");\n                                        }\n                                        parsedContent = response.rawContent;\n                                        try {\n                                            parsedContent = JSON.parse(response.rawContent);\n                                        }\n                                        catch (_c) {\n                                            // Leave parseContent as is\n                                        }\n                                        if (typeof parsedContent === \"string\") {\n                                            logEvent(Enums.LogLevel.Info, \"The activity request returned a string after \" +\n                                                request.attemptNumber +\n                                                \" attempt(s).\");\n                                            this_1.activityRequestSucceeded(response, parsedContent);\n                                        }\n                                        else if (typeof parsedContent === \"object\" &&\n                                            parsedContent[\"type\"] === \"AdaptiveCard\") {\n                                            logEvent(Enums.LogLevel.Info, \"The activity request returned an Adaptive Card after \" +\n                                                request.attemptNumber +\n                                                \" attempt(s).\");\n                                            this_1.internalSetCard(parsedContent, request.consecutiveRefreshes);\n                                            this_1.activityRequestSucceeded(response, this_1.card);\n                                        }\n                                        else {\n                                            throw new Error(\"internalSendActivityRequestAsync: Action.Execute result is of unsupported type (\" +\n                                                typeof response.rawContent +\n                                                \")\");\n                                        }\n                                        done = true;\n                                        return [3 /*break*/, 10];\n                                    case 5:\n                                        if (!(response instanceof activity_request_1.ErrorResponse)) return [3 /*break*/, 9];\n                                        retryIn_1 = this_1.activityRequestFailed(response);\n                                        if (!(retryIn_1 >= 0 &&\n                                            request.attemptNumber < shared_1.GlobalSettings.applets.maximumRetryAttempts)) return [3 /*break*/, 7];\n                                        logEvent(Enums.LogLevel.Warning, \"Activity request failed: \".concat(response.error.message, \". Retrying in \").concat(retryIn_1, \"ms\"));\n                                        request.attemptNumber++;\n                                        return [4 /*yield*/, new Promise(function (resolve, _reject) {\n                                                window.setTimeout(function () {\n                                                    resolve();\n                                                }, retryIn_1);\n                                            })];\n                                    case 6:\n                                        _b.sent();\n                                        return [3 /*break*/, 8];\n                                    case 7:\n                                        logEvent(Enums.LogLevel.Error, \"Activity request failed: \".concat(response.error.message, \". Giving up after \").concat(request.attemptNumber, \" attempt(s)\"));\n                                        this_1.removeProgressOverlay(request);\n                                        done = true;\n                                        _b.label = 8;\n                                    case 8: return [3 /*break*/, 10];\n                                    case 9:\n                                        if (response instanceof activity_request_1.LoginRequestResponse) {\n                                            logEvent(Enums.LogLevel.Info, \"The activity request returned a LoginRequestResponse after \" +\n                                                request.attemptNumber +\n                                                \" attempt(s).\");\n                                            if (request.attemptNumber <= shared_1.GlobalSettings.applets.maximumRetryAttempts) {\n                                                attemptOAuth = true;\n                                                if (response.tokenExchangeResource && this_1.onSSOTokenNeeded) {\n                                                    // Attempt to use SSO. The host will return true if it can handle SSO, in which case\n                                                    // we bypass OAuth\n                                                    attemptOAuth = !this_1.onSSOTokenNeeded(this_1, request, response.tokenExchangeResource);\n                                                }\n                                                if (attemptOAuth) {\n                                                    // Attempt to use OAuth\n                                                    this_1.removeProgressOverlay(request);\n                                                    if (response.signinButton === undefined) {\n                                                        throw new Error(\"internalSendActivityRequestAsync: the login request doesn't contain a valid signin URL.\");\n                                                    }\n                                                    logEvent(Enums.LogLevel.Info, \"Login required at \" + response.signinButton.value);\n                                                    if (this_1.onShowSigninPrompt) {\n                                                        // Bypass the built-in auth prompt if the host app handles it\n                                                        this_1.onShowSigninPrompt(this_1, request, response.signinButton);\n                                                    }\n                                                    else {\n                                                        this_1.showAuthCodeInputDialog(request);\n                                                        left = window.screenX +\n                                                            (window.outerWidth - shared_1.GlobalSettings.applets.authPromptWidth) /\n                                                                2;\n                                                        top_1 = window.screenY +\n                                                            (window.outerHeight - shared_1.GlobalSettings.applets.authPromptHeight) /\n                                                                2;\n                                                        window.open(response.signinButton.value, response.signinButton.title\n                                                            ? response.signinButton.title\n                                                            : \"Sign in\", \"width=\".concat(shared_1.GlobalSettings.applets.authPromptWidth, \",height=\").concat(shared_1.GlobalSettings.applets.authPromptHeight, \",left=\").concat(left, \",top=\").concat(top_1));\n                                                    }\n                                                }\n                                            }\n                                            else {\n                                                logEvent(Enums.LogLevel.Error, \"Authentication failed. Giving up after \" +\n                                                    request.attemptNumber +\n                                                    \" attempt(s)\");\n                                                alert(strings_1.Strings.magicCodeInputCard.authenticationFailed());\n                                            }\n                                            return [2 /*return*/, \"break\"];\n                                        }\n                                        else {\n                                            throw new Error(\"Unhandled response type: \" + JSON.stringify(response));\n                                        }\n                                        _b.label = 10;\n                                    case 10: return [2 /*return*/];\n                                }\n                            });\n                        };\n                        this_1 = this;\n                        _a.label = 1;\n                    case 1:\n                        if (!!done) return [3 /*break*/, 3];\n                        return [5 /*yield**/, _loop_1()];\n                    case 2:\n                        state_1 = _a.sent();\n                        if (state_1 === \"break\")\n                            return [3 /*break*/, 3];\n                        return [3 /*break*/, 1];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AdaptiveApplet.prototype.refreshCard = function () {\n        if (this._card && this._card.refresh) {\n            this.internalExecuteAction(this._card.refresh.action, activity_request_1.ActivityRequestTrigger.Manual, 0);\n        }\n    };\n    AdaptiveApplet.prototype.setCard = function (payload) {\n        this.internalSetCard(payload, 0);\n    };\n    Object.defineProperty(AdaptiveApplet.prototype, \"card\", {\n        get: function () {\n            return this._card;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AdaptiveApplet._submitMagicCodeActionId = \"submitMagicCode\";\n    AdaptiveApplet._cancelMagicCodeAuthActionId = \"cancelMagicCodeAuth\";\n    return AdaptiveApplet;\n}());\nexports.AdaptiveApplet = AdaptiveApplet;\n//# sourceMappingURL=adaptive-applet.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\n__exportStar(require(\"./strings\"), exports);\n__exportStar(require(\"./enums\"), exports);\n__exportStar(require(\"./shared\"), exports);\n__exportStar(require(\"./utils\"), exports);\n__exportStar(require(\"./serialization\"), exports);\n__exportStar(require(\"./host-capabilities\"), exports);\n__exportStar(require(\"./host-config\"), exports);\n__exportStar(require(\"./registry\"), exports);\n__exportStar(require(\"./card-object\"), exports);\n__exportStar(require(\"./card-elements\"), exports);\n__exportStar(require(\"./carousel\"), exports);\n__exportStar(require(\"./table\"), exports);\n__exportStar(require(\"./channel-adapter\"), exports);\n__exportStar(require(\"./activity-request\"), exports);\n__exportStar(require(\"./adaptive-applet\"), exports);\n//# sourceMappingURL=adaptivecards.js.map",":host {\n  display: block;\n}\n.card {\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  background-color: white;\n  border-radius: 4px;\n  padding: 16px;\n  margin: 8px;\n}\n","import { Component, Prop, h } from '@stencil/core';\nimport * as AdaptiveCards from 'adaptivecards';\nimport '@esri/calcite-components'\n\n\n\n@Component({\n  tag: 'hub-layout-card',\n  styleUrl: 'hub-layout-card.css',\n  shadow: true,\n})\nexport class CardComponent {\n  @Prop() config: any;\n  cardElement: HTMLElement;\n\n  componentDidLoad() {\n    const adaptiveCard = new AdaptiveCards.AdaptiveCard();\n    adaptiveCard.parse(this.config);\n    const renderedCard = adaptiveCard.render();\n    this.cardElement.appendChild(renderedCard);\n  }\n\n  render() {\n    let content;\n    switch (this.config.type) {\n      case 'TextBlock':\n        content = <calcite-tip style={this.config.style}>{this.config.text}</calcite-tip>;\n        break;\n      case 'Image':\n        content = (\n          <calcite-card>\n            <img slot=\"thumbnail\" src={this.config.url} style={this.config.style} alt={this.config.text} />\n          </calcite-card>\n        );\n        break;\n      case 'Map':\n        content = (\n          <calcite-map\n            lat={this.config.lat}\n            lon={this.config.lon}\n            zoom={this.config.zoom}\n            style={this.config.style}\n          ></calcite-map>\n        );\n        break;\n      // Add more case statements for other card types like weather, survey, etc.\n    }\n\n    return <div class=\"card\" style={this.config.style}>{content}\n\n      <calcite-chip value={this.config.type}>\n        {this.config.type}\n      </calcite-chip>\n    </div>;\n  }\n}\n",":host {\n  display: block;\n}\n.section {\n  display: flex;\n  flex-direction: column;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'hub-layout-section',\n  styleUrl: 'hub-layout-section.css',\n  shadow: true,\n})\nexport class HubLayoutSection {\n  @Prop() config: any;\n\n  render() {\n    return (\n      <div class=\"section\" style={this.config.style}>\n        {this.config.cards.map((card) => (\n          <hub-layout-card config={card}></hub-layout-card>\n        ))}\n      </div>\n    );\n  }\n}\n"]}